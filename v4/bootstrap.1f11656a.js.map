{"version":3,"file":"bootstrap.1f11656a.js","sources":["../node_modules/core-js/internals/global.js","../node_modules/core-js/internals/fails.js","../node_modules/core-js/internals/descriptors.js","../node_modules/core-js/internals/object-property-is-enumerable.js","../node_modules/core-js/internals/create-property-descriptor.js","../node_modules/core-js/internals/classof-raw.js","../node_modules/core-js/internals/indexed-object.js","../node_modules/core-js/internals/to-indexed-object.js","../node_modules/core-js/internals/require-object-coercible.js","../node_modules/core-js/internals/is-object.js","../node_modules/core-js/internals/to-primitive.js","../node_modules/core-js/internals/has.js","../node_modules/core-js/internals/document-create-element.js","../node_modules/core-js/internals/ie8-dom-define.js","../node_modules/core-js/internals/object-get-own-property-descriptor.js","../node_modules/core-js/internals/an-object.js","../node_modules/core-js/internals/object-define-property.js","../node_modules/core-js/internals/create-non-enumerable-property.js","../node_modules/core-js/internals/set-global.js","../node_modules/core-js/internals/shared-store.js","../node_modules/core-js/internals/inspect-source.js","../node_modules/core-js/internals/internal-state.js","../node_modules/core-js/internals/shared-key.js","../node_modules/core-js/internals/native-weak-map.js","../node_modules/core-js/internals/shared.js","../node_modules/core-js/internals/uid.js","../node_modules/core-js/internals/hidden-keys.js","../node_modules/core-js/internals/task.js","../node_modules/core-js/internals/redefine.js","../node_modules/core-js/internals/path.js","../node_modules/core-js/internals/get-built-in.js","../node_modules/core-js/internals/to-integer.js","../node_modules/core-js/internals/to-length.js","../node_modules/core-js/internals/to-absolute-index.js","../node_modules/core-js/internals/array-includes.js","../node_modules/core-js/internals/object-keys-internal.js","../node_modules/core-js/internals/object-get-own-property-names.js","../node_modules/core-js/internals/enum-bug-keys.js","../node_modules/core-js/internals/object-get-own-property-symbols.js","../node_modules/core-js/internals/own-keys.js","../node_modules/core-js/internals/copy-constructor-properties.js","../node_modules/core-js/internals/is-forced.js","../node_modules/core-js/internals/export.js","../node_modules/core-js/internals/html.js","../node_modules/core-js/internals/engine-user-agent.js","../node_modules/core-js/internals/engine-is-ios.js","../node_modules/core-js/internals/function-bind-context.js","../node_modules/core-js/internals/a-function.js","../node_modules/core-js/modules/web.immediate.js","../node_modules/lit-html/lib/directive.js","../node_modules/lit-html/lib/dom.js","../node_modules/lit-html/lib/part.js","../node_modules/lit-html/lib/template.js","../node_modules/lit-html/lib/template-instance.js","../node_modules/lit-html/lib/template-result.js","../node_modules/lit-html/lib/parts.js","../node_modules/lit-html/lib/default-template-processor.js","../node_modules/lit-html/lib/template-factory.js","../node_modules/lit-html/lib/render.js","../node_modules/lit-html/lit-html.js","../node_modules/lit-html/lib/modify-template.js","../node_modules/lit-html/lib/shady-render.js","../node_modules/lit-element/lib/updating-element.js","../node_modules/lit-element/lib/css-tag.js","../node_modules/lit-element/lit-element.js","../node_modules/lit-html/directives/cache.js","../node_modules/@curi/router/node_modules/path-to-regexp/index.js","../node_modules/@curi/router/dist/curi-router.es.js","../node_modules/@hickory/location-utils/dist/hickory-location-utils.es.js","../node_modules/@hickory/root/dist/hickory-root.es.js","../node_modules/@hickory/dom-utils/dist/hickory-dom-utils.es.js","../node_modules/@hickory/browser/dist/hickory-browser.es.js","../node_modules/lit-translate/helpers.js","../node_modules/lit-translate/translate.js","../node_modules/lit-translate/config.js","../node_modules/lit-translate/cleanup.js","../node_modules/lit-translate/directive.js","../src/services/utils.js","../src/config/app.js","../src/services/http.js","../CONTENT_1:/home/runner/work/casl/casl/docs-src/src/lang","../src/services/i18n.js","../node_modules/minisearch/dist/es5m/index.js","../src/config/search.js","../src/services/content.js","../src/services/ContentType.js","../src/services/error.js","../CONTENT_2:/home/runner/work/casl/casl/docs-src/src/content/pages","../src/services/pageController.js","../src/services/oldUrls.js","../src/services/router.js","../node_modules/@curi/interactions/dist/curi-interactions.es.js","../src/config/routes.js","../node_modules/lit-html/directives/unsafe-html.js","../src/directives/i18n.js","../src/components/App.js","../src/hooks/watchMedia.js","../src/styles/grid.js","../src/components/AppRoot.js","../src/styles/md.js","../src/styles/page.js","../src/styles/btn.js","../src/styles/code.js","../src/components/AppFooter.js","../src/components/AppHeader.js","../src/assets/icons/menu.png","../src/components/AppLink.js","../src/components/AppMenu.js","../src/components/ArticleDetails.js","../src/components/I18nElement.js","../src/services/meta.js","../src/hooks/scrollToSection.js","../src/components/Page.js","../src/components/PageNav.js","../src/partials/caslFeatures.js","../src/components/HomePage.js","../src/assets/casl-shield.png","../node_modules/github-buttons/dist/buttons.esm.js","../src/components/GithubButton.js","../src/components/QuickSearch.js","../src/components/LangPicker.js","../src/components/OneTimeDonations.js","../src/assets/payment-options/liqpay.svg","../src/assets/payment-options/liqpay-qrcode.png","../src/components/PagesByCategories.js","../src/components/AppNotification.js","../node_modules/menu-drawer.js/dist/es5m/index.js","../src/components/MenuDrawer.js","../src/app.js","../src/serviceWorker.js","../src/bootstrap.js"],"sourcesContent":["var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.4',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","module.exports = {};\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (classof(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts && !fails(post)) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","exports.f = Object.getOwnPropertySymbols;\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar task = require('../internals/task');\n\nvar FORCED = !global.setImmediate || !global.clearImmediate;\n\n// http://w3c.github.io/setImmediate/\n$({ global: true, bind: true, enumerable: true, forced: FORCED }, {\n  // `setImmediate` method\n  // http://w3c.github.io/setImmediate/#si-setImmediate\n  setImmediate: task.set,\n  // `clearImmediate` method\n  // http://w3c.github.io/setImmediate/#si-clearImmediate\n  clearImmediate: task.clear\n});\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst directives = new WeakMap();\n/**\n * Brands a function as a directive factory function so that lit-html will call\n * the function during template rendering, rather than passing as a value.\n *\n * A _directive_ is a function that takes a Part as an argument. It has the\n * signature: `(part: Part) => void`.\n *\n * A directive _factory_ is a function that takes arguments for data and\n * configuration and returns a directive. Users of directive usually refer to\n * the directive factory as the directive. For example, \"The repeat directive\".\n *\n * Usually a template author will invoke a directive factory in their template\n * with relevant arguments, which will then return a directive function.\n *\n * Here's an example of using the `repeat()` directive factory that takes an\n * array and a function to render an item:\n *\n * ```js\n * html`<ul><${repeat(items, (item) => html`<li>${item}</li>`)}</ul>`\n * ```\n *\n * When `repeat` is invoked, it returns a directive function that closes over\n * `items` and the template function. When the outer template is rendered, the\n * return directive function is called with the Part for the expression.\n * `repeat` then performs it's custom logic to render multiple items.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object.\n *\n * @example\n *\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n */\nexport const directive = (f) => ((...args) => {\n    const d = f(...args);\n    directives.set(d, true);\n    return d;\n});\nexport const isDirective = (o) => {\n    return typeof o === 'function' && directives.has(o);\n};\n//# sourceMappingURL=directive.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * True if the custom elements polyfill is in use.\n */\nexport const isCEPolyfill = window.customElements !== undefined &&\n    window.customElements.polyfillWrapFlushCallback !==\n        undefined;\n/**\n * Reparents nodes, starting from `start` (inclusive) to `end` (exclusive),\n * into another container (could be the same container), before `before`. If\n * `before` is null, it appends the nodes to the container.\n */\nexport const reparentNodes = (container, start, end = null, before = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.insertBefore(start, before);\n        start = n;\n    }\n};\n/**\n * Removes nodes, starting from `start` (inclusive) to `end` (exclusive), from\n * `container`.\n */\nexport const removeNodes = (container, start, end = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.removeChild(start);\n        start = n;\n    }\n};\n//# sourceMappingURL=dom.js.map","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n/**\n * A sentinel value that signals a NodePart to fully clear its content.\n */\nexport const nothing = {};\n//# sourceMappingURL=part.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n/**\n * An updateable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n    constructor(result, element) {\n        this.parts = [];\n        this.element = element;\n        const nodesToRemove = [];\n        const stack = [];\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(element.content, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        // Keeps track of the last index associated with a part. We try to delete\n        // unnecessary nodes, but we never want to associate two different parts\n        // to the same index. They must have a constant node between.\n        let lastPartIndex = 0;\n        let index = -1;\n        let partIndex = 0;\n        const { strings, values: { length } } = result;\n        while (partIndex < length) {\n            const node = walker.nextNode();\n            if (node === null) {\n                // We've exhausted the content inside a nested template element.\n                // Because we still have parts (the outer for-loop), we know:\n                // - There is a template in the stack\n                // - The walker will find a nextNode outside the template\n                walker.currentNode = stack.pop();\n                continue;\n            }\n            index++;\n            if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n                if (node.hasAttributes()) {\n                    const attributes = node.attributes;\n                    const { length } = attributes;\n                    // Per\n                    // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n                    // attributes are not guaranteed to be returned in document order.\n                    // In particular, Edge/IE can return them out of order, so we cannot\n                    // assume a correspondence between part index and attribute index.\n                    let count = 0;\n                    for (let i = 0; i < length; i++) {\n                        if (endsWith(attributes[i].name, boundAttributeSuffix)) {\n                            count++;\n                        }\n                    }\n                    while (count-- > 0) {\n                        // Get the template literal section leading up to the first\n                        // expression in this attribute\n                        const stringForPart = strings[partIndex];\n                        // Find the attribute name\n                        const name = lastAttributeNameRegex.exec(stringForPart)[2];\n                        // Find the corresponding attribute\n                        // All bound attributes have had a suffix added in\n                        // TemplateResult#getHTML to opt out of special attribute\n                        // handling. To look up the attribute value we also need to add\n                        // the suffix.\n                        const attributeLookupName = name.toLowerCase() + boundAttributeSuffix;\n                        const attributeValue = node.getAttribute(attributeLookupName);\n                        node.removeAttribute(attributeLookupName);\n                        const statics = attributeValue.split(markerRegex);\n                        this.parts.push({ type: 'attribute', index, name, strings: statics });\n                        partIndex += statics.length - 1;\n                    }\n                }\n                if (node.tagName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n            }\n            else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n                const data = node.data;\n                if (data.indexOf(marker) >= 0) {\n                    const parent = node.parentNode;\n                    const strings = data.split(markerRegex);\n                    const lastIndex = strings.length - 1;\n                    // Generate a new text node for each literal section\n                    // These nodes are also used as the markers for node parts\n                    for (let i = 0; i < lastIndex; i++) {\n                        let insert;\n                        let s = strings[i];\n                        if (s === '') {\n                            insert = createMarker();\n                        }\n                        else {\n                            const match = lastAttributeNameRegex.exec(s);\n                            if (match !== null && endsWith(match[2], boundAttributeSuffix)) {\n                                s = s.slice(0, match.index) + match[1] +\n                                    match[2].slice(0, -boundAttributeSuffix.length) + match[3];\n                            }\n                            insert = document.createTextNode(s);\n                        }\n                        parent.insertBefore(insert, node);\n                        this.parts.push({ type: 'node', index: ++index });\n                    }\n                    // If there's no text, we must insert a comment to mark our place.\n                    // Else, we can trust it will stick around after cloning.\n                    if (strings[lastIndex] === '') {\n                        parent.insertBefore(createMarker(), node);\n                        nodesToRemove.push(node);\n                    }\n                    else {\n                        node.data = strings[lastIndex];\n                    }\n                    // We have a part for each match found\n                    partIndex += lastIndex;\n                }\n            }\n            else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n                if (node.data === marker) {\n                    const parent = node.parentNode;\n                    // Add a new marker node to be the startNode of the Part if any of\n                    // the following are true:\n                    //  * We don't have a previousSibling\n                    //  * The previousSibling is already the start of a previous part\n                    if (node.previousSibling === null || index === lastPartIndex) {\n                        index++;\n                        parent.insertBefore(createMarker(), node);\n                    }\n                    lastPartIndex = index;\n                    this.parts.push({ type: 'node', index });\n                    // If we don't have a nextSibling, keep this node so we have an end.\n                    // Else, we can remove it to save future costs.\n                    if (node.nextSibling === null) {\n                        node.data = '';\n                    }\n                    else {\n                        nodesToRemove.push(node);\n                        index--;\n                    }\n                    partIndex++;\n                }\n                else {\n                    let i = -1;\n                    while ((i = node.data.indexOf(marker, i + 1)) !== -1) {\n                        // Comment node has a binding marker inside, make an inactive part\n                        // The binding won't work, but subsequent bindings will\n                        // TODO (justinfagnani): consider whether it's even worth it to\n                        // make bindings in comments work\n                        this.parts.push({ type: 'node', index: -1 });\n                        partIndex++;\n                    }\n                }\n            }\n        }\n        // Remove text binding nodes after the walk to not disturb the TreeWalker\n        for (const n of nodesToRemove) {\n            n.parentNode.removeChild(n);\n        }\n    }\n}\nconst endsWith = (str, suffix) => {\n    const index = str.length - suffix.length;\n    return index >= 0 && str.slice(index) === suffix;\n};\nexport const isTemplatePartActive = (part) => part.index !== -1;\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-characters\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters, which includes every\n * space character except \" \".\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex = /([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n//# sourceMappingURL=template.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { isCEPolyfill } from './dom.js';\nimport { isTemplatePartActive } from './template.js';\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n    constructor(template, processor, options) {\n        this.__parts = [];\n        this.template = template;\n        this.processor = processor;\n        this.options = options;\n    }\n    update(values) {\n        let i = 0;\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.setValue(values[i]);\n            }\n            i++;\n        }\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.commit();\n            }\n        }\n    }\n    _clone() {\n        // There are a number of steps in the lifecycle of a template instance's\n        // DOM fragment:\n        //  1. Clone - create the instance fragment\n        //  2. Adopt - adopt into the main document\n        //  3. Process - find part markers and create parts\n        //  4. Upgrade - upgrade custom elements\n        //  5. Update - set node, attribute, property, etc., values\n        //  6. Connect - connect to the document. Optional and outside of this\n        //     method.\n        //\n        // We have a few constraints on the ordering of these steps:\n        //  * We need to upgrade before updating, so that property values will pass\n        //    through any property setters.\n        //  * We would like to process before upgrading so that we're sure that the\n        //    cloned fragment is inert and not disturbed by self-modifying DOM.\n        //  * We want custom elements to upgrade even in disconnected fragments.\n        //\n        // Given these constraints, with full custom elements support we would\n        // prefer the order: Clone, Process, Adopt, Upgrade, Update, Connect\n        //\n        // But Safari dooes not implement CustomElementRegistry#upgrade, so we\n        // can not implement that order and still have upgrade-before-update and\n        // upgrade disconnected fragments. So we instead sacrifice the\n        // process-before-upgrade constraint, since in Custom Elements v1 elements\n        // must not modify their light DOM in the constructor. We still have issues\n        // when co-existing with CEv0 elements like Polymer 1, and with polyfills\n        // that don't strictly adhere to the no-modification rule because shadow\n        // DOM, which may be created in the constructor, is emulated by being placed\n        // in the light DOM.\n        //\n        // The resulting order is on native is: Clone, Adopt, Upgrade, Process,\n        // Update, Connect. document.importNode() performs Clone, Adopt, and Upgrade\n        // in one step.\n        //\n        // The Custom Elements v1 polyfill supports upgrade(), so the order when\n        // polyfilled is the more ideal: Clone, Process, Adopt, Upgrade, Update,\n        // Connect.\n        const fragment = isCEPolyfill ?\n            this.template.element.content.cloneNode(true) :\n            document.importNode(this.template.element.content, true);\n        const stack = [];\n        const parts = this.template.parts;\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(fragment, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        let partIndex = 0;\n        let nodeIndex = 0;\n        let part;\n        let node = walker.nextNode();\n        // Loop through all the nodes and parts of a template\n        while (partIndex < parts.length) {\n            part = parts[partIndex];\n            if (!isTemplatePartActive(part)) {\n                this.__parts.push(undefined);\n                partIndex++;\n                continue;\n            }\n            // Progress the tree walker until we find our next part's node.\n            // Note that multiple parts may share the same node (attribute parts\n            // on a single element), so this loop may not run at all.\n            while (nodeIndex < part.index) {\n                nodeIndex++;\n                if (node.nodeName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n                if ((node = walker.nextNode()) === null) {\n                    // We've exhausted the content inside a nested template element.\n                    // Because we still have parts (the outer for-loop), we know:\n                    // - There is a template in the stack\n                    // - The walker will find a nextNode outside the template\n                    walker.currentNode = stack.pop();\n                    node = walker.nextNode();\n                }\n            }\n            // We've arrived at our part's node.\n            if (part.type === 'node') {\n                const part = this.processor.handleTextExpression(this.options);\n                part.insertAfterNode(node.previousSibling);\n                this.__parts.push(part);\n            }\n            else {\n                this.__parts.push(...this.processor.handleAttributeExpressions(node, part.name, part.strings, this.options));\n            }\n            partIndex++;\n        }\n        if (isCEPolyfill) {\n            document.adoptNode(fragment);\n            customElements.upgrade(fragment);\n        }\n        return fragment;\n    }\n}\n//# sourceMappingURL=template-instance.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { reparentNodes } from './dom.js';\nimport { boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker } from './template.js';\nconst commentMarker = ` ${marker} `;\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n    constructor(strings, values, type, processor) {\n        this.strings = strings;\n        this.values = values;\n        this.type = type;\n        this.processor = processor;\n    }\n    /**\n     * Returns a string of HTML used to create a `<template>` element.\n     */\n    getHTML() {\n        const l = this.strings.length - 1;\n        let html = '';\n        let isCommentBinding = false;\n        for (let i = 0; i < l; i++) {\n            const s = this.strings[i];\n            // For each binding we want to determine the kind of marker to insert\n            // into the template source before it's parsed by the browser's HTML\n            // parser. The marker type is based on whether the expression is in an\n            // attribute, text, or comment poisition.\n            //   * For node-position bindings we insert a comment with the marker\n            //     sentinel as its text content, like <!--{{lit-guid}}-->.\n            //   * For attribute bindings we insert just the marker sentinel for the\n            //     first binding, so that we support unquoted attribute bindings.\n            //     Subsequent bindings can use a comment marker because multi-binding\n            //     attributes must be quoted.\n            //   * For comment bindings we insert just the marker sentinel so we don't\n            //     close the comment.\n            //\n            // The following code scans the template source, but is *not* an HTML\n            // parser. We don't need to track the tree structure of the HTML, only\n            // whether a binding is inside a comment, and if not, if it appears to be\n            // the first binding in an attribute.\n            const commentOpen = s.lastIndexOf('<!--');\n            // We're in comment position if we have a comment open with no following\n            // comment close. Because <-- can appear in an attribute value there can\n            // be false positives.\n            isCommentBinding = (commentOpen > -1 || isCommentBinding) &&\n                s.indexOf('-->', commentOpen + 1) === -1;\n            // Check to see if we have an attribute-like sequence preceeding the\n            // expression. This can match \"name=value\" like structures in text,\n            // comments, and attribute values, so there can be false-positives.\n            const attributeMatch = lastAttributeNameRegex.exec(s);\n            if (attributeMatch === null) {\n                // We're only in this branch if we don't have a attribute-like\n                // preceeding sequence. For comments, this guards against unusual\n                // attribute values like <div foo=\"<!--${'bar'}\">. Cases like\n                // <!-- foo=${'bar'}--> are handled correctly in the attribute branch\n                // below.\n                html += s + (isCommentBinding ? commentMarker : nodeMarker);\n            }\n            else {\n                // For attributes we use just a marker sentinel, and also append a\n                // $lit$ suffix to the name to opt-out of attribute-specific parsing\n                // that IE and Edge do for style and certain SVG attributes.\n                html += s.substr(0, attributeMatch.index) + attributeMatch[1] +\n                    attributeMatch[2] + boundAttributeSuffix + attributeMatch[3] +\n                    marker;\n            }\n        }\n        html += this.strings[l];\n        return html;\n    }\n    getTemplateElement() {\n        const template = document.createElement('template');\n        template.innerHTML = this.getHTML();\n        return template;\n    }\n}\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTML in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n    getHTML() {\n        return `<svg>${super.getHTML()}</svg>`;\n    }\n    getTemplateElement() {\n        const template = super.getTemplateElement();\n        const content = template.content;\n        const svgElement = content.firstChild;\n        content.removeChild(svgElement);\n        reparentNodes(content, svgElement.firstChild);\n        return template;\n    }\n}\n//# sourceMappingURL=template-result.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { isDirective } from './directive.js';\nimport { removeNodes } from './dom.js';\nimport { noChange, nothing } from './part.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { TemplateResult } from './template-result.js';\nimport { createMarker } from './template.js';\nexport const isPrimitive = (value) => {\n    return (value === null ||\n        !(typeof value === 'object' || typeof value === 'function'));\n};\nexport const isIterable = (value) => {\n    return Array.isArray(value) ||\n        // tslint:disable-next-line:no-any\n        !!(value && value[Symbol.iterator]);\n};\n/**\n * Writes attribute values to the DOM for a group of AttributeParts bound to a\n * single attibute. The value is only set once even if there are multiple parts\n * for an attribute.\n */\nexport class AttributeCommitter {\n    constructor(element, name, strings) {\n        this.dirty = true;\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n        this.parts = [];\n        for (let i = 0; i < strings.length - 1; i++) {\n            this.parts[i] = this._createPart();\n        }\n    }\n    /**\n     * Creates a single part. Override this to create a differnt type of part.\n     */\n    _createPart() {\n        return new AttributePart(this);\n    }\n    _getValue() {\n        const strings = this.strings;\n        const l = strings.length - 1;\n        let text = '';\n        for (let i = 0; i < l; i++) {\n            text += strings[i];\n            const part = this.parts[i];\n            if (part !== undefined) {\n                const v = part.value;\n                if (isPrimitive(v) || !isIterable(v)) {\n                    text += typeof v === 'string' ? v : String(v);\n                }\n                else {\n                    for (const t of v) {\n                        text += typeof t === 'string' ? t : String(t);\n                    }\n                }\n            }\n        }\n        text += strings[l];\n        return text;\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            this.element.setAttribute(this.name, this._getValue());\n        }\n    }\n}\n/**\n * A Part that controls all or part of an attribute value.\n */\nexport class AttributePart {\n    constructor(committer) {\n        this.value = undefined;\n        this.committer = committer;\n    }\n    setValue(value) {\n        if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n            this.value = value;\n            // If the value is a not a directive, dirty the committer so that it'll\n            // call setAttribute. If the value is a directive, it'll dirty the\n            // committer if it calls setValue().\n            if (!isDirective(value)) {\n                this.committer.dirty = true;\n            }\n        }\n    }\n    commit() {\n        while (isDirective(this.value)) {\n            const directive = this.value;\n            this.value = noChange;\n            directive(this);\n        }\n        if (this.value === noChange) {\n            return;\n        }\n        this.committer.commit();\n    }\n}\n/**\n * A Part that controls a location within a Node tree. Like a Range, NodePart\n * has start and end locations and can set and update the Nodes between those\n * locations.\n *\n * NodeParts support several value types: primitives, Nodes, TemplateResults,\n * as well as arrays and iterables of those types.\n */\nexport class NodePart {\n    constructor(options) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.options = options;\n    }\n    /**\n     * Appends this part into a container.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendInto(container) {\n        this.startNode = container.appendChild(createMarker());\n        this.endNode = container.appendChild(createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` node (between `ref` and `ref`'s next\n     * sibling). Both `ref` and its next sibling must be static, unchanging nodes\n     * such as those that appear in a literal section of a template.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterNode(ref) {\n        this.startNode = ref;\n        this.endNode = ref.nextSibling;\n    }\n    /**\n     * Appends this part into a parent part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendIntoPart(part) {\n        part.__insert(this.startNode = createMarker());\n        part.__insert(this.endNode = createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterPart(ref) {\n        ref.__insert(this.startNode = createMarker());\n        this.endNode = ref.endNode;\n        ref.endNode = this.startNode;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        const value = this.__pendingValue;\n        if (value === noChange) {\n            return;\n        }\n        if (isPrimitive(value)) {\n            if (value !== this.value) {\n                this.__commitText(value);\n            }\n        }\n        else if (value instanceof TemplateResult) {\n            this.__commitTemplateResult(value);\n        }\n        else if (value instanceof Node) {\n            this.__commitNode(value);\n        }\n        else if (isIterable(value)) {\n            this.__commitIterable(value);\n        }\n        else if (value === nothing) {\n            this.value = nothing;\n            this.clear();\n        }\n        else {\n            // Fallback, will render the string representation\n            this.__commitText(value);\n        }\n    }\n    __insert(node) {\n        this.endNode.parentNode.insertBefore(node, this.endNode);\n    }\n    __commitNode(value) {\n        if (this.value === value) {\n            return;\n        }\n        this.clear();\n        this.__insert(value);\n        this.value = value;\n    }\n    __commitText(value) {\n        const node = this.startNode.nextSibling;\n        value = value == null ? '' : value;\n        // If `value` isn't already a string, we explicitly convert it here in case\n        // it can't be implicitly converted - i.e. it's a symbol.\n        const valueAsString = typeof value === 'string' ? value : String(value);\n        if (node === this.endNode.previousSibling &&\n            node.nodeType === 3 /* Node.TEXT_NODE */) {\n            // If we only have a single text node between the markers, we can just\n            // set its value, rather than replacing it.\n            // TODO(justinfagnani): Can we just check if this.value is primitive?\n            node.data = valueAsString;\n        }\n        else {\n            this.__commitNode(document.createTextNode(valueAsString));\n        }\n        this.value = value;\n    }\n    __commitTemplateResult(value) {\n        const template = this.options.templateFactory(value);\n        if (this.value instanceof TemplateInstance &&\n            this.value.template === template) {\n            this.value.update(value.values);\n        }\n        else {\n            // Make sure we propagate the template processor from the TemplateResult\n            // so that we use its syntax extension, etc. The template factory comes\n            // from the render function options so that it can control template\n            // caching and preprocessing.\n            const instance = new TemplateInstance(template, value.processor, this.options);\n            const fragment = instance._clone();\n            instance.update(value.values);\n            this.__commitNode(fragment);\n            this.value = instance;\n        }\n    }\n    __commitIterable(value) {\n        // For an Iterable, we create a new InstancePart per item, then set its\n        // value to the item. This is a little bit of overhead for every item in\n        // an Iterable, but it lets us recurse easily and efficiently update Arrays\n        // of TemplateResults that will be commonly returned from expressions like:\n        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n        // If _value is an array, then the previous render was of an\n        // iterable and _value will contain the NodeParts from the previous\n        // render. If _value is not an array, clear this part and make a new\n        // array for NodeParts.\n        if (!Array.isArray(this.value)) {\n            this.value = [];\n            this.clear();\n        }\n        // Lets us keep track of how many items we stamped so we can clear leftover\n        // items from a previous render\n        const itemParts = this.value;\n        let partIndex = 0;\n        let itemPart;\n        for (const item of value) {\n            // Try to reuse an existing part\n            itemPart = itemParts[partIndex];\n            // If no existing part, create a new one\n            if (itemPart === undefined) {\n                itemPart = new NodePart(this.options);\n                itemParts.push(itemPart);\n                if (partIndex === 0) {\n                    itemPart.appendIntoPart(this);\n                }\n                else {\n                    itemPart.insertAfterPart(itemParts[partIndex - 1]);\n                }\n            }\n            itemPart.setValue(item);\n            itemPart.commit();\n            partIndex++;\n        }\n        if (partIndex < itemParts.length) {\n            // Truncate the parts array so _value reflects the current state\n            itemParts.length = partIndex;\n            this.clear(itemPart && itemPart.endNode);\n        }\n    }\n    clear(startNode = this.startNode) {\n        removeNodes(this.startNode.parentNode, startNode.nextSibling, this.endNode);\n    }\n}\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart {\n    constructor(element, name, strings) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n            throw new Error('Boolean attributes can only contain a single expression');\n        }\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const value = !!this.__pendingValue;\n        if (this.value !== value) {\n            if (value) {\n                this.element.setAttribute(this.name, '');\n            }\n            else {\n                this.element.removeAttribute(this.name);\n            }\n            this.value = value;\n        }\n        this.__pendingValue = noChange;\n    }\n}\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n    constructor(element, name, strings) {\n        super(element, name, strings);\n        this.single =\n            (strings.length === 2 && strings[0] === '' && strings[1] === '');\n    }\n    _createPart() {\n        return new PropertyPart(this);\n    }\n    _getValue() {\n        if (this.single) {\n            return this.parts[0].value;\n        }\n        return super._getValue();\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            // tslint:disable-next-line:no-any\n            this.element[this.name] = this._getValue();\n        }\n    }\n}\nexport class PropertyPart extends AttributePart {\n}\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the thrid\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\ntry {\n    const options = {\n        get capture() {\n            eventOptionsSupported = true;\n            return false;\n        }\n    };\n    // tslint:disable-next-line:no-any\n    window.addEventListener('test', options, options);\n    // tslint:disable-next-line:no-any\n    window.removeEventListener('test', options, options);\n}\ncatch (_e) {\n}\nexport class EventPart {\n    constructor(element, eventName, eventContext) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.element = element;\n        this.eventName = eventName;\n        this.eventContext = eventContext;\n        this.__boundHandleEvent = (e) => this.handleEvent(e);\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const newListener = this.__pendingValue;\n        const oldListener = this.value;\n        const shouldRemoveListener = newListener == null ||\n            oldListener != null &&\n                (newListener.capture !== oldListener.capture ||\n                    newListener.once !== oldListener.once ||\n                    newListener.passive !== oldListener.passive);\n        const shouldAddListener = newListener != null && (oldListener == null || shouldRemoveListener);\n        if (shouldRemoveListener) {\n            this.element.removeEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        if (shouldAddListener) {\n            this.__options = getOptions(newListener);\n            this.element.addEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        this.value = newListener;\n        this.__pendingValue = noChange;\n    }\n    handleEvent(event) {\n        if (typeof this.value === 'function') {\n            this.value.call(this.eventContext || this.element, event);\n        }\n        else {\n            this.value.handleEvent(event);\n        }\n    }\n}\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o) => o &&\n    (eventOptionsSupported ?\n        { capture: o.capture, passive: o.passive, once: o.once } :\n        o.capture);\n//# sourceMappingURL=parts.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter } from './parts.js';\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor {\n    /**\n     * Create parts for an attribute-position binding, given the event, attribute\n     * name, and string literals.\n     *\n     * @param element The element containing the binding\n     * @param name  The attribute name\n     * @param strings The string literals. There are always at least two strings,\n     *   event for fully-controlled bindings with a single expression.\n     */\n    handleAttributeExpressions(element, name, strings, options) {\n        const prefix = name[0];\n        if (prefix === '.') {\n            const committer = new PropertyCommitter(element, name.slice(1), strings);\n            return committer.parts;\n        }\n        if (prefix === '@') {\n            return [new EventPart(element, name.slice(1), options.eventContext)];\n        }\n        if (prefix === '?') {\n            return [new BooleanAttributePart(element, name.slice(1), strings)];\n        }\n        const committer = new AttributeCommitter(element, name, strings);\n        return committer.parts;\n    }\n    /**\n     * Create parts for a text-position binding.\n     * @param templateFactory\n     */\n    handleTextExpression(options) {\n        return new NodePart(options);\n    }\n}\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n//# sourceMappingURL=default-template-processor.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { marker, Template } from './template.js';\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result) {\n    let templateCache = templateCaches.get(result.type);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(result.type, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    // If the TemplateStringsArray is new, generate a key from the strings\n    // This key is shared between all templates with identical content\n    const key = result.strings.join(marker);\n    // Check if we already have a Template for this key\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        // If we have not seen this key before, create a new Template\n        template = new Template(result, result.getTemplateElement());\n        // Cache the Template for this key\n        templateCache.keyString.set(key, template);\n    }\n    // Cache all future queries for this TemplateStringsArray\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n}\nexport const templateCaches = new Map();\n//# sourceMappingURL=template-factory.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { removeNodes } from './dom.js';\nimport { NodePart } from './parts.js';\nimport { templateFactory } from './template-factory.js';\nexport const parts = new WeakMap();\n/**\n * Renders a template result or other value to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result Any value renderable by NodePart - typically a TemplateResult\n *     created by evaluating a template tag like `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render = (result, container, options) => {\n    let part = parts.get(container);\n    if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart(Object.assign({ templateFactory }, options)));\n        part.appendInto(container);\n    }\n    part.setValue(result);\n    part.commit();\n};\n//# sourceMappingURL=render.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n *\n * Main lit-html module.\n *\n * Main exports:\n *\n * -  [[html]]\n * -  [[svg]]\n * -  [[render]]\n *\n * @module lit-html\n * @preferred\n */\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport { defaultTemplateProcessor } from './lib/default-template-processor.js';\nimport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { DefaultTemplateProcessor, defaultTemplateProcessor } from './lib/default-template-processor.js';\nexport { directive, isDirective } from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport { removeNodes, reparentNodes } from './lib/dom.js';\nexport { noChange, nothing } from './lib/part.js';\nexport { AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isIterable, isPrimitive, NodePart, PropertyCommitter, PropertyPart } from './lib/parts.js';\nexport { parts, render } from './lib/render.js';\nexport { templateCaches, templateFactory } from './lib/template-factory.js';\nexport { TemplateInstance } from './lib/template-instance.js';\nexport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { createMarker, isTemplatePartActive, Template } from './lib/template.js';\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litHtmlVersions'] || (window['litHtmlVersions'] = [])).push('1.1.2');\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings, ...values) => new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings, ...values) => new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n//# sourceMappingURL=lit-html.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module shady-render\n */\nimport { isTemplatePartActive } from './template.js';\nconst walkerNodeFilter = 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */;\n/**\n * Removes the list of nodes from a Template safely. In addition to removing\n * nodes from the Template, the Template part indices are updated to match\n * the mutated Template DOM.\n *\n * As the template is walked the removal state is tracked and\n * part indices are adjusted as needed.\n *\n * div\n *   div#1 (remove) <-- start removing (removing node is div#1)\n *     div\n *       div#2 (remove)  <-- continue removing (removing node is still div#1)\n *         div\n * div <-- stop removing since previous sibling is the removing node (div#1,\n * removed 4 nodes)\n */\nexport function removeNodesFromTemplate(template, nodesToRemove) {\n    const { element: { content }, parts } = template;\n    const walker = document.createTreeWalker(content, walkerNodeFilter, null, false);\n    let partIndex = nextActiveIndexInTemplateParts(parts);\n    let part = parts[partIndex];\n    let nodeIndex = -1;\n    let removeCount = 0;\n    const nodesToRemoveInTemplate = [];\n    let currentRemovingNode = null;\n    while (walker.nextNode()) {\n        nodeIndex++;\n        const node = walker.currentNode;\n        // End removal if stepped past the removing node\n        if (node.previousSibling === currentRemovingNode) {\n            currentRemovingNode = null;\n        }\n        // A node to remove was found in the template\n        if (nodesToRemove.has(node)) {\n            nodesToRemoveInTemplate.push(node);\n            // Track node we're removing\n            if (currentRemovingNode === null) {\n                currentRemovingNode = node;\n            }\n        }\n        // When removing, increment count by which to adjust subsequent part indices\n        if (currentRemovingNode !== null) {\n            removeCount++;\n        }\n        while (part !== undefined && part.index === nodeIndex) {\n            // If part is in a removed node deactivate it by setting index to -1 or\n            // adjust the index as needed.\n            part.index = currentRemovingNode !== null ? -1 : part.index - removeCount;\n            // go to the next active part.\n            partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n            part = parts[partIndex];\n        }\n    }\n    nodesToRemoveInTemplate.forEach((n) => n.parentNode.removeChild(n));\n}\nconst countNodes = (node) => {\n    let count = (node.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */) ? 0 : 1;\n    const walker = document.createTreeWalker(node, walkerNodeFilter, null, false);\n    while (walker.nextNode()) {\n        count++;\n    }\n    return count;\n};\nconst nextActiveIndexInTemplateParts = (parts, startIndex = -1) => {\n    for (let i = startIndex + 1; i < parts.length; i++) {\n        const part = parts[i];\n        if (isTemplatePartActive(part)) {\n            return i;\n        }\n    }\n    return -1;\n};\n/**\n * Inserts the given node into the Template, optionally before the given\n * refNode. In addition to inserting the node into the Template, the Template\n * part indices are updated to match the mutated Template DOM.\n */\nexport function insertNodeIntoTemplate(template, node, refNode = null) {\n    const { element: { content }, parts } = template;\n    // If there's no refNode, then put node at end of template.\n    // No part indices need to be shifted in this case.\n    if (refNode === null || refNode === undefined) {\n        content.appendChild(node);\n        return;\n    }\n    const walker = document.createTreeWalker(content, walkerNodeFilter, null, false);\n    let partIndex = nextActiveIndexInTemplateParts(parts);\n    let insertCount = 0;\n    let walkerIndex = -1;\n    while (walker.nextNode()) {\n        walkerIndex++;\n        const walkerNode = walker.currentNode;\n        if (walkerNode === refNode) {\n            insertCount = countNodes(node);\n            refNode.parentNode.insertBefore(node, refNode);\n        }\n        while (partIndex !== -1 && parts[partIndex].index === walkerIndex) {\n            // If we've inserted the node, simply adjust all subsequent parts\n            if (insertCount > 0) {\n                while (partIndex !== -1) {\n                    parts[partIndex].index += insertCount;\n                    partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n                }\n                return;\n            }\n            partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n        }\n    }\n}\n//# sourceMappingURL=modify-template.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * Module to add shady DOM/shady CSS polyfill support to lit-html template\n * rendering. See the [[render]] method for details.\n *\n * @module shady-render\n * @preferred\n */\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport { removeNodes } from './dom.js';\nimport { insertNodeIntoTemplate, removeNodesFromTemplate } from './modify-template.js';\nimport { parts, render as litRender } from './render.js';\nimport { templateCaches } from './template-factory.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { marker, Template } from './template.js';\nexport { html, svg, TemplateResult } from '../lit-html.js';\n// Get a key to lookup in `templateCaches`.\nconst getTemplateCacheKey = (type, scopeName) => `${type}--${scopeName}`;\nlet compatibleShadyCSSVersion = true;\nif (typeof window.ShadyCSS === 'undefined') {\n    compatibleShadyCSSVersion = false;\n}\nelse if (typeof window.ShadyCSS.prepareTemplateDom === 'undefined') {\n    console.warn(`Incompatible ShadyCSS version detected. ` +\n        `Please update to at least @webcomponents/webcomponentsjs@2.0.2 and ` +\n        `@webcomponents/shadycss@1.3.1.`);\n    compatibleShadyCSSVersion = false;\n}\n/**\n * Template factory which scopes template DOM using ShadyCSS.\n * @param scopeName {string}\n */\nconst shadyTemplateFactory = (scopeName) => (result) => {\n    const cacheKey = getTemplateCacheKey(result.type, scopeName);\n    let templateCache = templateCaches.get(cacheKey);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(cacheKey, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    const key = result.strings.join(marker);\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        const element = result.getTemplateElement();\n        if (compatibleShadyCSSVersion) {\n            window.ShadyCSS.prepareTemplateDom(element, scopeName);\n        }\n        template = new Template(result, element);\n        templateCache.keyString.set(key, template);\n    }\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n};\nconst TEMPLATE_TYPES = ['html', 'svg'];\n/**\n * Removes all style elements from Templates for the given scopeName.\n */\nconst removeStylesFromLitTemplates = (scopeName) => {\n    TEMPLATE_TYPES.forEach((type) => {\n        const templates = templateCaches.get(getTemplateCacheKey(type, scopeName));\n        if (templates !== undefined) {\n            templates.keyString.forEach((template) => {\n                const { element: { content } } = template;\n                // IE 11 doesn't support the iterable param Set constructor\n                const styles = new Set();\n                Array.from(content.querySelectorAll('style')).forEach((s) => {\n                    styles.add(s);\n                });\n                removeNodesFromTemplate(template, styles);\n            });\n        }\n    });\n};\nconst shadyRenderSet = new Set();\n/**\n * For the given scope name, ensures that ShadyCSS style scoping is performed.\n * This is done just once per scope name so the fragment and template cannot\n * be modified.\n * (1) extracts styles from the rendered fragment and hands them to ShadyCSS\n * to be scoped and appended to the document\n * (2) removes style elements from all lit-html Templates for this scope name.\n *\n * Note, <style> elements can only be placed into templates for the\n * initial rendering of the scope. If <style> elements are included in templates\n * dynamically rendered to the scope (after the first scope render), they will\n * not be scoped and the <style> will be left in the template and rendered\n * output.\n */\nconst prepareTemplateStyles = (scopeName, renderedDOM, template) => {\n    shadyRenderSet.add(scopeName);\n    // If `renderedDOM` is stamped from a Template, then we need to edit that\n    // Template's underlying template element. Otherwise, we create one here\n    // to give to ShadyCSS, which still requires one while scoping.\n    const templateElement = !!template ? template.element : document.createElement('template');\n    // Move styles out of rendered DOM and store.\n    const styles = renderedDOM.querySelectorAll('style');\n    const { length } = styles;\n    // If there are no styles, skip unnecessary work\n    if (length === 0) {\n        // Ensure prepareTemplateStyles is called to support adding\n        // styles via `prepareAdoptedCssText` since that requires that\n        // `prepareTemplateStyles` is called.\n        //\n        // ShadyCSS will only update styles containing @apply in the template\n        // given to `prepareTemplateStyles`. If no lit Template was given,\n        // ShadyCSS will not be able to update uses of @apply in any relevant\n        // template. However, this is not a problem because we only create the\n        // template for the purpose of supporting `prepareAdoptedCssText`,\n        // which doesn't support @apply at all.\n        window.ShadyCSS.prepareTemplateStyles(templateElement, scopeName);\n        return;\n    }\n    const condensedStyle = document.createElement('style');\n    // Collect styles into a single style. This helps us make sure ShadyCSS\n    // manipulations will not prevent us from being able to fix up template\n    // part indices.\n    // NOTE: collecting styles is inefficient for browsers but ShadyCSS\n    // currently does this anyway. When it does not, this should be changed.\n    for (let i = 0; i < length; i++) {\n        const style = styles[i];\n        style.parentNode.removeChild(style);\n        condensedStyle.textContent += style.textContent;\n    }\n    // Remove styles from nested templates in this scope.\n    removeStylesFromLitTemplates(scopeName);\n    // And then put the condensed style into the \"root\" template passed in as\n    // `template`.\n    const content = templateElement.content;\n    if (!!template) {\n        insertNodeIntoTemplate(template, condensedStyle, content.firstChild);\n    }\n    else {\n        content.insertBefore(condensedStyle, content.firstChild);\n    }\n    // Note, it's important that ShadyCSS gets the template that `lit-html`\n    // will actually render so that it can update the style inside when\n    // needed (e.g. @apply native Shadow DOM case).\n    window.ShadyCSS.prepareTemplateStyles(templateElement, scopeName);\n    const style = content.querySelector('style');\n    if (window.ShadyCSS.nativeShadow && style !== null) {\n        // When in native Shadow DOM, ensure the style created by ShadyCSS is\n        // included in initially rendered output (`renderedDOM`).\n        renderedDOM.insertBefore(style.cloneNode(true), renderedDOM.firstChild);\n    }\n    else if (!!template) {\n        // When no style is left in the template, parts will be broken as a\n        // result. To fix this, we put back the style node ShadyCSS removed\n        // and then tell lit to remove that node from the template.\n        // There can be no style in the template in 2 cases (1) when Shady DOM\n        // is in use, ShadyCSS removes all styles, (2) when native Shadow DOM\n        // is in use ShadyCSS removes the style if it contains no content.\n        // NOTE, ShadyCSS creates its own style so we can safely add/remove\n        // `condensedStyle` here.\n        content.insertBefore(condensedStyle, content.firstChild);\n        const removes = new Set();\n        removes.add(condensedStyle);\n        removeNodesFromTemplate(template, removes);\n    }\n};\n/**\n * Extension to the standard `render` method which supports rendering\n * to ShadowRoots when the ShadyDOM (https://github.com/webcomponents/shadydom)\n * and ShadyCSS (https://github.com/webcomponents/shadycss) polyfills are used\n * or when the webcomponentsjs\n * (https://github.com/webcomponents/webcomponentsjs) polyfill is used.\n *\n * Adds a `scopeName` option which is used to scope element DOM and stylesheets\n * when native ShadowDOM is unavailable. The `scopeName` will be added to\n * the class attribute of all rendered DOM. In addition, any style elements will\n * be automatically re-written with this `scopeName` selector and moved out\n * of the rendered DOM and into the document `<head>`.\n *\n * It is common to use this render method in conjunction with a custom element\n * which renders a shadowRoot. When this is done, typically the element's\n * `localName` should be used as the `scopeName`.\n *\n * In addition to DOM scoping, ShadyCSS also supports a basic shim for css\n * custom properties (needed only on older browsers like IE11) and a shim for\n * a deprecated feature called `@apply` that supports applying a set of css\n * custom properties to a given location.\n *\n * Usage considerations:\n *\n * * Part values in `<style>` elements are only applied the first time a given\n * `scopeName` renders. Subsequent changes to parts in style elements will have\n * no effect. Because of this, parts in style elements should only be used for\n * values that will never change, for example parts that set scope-wide theme\n * values or parts which render shared style elements.\n *\n * * Note, due to a limitation of the ShadyDOM polyfill, rendering in a\n * custom element's `constructor` is not supported. Instead rendering should\n * either done asynchronously, for example at microtask timing (for example\n * `Promise.resolve()`), or be deferred until the first time the element's\n * `connectedCallback` runs.\n *\n * Usage considerations when using shimmed custom properties or `@apply`:\n *\n * * Whenever any dynamic changes are made which affect\n * css custom properties, `ShadyCSS.styleElement(element)` must be called\n * to update the element. There are two cases when this is needed:\n * (1) the element is connected to a new parent, (2) a class is added to the\n * element that causes it to match different custom properties.\n * To address the first case when rendering a custom element, `styleElement`\n * should be called in the element's `connectedCallback`.\n *\n * * Shimmed custom properties may only be defined either for an entire\n * shadowRoot (for example, in a `:host` rule) or via a rule that directly\n * matches an element with a shadowRoot. In other words, instead of flowing from\n * parent to child as do native css custom properties, shimmed custom properties\n * flow only from shadowRoots to nested shadowRoots.\n *\n * * When using `@apply` mixing css shorthand property names with\n * non-shorthand names (for example `border` and `border-width`) is not\n * supported.\n */\nexport const render = (result, container, options) => {\n    if (!options || typeof options !== 'object' || !options.scopeName) {\n        throw new Error('The `scopeName` option is required.');\n    }\n    const scopeName = options.scopeName;\n    const hasRendered = parts.has(container);\n    const needsScoping = compatibleShadyCSSVersion &&\n        container.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */ &&\n        !!container.host;\n    // Handle first render to a scope specially...\n    const firstScopeRender = needsScoping && !shadyRenderSet.has(scopeName);\n    // On first scope render, render into a fragment; this cannot be a single\n    // fragment that is reused since nested renders can occur synchronously.\n    const renderContainer = firstScopeRender ? document.createDocumentFragment() : container;\n    litRender(result, renderContainer, Object.assign({ templateFactory: shadyTemplateFactory(scopeName) }, options));\n    // When performing first scope render,\n    // (1) We've rendered into a fragment so that there's a chance to\n    // `prepareTemplateStyles` before sub-elements hit the DOM\n    // (which might cause them to render based on a common pattern of\n    // rendering in a custom element's `connectedCallback`);\n    // (2) Scope the template with ShadyCSS one time only for this scope.\n    // (3) Render the fragment into the container and make sure the\n    // container knows its `part` is the one we just rendered. This ensures\n    // DOM will be re-used on subsequent renders.\n    if (firstScopeRender) {\n        const part = parts.get(renderContainer);\n        parts.delete(renderContainer);\n        // ShadyCSS might have style sheets (e.g. from `prepareAdoptedCssText`)\n        // that should apply to `renderContainer` even if the rendered value is\n        // not a TemplateInstance. However, it will only insert scoped styles\n        // into the document if `prepareTemplateStyles` has already been called\n        // for the given scope name.\n        const template = part.value instanceof TemplateInstance ?\n            part.value.template :\n            undefined;\n        prepareTemplateStyles(scopeName, renderContainer, template);\n        removeNodes(container, container.firstChild);\n        container.appendChild(renderContainer);\n        parts.set(container, part);\n    }\n    // After elements have hit the DOM, update styling if this is the\n    // initial render to this container.\n    // This is needed whenever dynamic changes are made so it would be\n    // safest to do every render; however, this would regress performance\n    // so we leave it up to the user to call `ShadyCSS.styleElement`\n    // for dynamic changes.\n    if (!hasRendered && needsScoping) {\n        window.ShadyCSS.styleElement(container.host);\n    }\n};\n//# sourceMappingURL=shady-render.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nvar _a;\n/**\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is\n * replaced at compile time by the munged name for object[property]. We cannot\n * alias this function, so we have to use a small shim that has the same\n * behavior when not compiling.\n */\nwindow.JSCompiler_renameProperty =\n    (prop, _obj) => prop;\nexport const defaultConverter = {\n    toAttribute(value, type) {\n        switch (type) {\n            case Boolean:\n                return value ? '' : null;\n            case Object:\n            case Array:\n                // if the value is `null` or `undefined` pass this through\n                // to allow removing/no change behavior.\n                return value == null ? value : JSON.stringify(value);\n        }\n        return value;\n    },\n    fromAttribute(value, type) {\n        switch (type) {\n            case Boolean:\n                return value !== null;\n            case Number:\n                return value === null ? null : Number(value);\n            case Object:\n            case Array:\n                return JSON.parse(value);\n        }\n        return value;\n    }\n};\n/**\n * Change function that returns true if `value` is different from `oldValue`.\n * This method is used as the default for a property's `hasChanged` function.\n */\nexport const notEqual = (value, old) => {\n    // This ensures (old==NaN, value==NaN) always returns false\n    return old !== value && (old === old || value === value);\n};\nconst defaultPropertyDeclaration = {\n    attribute: true,\n    type: String,\n    converter: defaultConverter,\n    reflect: false,\n    hasChanged: notEqual\n};\nconst microtaskPromise = Promise.resolve(true);\nconst STATE_HAS_UPDATED = 1;\nconst STATE_UPDATE_REQUESTED = 1 << 2;\nconst STATE_IS_REFLECTING_TO_ATTRIBUTE = 1 << 3;\nconst STATE_IS_REFLECTING_TO_PROPERTY = 1 << 4;\nconst STATE_HAS_CONNECTED = 1 << 5;\n/**\n * The Closure JS Compiler doesn't currently have good support for static\n * property semantics where \"this\" is dynamic (e.g.\n * https://github.com/google/closure-compiler/issues/3177 and others) so we use\n * this hack to bypass any rewriting by the compiler.\n */\nconst finalized = 'finalized';\n/**\n * Base element class which manages element properties and attributes. When\n * properties change, the `update` method is asynchronously called. This method\n * should be supplied by subclassers to render updates as desired.\n */\nexport class UpdatingElement extends HTMLElement {\n    constructor() {\n        super();\n        this._updateState = 0;\n        this._instanceProperties = undefined;\n        this._updatePromise = microtaskPromise;\n        this._hasConnectedResolver = undefined;\n        /**\n         * Map with keys for any properties that have changed since the last\n         * update cycle with previous values.\n         */\n        this._changedProperties = new Map();\n        /**\n         * Map with keys of properties that should be reflected when updated.\n         */\n        this._reflectingProperties = undefined;\n        this.initialize();\n    }\n    /**\n     * Returns a list of attributes corresponding to the registered properties.\n     * @nocollapse\n     */\n    static get observedAttributes() {\n        // note: piggy backing on this to ensure we're finalized.\n        this.finalize();\n        const attributes = [];\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        this._classProperties.forEach((v, p) => {\n            const attr = this._attributeNameForProperty(p, v);\n            if (attr !== undefined) {\n                this._attributeToPropertyMap.set(attr, p);\n                attributes.push(attr);\n            }\n        });\n        return attributes;\n    }\n    /**\n     * Ensures the private `_classProperties` property metadata is created.\n     * In addition to `finalize` this is also called in `createProperty` to\n     * ensure the `@property` decorator can add property metadata.\n     */\n    /** @nocollapse */\n    static _ensureClassProperties() {\n        // ensure private storage for property declarations.\n        if (!this.hasOwnProperty(JSCompiler_renameProperty('_classProperties', this))) {\n            this._classProperties = new Map();\n            // NOTE: Workaround IE11 not supporting Map constructor argument.\n            const superProperties = Object.getPrototypeOf(this)._classProperties;\n            if (superProperties !== undefined) {\n                superProperties.forEach((v, k) => this._classProperties.set(k, v));\n            }\n        }\n    }\n    /**\n     * Creates a property accessor on the element prototype if one does not exist.\n     * The property setter calls the property's `hasChanged` property option\n     * or uses a strict identity check to determine whether or not to request\n     * an update.\n     * @nocollapse\n     */\n    static createProperty(name, options = defaultPropertyDeclaration) {\n        // Note, since this can be called by the `@property` decorator which\n        // is called before `finalize`, we ensure storage exists for property\n        // metadata.\n        this._ensureClassProperties();\n        this._classProperties.set(name, options);\n        // Do not generate an accessor if the prototype already has one, since\n        // it would be lost otherwise and that would never be the user's intention;\n        // Instead, we expect users to call `requestUpdate` themselves from\n        // user-defined accessors. Note that if the super has an accessor we will\n        // still overwrite it\n        if (options.noAccessor || this.prototype.hasOwnProperty(name)) {\n            return;\n        }\n        const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n        Object.defineProperty(this.prototype, name, {\n            // tslint:disable-next-line:no-any no symbol in index\n            get() {\n                return this[key];\n            },\n            set(value) {\n                const oldValue = this[name];\n                this[key] = value;\n                this._requestUpdate(name, oldValue);\n            },\n            configurable: true,\n            enumerable: true\n        });\n    }\n    /**\n     * Creates property accessors for registered properties and ensures\n     * any superclasses are also finalized.\n     * @nocollapse\n     */\n    static finalize() {\n        // finalize any superclasses\n        const superCtor = Object.getPrototypeOf(this);\n        if (!superCtor.hasOwnProperty(finalized)) {\n            superCtor.finalize();\n        }\n        this[finalized] = true;\n        this._ensureClassProperties();\n        // initialize Map populated in observedAttributes\n        this._attributeToPropertyMap = new Map();\n        // make any properties\n        // Note, only process \"own\" properties since this element will inherit\n        // any properties defined on the superClass, and finalization ensures\n        // the entire prototype chain is finalized.\n        if (this.hasOwnProperty(JSCompiler_renameProperty('properties', this))) {\n            const props = this.properties;\n            // support symbols in properties (IE11 does not support this)\n            const propKeys = [\n                ...Object.getOwnPropertyNames(props),\n                ...(typeof Object.getOwnPropertySymbols === 'function') ?\n                    Object.getOwnPropertySymbols(props) :\n                    []\n            ];\n            // This for/of is ok because propKeys is an array\n            for (const p of propKeys) {\n                // note, use of `any` is due to TypeSript lack of support for symbol in\n                // index types\n                // tslint:disable-next-line:no-any no symbol in index\n                this.createProperty(p, props[p]);\n            }\n        }\n    }\n    /**\n     * Returns the property name for the given attribute `name`.\n     * @nocollapse\n     */\n    static _attributeNameForProperty(name, options) {\n        const attribute = options.attribute;\n        return attribute === false ?\n            undefined :\n            (typeof attribute === 'string' ?\n                attribute :\n                (typeof name === 'string' ? name.toLowerCase() : undefined));\n    }\n    /**\n     * Returns true if a property should request an update.\n     * Called when a property value is set and uses the `hasChanged`\n     * option for the property if present or a strict identity check.\n     * @nocollapse\n     */\n    static _valueHasChanged(value, old, hasChanged = notEqual) {\n        return hasChanged(value, old);\n    }\n    /**\n     * Returns the property value for the given attribute value.\n     * Called via the `attributeChangedCallback` and uses the property's\n     * `converter` or `converter.fromAttribute` property option.\n     * @nocollapse\n     */\n    static _propertyValueFromAttribute(value, options) {\n        const type = options.type;\n        const converter = options.converter || defaultConverter;\n        const fromAttribute = (typeof converter === 'function' ? converter : converter.fromAttribute);\n        return fromAttribute ? fromAttribute(value, type) : value;\n    }\n    /**\n     * Returns the attribute value for the given property value. If this\n     * returns undefined, the property will *not* be reflected to an attribute.\n     * If this returns null, the attribute will be removed, otherwise the\n     * attribute will be set to the value.\n     * This uses the property's `reflect` and `type.toAttribute` property options.\n     * @nocollapse\n     */\n    static _propertyValueToAttribute(value, options) {\n        if (options.reflect === undefined) {\n            return;\n        }\n        const type = options.type;\n        const converter = options.converter;\n        const toAttribute = converter && converter.toAttribute ||\n            defaultConverter.toAttribute;\n        return toAttribute(value, type);\n    }\n    /**\n     * Performs element initialization. By default captures any pre-set values for\n     * registered properties.\n     */\n    initialize() {\n        this._saveInstanceProperties();\n        // ensures first update will be caught by an early access of\n        // `updateComplete`\n        this._requestUpdate();\n    }\n    /**\n     * Fixes any properties set on the instance before upgrade time.\n     * Otherwise these would shadow the accessor and break these properties.\n     * The properties are stored in a Map which is played back after the\n     * constructor runs. Note, on very old versions of Safari (<=9) or Chrome\n     * (<=41), properties created for native platform properties like (`id` or\n     * `name`) may not have default values set in the element constructor. On\n     * these browsers native properties appear on instances and therefore their\n     * default value will overwrite any element default (e.g. if the element sets\n     * this.id = 'id' in the constructor, the 'id' will become '' since this is\n     * the native platform default).\n     */\n    _saveInstanceProperties() {\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        this.constructor\n            ._classProperties.forEach((_v, p) => {\n            if (this.hasOwnProperty(p)) {\n                const value = this[p];\n                delete this[p];\n                if (!this._instanceProperties) {\n                    this._instanceProperties = new Map();\n                }\n                this._instanceProperties.set(p, value);\n            }\n        });\n    }\n    /**\n     * Applies previously saved instance properties.\n     */\n    _applyInstanceProperties() {\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        // tslint:disable-next-line:no-any\n        this._instanceProperties.forEach((v, p) => this[p] = v);\n        this._instanceProperties = undefined;\n    }\n    connectedCallback() {\n        this._updateState = this._updateState | STATE_HAS_CONNECTED;\n        // Ensure first connection completes an update. Updates cannot complete\n        // before connection and if one is pending connection the\n        // `_hasConnectionResolver` will exist. If so, resolve it to complete the\n        // update, otherwise requestUpdate.\n        if (this._hasConnectedResolver) {\n            this._hasConnectedResolver();\n            this._hasConnectedResolver = undefined;\n        }\n    }\n    /**\n     * Allows for `super.disconnectedCallback()` in extensions while\n     * reserving the possibility of making non-breaking feature additions\n     * when disconnecting at some point in the future.\n     */\n    disconnectedCallback() {\n    }\n    /**\n     * Synchronizes property values when attributes change.\n     */\n    attributeChangedCallback(name, old, value) {\n        if (old !== value) {\n            this._attributeToProperty(name, value);\n        }\n    }\n    _propertyToAttribute(name, value, options = defaultPropertyDeclaration) {\n        const ctor = this.constructor;\n        const attr = ctor._attributeNameForProperty(name, options);\n        if (attr !== undefined) {\n            const attrValue = ctor._propertyValueToAttribute(value, options);\n            // an undefined value does not change the attribute.\n            if (attrValue === undefined) {\n                return;\n            }\n            // Track if the property is being reflected to avoid\n            // setting the property again via `attributeChangedCallback`. Note:\n            // 1. this takes advantage of the fact that the callback is synchronous.\n            // 2. will behave incorrectly if multiple attributes are in the reaction\n            // stack at time of calling. However, since we process attributes\n            // in `update` this should not be possible (or an extreme corner case\n            // that we'd like to discover).\n            // mark state reflecting\n            this._updateState = this._updateState | STATE_IS_REFLECTING_TO_ATTRIBUTE;\n            if (attrValue == null) {\n                this.removeAttribute(attr);\n            }\n            else {\n                this.setAttribute(attr, attrValue);\n            }\n            // mark state not reflecting\n            this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_ATTRIBUTE;\n        }\n    }\n    _attributeToProperty(name, value) {\n        // Use tracking info to avoid deserializing attribute value if it was\n        // just set from a property setter.\n        if (this._updateState & STATE_IS_REFLECTING_TO_ATTRIBUTE) {\n            return;\n        }\n        const ctor = this.constructor;\n        const propName = ctor._attributeToPropertyMap.get(name);\n        if (propName !== undefined) {\n            const options = ctor._classProperties.get(propName) || defaultPropertyDeclaration;\n            // mark state reflecting\n            this._updateState = this._updateState | STATE_IS_REFLECTING_TO_PROPERTY;\n            this[propName] =\n                // tslint:disable-next-line:no-any\n                ctor._propertyValueFromAttribute(value, options);\n            // mark state not reflecting\n            this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_PROPERTY;\n        }\n    }\n    /**\n     * This private version of `requestUpdate` does not access or return the\n     * `updateComplete` promise. This promise can be overridden and is therefore\n     * not free to access.\n     */\n    _requestUpdate(name, oldValue) {\n        let shouldRequestUpdate = true;\n        // If we have a property key, perform property update steps.\n        if (name !== undefined) {\n            const ctor = this.constructor;\n            const options = ctor._classProperties.get(name) || defaultPropertyDeclaration;\n            if (ctor._valueHasChanged(this[name], oldValue, options.hasChanged)) {\n                if (!this._changedProperties.has(name)) {\n                    this._changedProperties.set(name, oldValue);\n                }\n                // Add to reflecting properties set.\n                // Note, it's important that every change has a chance to add the\n                // property to `_reflectingProperties`. This ensures setting\n                // attribute + property reflects correctly.\n                if (options.reflect === true &&\n                    !(this._updateState & STATE_IS_REFLECTING_TO_PROPERTY)) {\n                    if (this._reflectingProperties === undefined) {\n                        this._reflectingProperties = new Map();\n                    }\n                    this._reflectingProperties.set(name, options);\n                }\n            }\n            else {\n                // Abort the request if the property should not be considered changed.\n                shouldRequestUpdate = false;\n            }\n        }\n        if (!this._hasRequestedUpdate && shouldRequestUpdate) {\n            this._enqueueUpdate();\n        }\n    }\n    /**\n     * Requests an update which is processed asynchronously. This should\n     * be called when an element should update based on some state not triggered\n     * by setting a property. In this case, pass no arguments. It should also be\n     * called when manually implementing a property setter. In this case, pass the\n     * property `name` and `oldValue` to ensure that any configured property\n     * options are honored. Returns the `updateComplete` Promise which is resolved\n     * when the update completes.\n     *\n     * @param name {PropertyKey} (optional) name of requesting property\n     * @param oldValue {any} (optional) old value of requesting property\n     * @returns {Promise} A Promise that is resolved when the update completes.\n     */\n    requestUpdate(name, oldValue) {\n        this._requestUpdate(name, oldValue);\n        return this.updateComplete;\n    }\n    /**\n     * Sets up the element to asynchronously update.\n     */\n    async _enqueueUpdate() {\n        // Mark state updating...\n        this._updateState = this._updateState | STATE_UPDATE_REQUESTED;\n        let resolve;\n        let reject;\n        const previousUpdatePromise = this._updatePromise;\n        this._updatePromise = new Promise((res, rej) => {\n            resolve = res;\n            reject = rej;\n        });\n        try {\n            // Ensure any previous update has resolved before updating.\n            // This `await` also ensures that property changes are batched.\n            await previousUpdatePromise;\n        }\n        catch (e) {\n            // Ignore any previous errors. We only care that the previous cycle is\n            // done. Any error should have been handled in the previous update.\n        }\n        // Make sure the element has connected before updating.\n        if (!this._hasConnected) {\n            await new Promise((res) => this._hasConnectedResolver = res);\n        }\n        try {\n            const result = this.performUpdate();\n            // If `performUpdate` returns a Promise, we await it. This is done to\n            // enable coordinating updates with a scheduler. Note, the result is\n            // checked to avoid delaying an additional microtask unless we need to.\n            if (result != null) {\n                await result;\n            }\n        }\n        catch (e) {\n            reject(e);\n        }\n        resolve(!this._hasRequestedUpdate);\n    }\n    get _hasConnected() {\n        return (this._updateState & STATE_HAS_CONNECTED);\n    }\n    get _hasRequestedUpdate() {\n        return (this._updateState & STATE_UPDATE_REQUESTED);\n    }\n    get hasUpdated() {\n        return (this._updateState & STATE_HAS_UPDATED);\n    }\n    /**\n     * Performs an element update. Note, if an exception is thrown during the\n     * update, `firstUpdated` and `updated` will not be called.\n     *\n     * You can override this method to change the timing of updates. If this\n     * method is overridden, `super.performUpdate()` must be called.\n     *\n     * For instance, to schedule updates to occur just before the next frame:\n     *\n     * ```\n     * protected async performUpdate(): Promise<unknown> {\n     *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));\n     *   super.performUpdate();\n     * }\n     * ```\n     */\n    performUpdate() {\n        // Mixin instance properties once, if they exist.\n        if (this._instanceProperties) {\n            this._applyInstanceProperties();\n        }\n        let shouldUpdate = false;\n        const changedProperties = this._changedProperties;\n        try {\n            shouldUpdate = this.shouldUpdate(changedProperties);\n            if (shouldUpdate) {\n                this.update(changedProperties);\n            }\n        }\n        catch (e) {\n            // Prevent `firstUpdated` and `updated` from running when there's an\n            // update exception.\n            shouldUpdate = false;\n            throw e;\n        }\n        finally {\n            // Ensure element can accept additional updates after an exception.\n            this._markUpdated();\n        }\n        if (shouldUpdate) {\n            if (!(this._updateState & STATE_HAS_UPDATED)) {\n                this._updateState = this._updateState | STATE_HAS_UPDATED;\n                this.firstUpdated(changedProperties);\n            }\n            this.updated(changedProperties);\n        }\n    }\n    _markUpdated() {\n        this._changedProperties = new Map();\n        this._updateState = this._updateState & ~STATE_UPDATE_REQUESTED;\n    }\n    /**\n     * Returns a Promise that resolves when the element has completed updating.\n     * The Promise value is a boolean that is `true` if the element completed the\n     * update without triggering another update. The Promise result is `false` if\n     * a property was set inside `updated()`. If the Promise is rejected, an\n     * exception was thrown during the update.\n     *\n     * To await additional asynchronous work, override the `_getUpdateComplete`\n     * method. For example, it is sometimes useful to await a rendered element\n     * before fulfilling this Promise. To do this, first await\n     * `super._getUpdateComplete()`, then any subsequent state.\n     *\n     * @returns {Promise} The Promise returns a boolean that indicates if the\n     * update resolved without triggering another update.\n     */\n    get updateComplete() {\n        return this._getUpdateComplete();\n    }\n    /**\n     * Override point for the `updateComplete` promise.\n     *\n     * It is not safe to override the `updateComplete` getter directly due to a\n     * limitation in TypeScript which means it is not possible to call a\n     * superclass getter (e.g. `super.updateComplete.then(...)`) when the target\n     * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).\n     * This method should be overridden instead. For example:\n     *\n     *   class MyElement extends LitElement {\n     *     async _getUpdateComplete() {\n     *       await super._getUpdateComplete();\n     *       await this._myChild.updateComplete;\n     *     }\n     *   }\n     */\n    _getUpdateComplete() {\n        return this._updatePromise;\n    }\n    /**\n     * Controls whether or not `update` should be called when the element requests\n     * an update. By default, this method always returns `true`, but this can be\n     * customized to control when to update.\n     *\n     * * @param _changedProperties Map of changed properties with old values\n     */\n    shouldUpdate(_changedProperties) {\n        return true;\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes.\n     * It can be overridden to render and keep updated element DOM.\n     * Setting properties inside this method will *not* trigger\n     * another update.\n     *\n     * * @param _changedProperties Map of changed properties with old values\n     */\n    update(_changedProperties) {\n        if (this._reflectingProperties !== undefined &&\n            this._reflectingProperties.size > 0) {\n            // Use forEach so this works even if for/of loops are compiled to for\n            // loops expecting arrays\n            this._reflectingProperties.forEach((v, k) => this._propertyToAttribute(k, this[k], v));\n            this._reflectingProperties = undefined;\n        }\n    }\n    /**\n     * Invoked whenever the element is updated. Implement to perform\n     * post-updating tasks via DOM APIs, for example, focusing an element.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * * @param _changedProperties Map of changed properties with old values\n     */\n    updated(_changedProperties) {\n    }\n    /**\n     * Invoked when the element is first updated. Implement to perform one time\n     * work on the element after update.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * * @param _changedProperties Map of changed properties with old values\n     */\n    firstUpdated(_changedProperties) {\n    }\n}\n_a = finalized;\n/**\n * Marks class as having finished creating properties.\n */\nUpdatingElement[_a] = true;\n//# sourceMappingURL=updating-element.js.map","/**\n@license\nCopyright (c) 2019 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nexport const supportsAdoptingStyleSheets = ('adoptedStyleSheets' in Document.prototype) &&\n    ('replace' in CSSStyleSheet.prototype);\nconst constructionToken = Symbol();\nexport class CSSResult {\n    constructor(cssText, safeToken) {\n        if (safeToken !== constructionToken) {\n            throw new Error('CSSResult is not constructable. Use `unsafeCSS` or `css` instead.');\n        }\n        this.cssText = cssText;\n    }\n    // Note, this is a getter so that it's lazy. In practice, this means\n    // stylesheets are not created until the first element instance is made.\n    get styleSheet() {\n        if (this._styleSheet === undefined) {\n            // Note, if `adoptedStyleSheets` is supported then we assume CSSStyleSheet\n            // is constructable.\n            if (supportsAdoptingStyleSheets) {\n                this._styleSheet = new CSSStyleSheet();\n                this._styleSheet.replaceSync(this.cssText);\n            }\n            else {\n                this._styleSheet = null;\n            }\n        }\n        return this._styleSheet;\n    }\n    toString() {\n        return this.cssText;\n    }\n}\n/**\n * Wrap a value for interpolation in a css tagged template literal.\n *\n * This is unsafe because untrusted CSS text can be used to phone home\n * or exfiltrate data to an attacker controlled site. Take care to only use\n * this with trusted input.\n */\nexport const unsafeCSS = (value) => {\n    return new CSSResult(String(value), constructionToken);\n};\nconst textFromCSSResult = (value) => {\n    if (value instanceof CSSResult) {\n        return value.cssText;\n    }\n    else if (typeof value === 'number') {\n        return value;\n    }\n    else {\n        throw new Error(`Value passed to 'css' function must be a 'css' function result: ${value}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`);\n    }\n};\n/**\n * Template tag which which can be used with LitElement's `style` property to\n * set element styles. For security reasons, only literal string values may be\n * used. To incorporate non-literal values `unsafeCSS` may be used inside a\n * template string part.\n */\nexport const css = (strings, ...values) => {\n    const cssText = values.reduce((acc, v, idx) => acc + textFromCSSResult(v) + strings[idx + 1], strings[0]);\n    return new CSSResult(cssText, constructionToken);\n};\n//# sourceMappingURL=css-tag.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { TemplateResult } from 'lit-html';\nimport { render } from 'lit-html/lib/shady-render.js';\nimport { UpdatingElement } from './lib/updating-element.js';\nexport * from './lib/updating-element.js';\nexport * from './lib/decorators.js';\nexport { html, svg, TemplateResult, SVGTemplateResult } from 'lit-html/lit-html.js';\nimport { supportsAdoptingStyleSheets } from './lib/css-tag.js';\nexport * from './lib/css-tag.js';\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for LitElement usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litElementVersions'] || (window['litElementVersions'] = []))\n    .push('2.2.1');\n/**\n * Minimal implementation of Array.prototype.flat\n * @param arr the array to flatten\n * @param result the accumlated result\n */\nfunction arrayFlat(styles, result = []) {\n    for (let i = 0, length = styles.length; i < length; i++) {\n        const value = styles[i];\n        if (Array.isArray(value)) {\n            arrayFlat(value, result);\n        }\n        else {\n            result.push(value);\n        }\n    }\n    return result;\n}\n/** Deeply flattens styles array. Uses native flat if available. */\nconst flattenStyles = (styles) => styles.flat ? styles.flat(Infinity) : arrayFlat(styles);\nexport class LitElement extends UpdatingElement {\n    /** @nocollapse */\n    static finalize() {\n        // The Closure JS Compiler does not always preserve the correct \"this\"\n        // when calling static super methods (b/137460243), so explicitly bind.\n        super.finalize.call(this);\n        // Prepare styling that is stamped at first render time. Styling\n        // is built from user provided `styles` or is inherited from the superclass.\n        this._styles =\n            this.hasOwnProperty(JSCompiler_renameProperty('styles', this)) ?\n                this._getUniqueStyles() :\n                this._styles || [];\n    }\n    /** @nocollapse */\n    static _getUniqueStyles() {\n        // Take care not to call `this.styles` multiple times since this generates\n        // new CSSResults each time.\n        // TODO(sorvell): Since we do not cache CSSResults by input, any\n        // shared styles will generate new stylesheet objects, which is wasteful.\n        // This should be addressed when a browser ships constructable\n        // stylesheets.\n        const userStyles = this.styles;\n        const styles = [];\n        if (Array.isArray(userStyles)) {\n            const flatStyles = flattenStyles(userStyles);\n            // As a performance optimization to avoid duplicated styling that can\n            // occur especially when composing via subclassing, de-duplicate styles\n            // preserving the last item in the list. The last item is kept to\n            // try to preserve cascade order with the assumption that it's most\n            // important that last added styles override previous styles.\n            const styleSet = flatStyles.reduceRight((set, s) => {\n                set.add(s);\n                // on IE set.add does not return the set.\n                return set;\n            }, new Set());\n            // Array.from does not work on Set in IE\n            styleSet.forEach((v) => styles.unshift(v));\n        }\n        else if (userStyles) {\n            styles.push(userStyles);\n        }\n        return styles;\n    }\n    /**\n     * Performs element initialization. By default this calls `createRenderRoot`\n     * to create the element `renderRoot` node and captures any pre-set values for\n     * registered properties.\n     */\n    initialize() {\n        super.initialize();\n        this.renderRoot =\n            this.createRenderRoot();\n        // Note, if renderRoot is not a shadowRoot, styles would/could apply to the\n        // element's getRootNode(). While this could be done, we're choosing not to\n        // support this now since it would require different logic around de-duping.\n        if (window.ShadowRoot && this.renderRoot instanceof window.ShadowRoot) {\n            this.adoptStyles();\n        }\n    }\n    /**\n     * Returns the node into which the element should render and by default\n     * creates and returns an open shadowRoot. Implement to customize where the\n     * element's DOM is rendered. For example, to render into the element's\n     * childNodes, return `this`.\n     * @returns {Element|DocumentFragment} Returns a node into which to render.\n     */\n    createRenderRoot() {\n        return this.attachShadow({ mode: 'open' });\n    }\n    /**\n     * Applies styling to the element shadowRoot using the `static get styles`\n     * property. Styling will apply using `shadowRoot.adoptedStyleSheets` where\n     * available and will fallback otherwise. When Shadow DOM is polyfilled,\n     * ShadyCSS scopes styles and adds them to the document. When Shadow DOM\n     * is available but `adoptedStyleSheets` is not, styles are appended to the\n     * end of the `shadowRoot` to [mimic spec\n     * behavior](https://wicg.github.io/construct-stylesheets/#using-constructed-stylesheets).\n     */\n    adoptStyles() {\n        const styles = this.constructor._styles;\n        if (styles.length === 0) {\n            return;\n        }\n        // There are three separate cases here based on Shadow DOM support.\n        // (1) shadowRoot polyfilled: use ShadyCSS\n        // (2) shadowRoot.adoptedStyleSheets available: use it.\n        // (3) shadowRoot.adoptedStyleSheets polyfilled: append styles after\n        // rendering\n        if (window.ShadyCSS !== undefined && !window.ShadyCSS.nativeShadow) {\n            window.ShadyCSS.ScopingShim.prepareAdoptedCssText(styles.map((s) => s.cssText), this.localName);\n        }\n        else if (supportsAdoptingStyleSheets) {\n            this.renderRoot.adoptedStyleSheets =\n                styles.map((s) => s.styleSheet);\n        }\n        else {\n            // This must be done after rendering so the actual style insertion is done\n            // in `update`.\n            this._needsShimAdoptedStyleSheets = true;\n        }\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        // Note, first update/render handles styleElement so we only call this if\n        // connected after first update.\n        if (this.hasUpdated && window.ShadyCSS !== undefined) {\n            window.ShadyCSS.styleElement(this);\n        }\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes\n     * and calls `render` to render DOM via lit-html. Setting properties inside\n     * this method will *not* trigger another update.\n     * * @param _changedProperties Map of changed properties with old values\n     */\n    update(changedProperties) {\n        super.update(changedProperties);\n        const templateResult = this.render();\n        if (templateResult instanceof TemplateResult) {\n            this.constructor\n                .render(templateResult, this.renderRoot, { scopeName: this.localName, eventContext: this });\n        }\n        // When native Shadow DOM is used but adoptedStyles are not supported,\n        // insert styling after rendering to ensure adoptedStyles have highest\n        // priority.\n        if (this._needsShimAdoptedStyleSheets) {\n            this._needsShimAdoptedStyleSheets = false;\n            this.constructor._styles.forEach((s) => {\n                const style = document.createElement('style');\n                style.textContent = s.cssText;\n                this.renderRoot.appendChild(style);\n            });\n        }\n    }\n    /**\n     * Invoked on each update to perform rendering tasks. This method must return\n     * a lit-html TemplateResult. Setting properties inside this method will *not*\n     * trigger the element to update.\n     */\n    render() {\n    }\n}\n/**\n * Ensure this class is marked as `finalized` as an optimization ensuring\n * it will not needlessly try to `finalize`.\n *\n * Note this property name is a string to prevent breaking Closure JS Compiler\n * optimizations. See updating-element.ts for more information.\n */\nLitElement['finalized'] = true;\n/**\n * Render method used to render the lit-html TemplateResult to the element's\n * DOM.\n * @param {TemplateResult} Template to render.\n * @param {Element|DocumentFragment} Node into which to render.\n * @param {String} Element name.\n * @nocollapse\n */\nLitElement.render = render;\n//# sourceMappingURL=lit-element.js.map","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { TemplateInstance } from '../lib/template-instance.js';\nimport { directive, NodePart, reparentNodes, TemplateResult } from '../lit-html.js';\nconst templateCaches = new WeakMap();\n/**\n * Enables fast switching between multiple templates by caching the DOM nodes\n * and TemplateInstances produced by the templates.\n *\n * Example:\n *\n * ```\n * let checked = false;\n *\n * html`\n *   ${cache(checked ? html`input is checked` : html`input is not checked`)}\n * `\n * ```\n */\nexport const cache = directive((value) => (part) => {\n    if (!(part instanceof NodePart)) {\n        throw new Error('cache can only be used in text bindings');\n    }\n    let templateCache = templateCaches.get(part);\n    if (templateCache === undefined) {\n        templateCache = new WeakMap();\n        templateCaches.set(part, templateCache);\n    }\n    const previousValue = part.value;\n    // First, can we update the current TemplateInstance, or do we need to move\n    // the current nodes into the cache?\n    if (previousValue instanceof TemplateInstance) {\n        if (value instanceof TemplateResult &&\n            previousValue.template === part.options.templateFactory(value)) {\n            // Same Template, just trigger an update of the TemplateInstance\n            part.setValue(value);\n            return;\n        }\n        else {\n            // Not the same Template, move the nodes from the DOM into the cache.\n            let cachedTemplate = templateCache.get(previousValue.template);\n            if (cachedTemplate === undefined) {\n                cachedTemplate = {\n                    instance: previousValue,\n                    nodes: document.createDocumentFragment(),\n                };\n                templateCache.set(previousValue.template, cachedTemplate);\n            }\n            reparentNodes(cachedTemplate.nodes, part.startNode.nextSibling, part.endNode);\n        }\n    }\n    // Next, can we reuse nodes from the cache?\n    if (value instanceof TemplateResult) {\n        const template = part.options.templateFactory(value);\n        const cachedTemplate = templateCache.get(template);\n        if (cachedTemplate !== undefined) {\n            // Move nodes out of cache\n            part.setValue(cachedTemplate.nodes);\n            part.commit();\n            // Set the Part value to the TemplateInstance so it'll update it.\n            part.value = cachedTemplate.instance;\n        }\n    }\n    part.setValue(value);\n});\n//# sourceMappingURL=cache.js.map","/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * Default configs.\n */\nvar DEFAULT_DELIMITER = '/'\nvar DEFAULT_DELIMITERS = './'\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \":test(\\\\d+)?\" => [\"test\", \"\\d+\", undefined, \"?\"]\n  // \"(\\\\d+)\"  => [undefined, undefined, \"\\d+\", undefined]\n  '(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = (options && options.delimiter) || DEFAULT_DELIMITER\n  var delimiters = (options && options.delimiters) || DEFAULT_DELIMITERS\n  var pathEscaped = false\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) !== null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      pathEscaped = true\n      continue\n    }\n\n    var prev = ''\n    var next = str[index]\n    var name = res[2]\n    var capture = res[3]\n    var group = res[4]\n    var modifier = res[5]\n\n    if (!pathEscaped && path.length) {\n      var k = path.length - 1\n\n      if (delimiters.indexOf(path[k]) > -1) {\n        prev = path[k]\n        path = path.slice(0, k)\n      }\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n      pathEscaped = false\n    }\n\n    var partial = prev !== '' && next !== undefined && next !== prev\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = prev || defaultDelimiter\n    var pattern = capture || group\n\n    tokens.push({\n      name: name || key++,\n      prefix: prev,\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      pattern: pattern ? escapeGroup(pattern) : '[^' + escapeString(delimiter) + ']+?'\n    })\n  }\n\n  // Push any remaining characters.\n  if (path || index < str.length) {\n    tokens.push(path + str.substr(index))\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options))\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$')\n    }\n  }\n\n  return function (data, options) {\n    var path = ''\n    var encode = (options && options.encode) || encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n        continue\n      }\n\n      var value = data ? data[token.name] : undefined\n      var segment\n\n      if (Array.isArray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but got array')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) continue\n\n          throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j], token)\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        segment = encode(String(value), token)\n\n        if (!matches[i].test(segment)) {\n          throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but got \"' + segment + '\"')\n        }\n\n        path += token.prefix + segment\n        continue\n      }\n\n      if (token.optional) {\n        // Prepend partial segment prefixes.\n        if (token.partial) path += token.prefix\n\n        continue\n      }\n\n      throw new TypeError('Expected \"' + token.name + '\" to be ' + (token.repeat ? 'an array' : 'a string'))\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$/()])/g, '\\\\$1')\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options && options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {Array=}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  if (!keys) return path\n\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        pattern: null\n      })\n    }\n  }\n\n  return path\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  return new RegExp('(?:' + parts.join('|') + ')', flags(options))\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}  tokens\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  options = options || {}\n\n  var strict = options.strict\n  var start = options.start !== false\n  var end = options.end !== false\n  var delimiter = escapeString(options.delimiter || DEFAULT_DELIMITER)\n  var delimiters = options.delimiters || DEFAULT_DELIMITERS\n  var endsWith = [].concat(options.endsWith || []).map(escapeString).concat('$').join('|')\n  var route = start ? '^' : ''\n  var isEndDelimited = tokens.length === 0\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n      isEndDelimited = i === tokens.length - 1 && delimiters.indexOf(token[token.length - 1]) > -1\n    } else {\n      var capture = token.repeat\n        ? '(?:' + token.pattern + ')(?:' + escapeString(token.delimiter) + '(?:' + token.pattern + '))*'\n        : token.pattern\n\n      if (keys) keys.push(token)\n\n      if (token.optional) {\n        if (token.partial) {\n          route += escapeString(token.prefix) + '(' + capture + ')?'\n        } else {\n          route += '(?:' + escapeString(token.prefix) + '(' + capture + '))?'\n        }\n      } else {\n        route += escapeString(token.prefix) + '(' + capture + ')'\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += '(?:' + delimiter + ')?'\n\n    route += endsWith === '$' ? '$' : '(?=' + endsWith + ')'\n  } else {\n    if (!strict) route += '(?:' + delimiter + '(?=' + endsWith + '))?'\n    if (!isEndDelimited) route += '(?=' + delimiter + '|' + endsWith + ')'\n  }\n\n  return new RegExp(route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {Array=}                keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys)\n  }\n\n  if (Array.isArray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), keys, options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), keys, options)\n}\n","import { pathname } from '@curi/interactions';\nimport PathToRegexp from 'path-to-regexp';\n\nfunction isAsyncRoute(route) {\r\n    return typeof route.methods.resolve !== \"undefined\";\r\n}\r\nfunction isExternalRedirect(redirect) {\r\n    return \"externalURL\" in redirect;\r\n}\r\nfunction isRedirectLocation(redirect) {\r\n    return \"url\" in redirect;\r\n}\n\nfunction finishResponse(route, match, resolvedResults, router, external) {\r\n    var _a = resolvedResults || {}, _b = _a.resolved, resolved = _b === void 0 ? null : _b, _c = _a.error, error = _c === void 0 ? null : _c;\r\n    var response = {\r\n        data: undefined,\r\n        body: undefined,\r\n        meta: undefined\r\n    };\r\n    for (var key in match) {\r\n        response[key] = match[key];\r\n    }\r\n    if (!route.methods.respond) {\r\n        return response;\r\n    }\r\n    var results = route.methods.respond({\r\n        resolved: resolved,\r\n        error: error,\r\n        match: match,\r\n        external: external\r\n    });\r\n    if (!results) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            console.warn(\"\\\"\" + match.name + \"\\\"'s response function did not return anything. Did you forget to include a return statement?\");\r\n        }\r\n        return response;\r\n    }\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n        var validProperties_1 = {\r\n            meta: true,\r\n            body: true,\r\n            data: true,\r\n            redirect: true\r\n        };\r\n        Object.keys(results).forEach(function (property) {\r\n            if (!validProperties_1.hasOwnProperty(property)) {\r\n                console.warn(\"\\\"\" + property + \"\\\" is not a valid response property. The valid properties are:\\n\\n  \" + Object.keys(validProperties_1).join(\", \"));\r\n            }\r\n        });\r\n    }\r\n    response[\"meta\"] = results[\"meta\"];\r\n    response[\"body\"] = results[\"body\"];\r\n    response[\"data\"] = results[\"data\"];\r\n    if (results[\"redirect\"]) {\r\n        response[\"redirect\"] = createRedirect(results[\"redirect\"], router);\r\n    }\r\n    return response;\r\n}\r\nfunction createRedirect(redirect, router) {\r\n    if (isExternalRedirect(redirect)) {\r\n        return redirect;\r\n    }\r\n    var name = redirect.name, params = redirect.params, query = redirect.query, hash = redirect.hash, state = redirect.state;\r\n    var url = isRedirectLocation(redirect)\r\n        ? redirect.url\r\n        : router.url({ name: name, params: params, query: query, hash: hash });\r\n    return {\r\n        name: name,\r\n        params: params,\r\n        query: query,\r\n        hash: hash,\r\n        state: state,\r\n        url: url\r\n    };\r\n}\n\nfunction createRouter(historyConstructor, routes, options) {\r\n    if (options === void 0) { options = {}; }\r\n    var latestResponse;\r\n    var latestNavigation;\r\n    var history = historyConstructor(function (pendingNav) {\r\n        var navigation = {\r\n            action: pendingNav.action,\r\n            previous: latestResponse\r\n        };\r\n        var matched = routes.match(pendingNav.location);\r\n        if (!matched) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                console.warn(\"The current location (\" + pendingNav.location.pathname + \") has no matching route, \" +\r\n                    'so a response could not be emitted. A catch-all route ({ path: \"(.*)\" }) ' +\r\n                    \"can be used to match locations with no other matching route.\");\r\n            }\r\n            pendingNav.finish();\r\n            finishAndResetNavCallbacks();\r\n            return;\r\n        }\r\n        var route = matched.route, match = matched.match;\r\n        if (!isAsyncRoute(route)) {\r\n            finalizeResponseAndEmit(route, match, pendingNav, navigation, null);\r\n        }\r\n        else {\r\n            announceAsyncNav();\r\n            route.methods\r\n                .resolve(match, options.external)\r\n                .then(function (resolved) { return ({ resolved: resolved, error: null }); }, function (error) { return ({ error: error, resolved: null }); })\r\n                .then(function (resolved) {\r\n                if (pendingNav.cancelled) {\r\n                    return;\r\n                }\r\n                finalizeResponseAndEmit(route, match, pendingNav, navigation, resolved);\r\n            });\r\n        }\r\n    }, options.history || {});\r\n    function finalizeResponseAndEmit(route, match, pending, navigation, resolved) {\r\n        asyncNavComplete();\r\n        pending.finish();\r\n        var response = finishResponse(route, match, resolved, router, options.external);\r\n        finishAndResetNavCallbacks();\r\n        emitImmediate(response, navigation);\r\n    }\r\n    var _a = options.invisibleRedirects, invisibleRedirects = _a === void 0 ? false : _a;\r\n    function emitImmediate(response, navigation) {\r\n        if (!response.redirect ||\r\n            !invisibleRedirects ||\r\n            isExternalRedirect(response.redirect)) {\r\n            latestResponse = response;\r\n            latestNavigation = navigation;\r\n            var emit = { response: response, navigation: navigation, router: router };\r\n            callObservers(emit);\r\n            callOneTimersAndSideEffects(emit);\r\n        }\r\n        if (response.redirect !== undefined &&\r\n            !isExternalRedirect(response.redirect)) {\r\n            history.navigate(response.redirect, \"replace\");\r\n        }\r\n    }\r\n    function callObservers(emitted) {\r\n        observers.forEach(function (fn) {\r\n            fn(emitted);\r\n        });\r\n    }\r\n    function callOneTimersAndSideEffects(emitted) {\r\n        oneTimers.splice(0).forEach(function (fn) {\r\n            fn(emitted);\r\n        });\r\n        if (options.sideEffects) {\r\n            options.sideEffects.forEach(function (fn) {\r\n                fn(emitted);\r\n            });\r\n        }\r\n    }\r\n    /* router.observer & router.once */\r\n    var observers = [];\r\n    var oneTimers = [];\r\n    function observe(fn, options) {\r\n        var _a = (options || {}).initial, initial = _a === void 0 ? true : _a;\r\n        observers.push(fn);\r\n        if (latestResponse && initial) {\r\n            fn({\r\n                response: latestResponse,\r\n                navigation: latestNavigation,\r\n                router: router\r\n            });\r\n        }\r\n        return function () {\r\n            observers = observers.filter(function (obs) {\r\n                return obs !== fn;\r\n            });\r\n        };\r\n    }\r\n    function once(fn, options) {\r\n        var _a = (options || {}).initial, initial = _a === void 0 ? true : _a;\r\n        if (latestResponse && initial) {\r\n            fn({\r\n                response: latestResponse,\r\n                navigation: latestNavigation,\r\n                router: router\r\n            });\r\n        }\r\n        else {\r\n            oneTimers.push(fn);\r\n        }\r\n    }\r\n    /* router.url */\r\n    function url(details) {\r\n        var name = details.name, params = details.params, hash = details.hash, query = details.query;\r\n        var pathname$1;\r\n        if (name) {\r\n            var route = router.route(name);\r\n            if (route) {\r\n                pathname$1 = pathname(route, params);\r\n            }\r\n        }\r\n        return history.url({ pathname: pathname$1, hash: hash, query: query });\r\n    }\r\n    /* router.navigate */\r\n    var cancelCallback;\r\n    var finishCallback;\r\n    function navigate(details) {\r\n        cancelAndResetNavCallbacks();\r\n        var url = details.url, state = details.state, method = details.method;\r\n        history.navigate({ url: url, state: state }, method);\r\n        if (details.cancelled || details.finished) {\r\n            cancelCallback = details.cancelled;\r\n            finishCallback = details.finished;\r\n            return resetCallbacks;\r\n        }\r\n    }\r\n    function cancelAndResetNavCallbacks() {\r\n        if (cancelCallback) {\r\n            cancelCallback();\r\n        }\r\n        resetCallbacks();\r\n    }\r\n    function finishAndResetNavCallbacks() {\r\n        if (finishCallback) {\r\n            finishCallback();\r\n        }\r\n        resetCallbacks();\r\n    }\r\n    function resetCallbacks() {\r\n        cancelCallback = undefined;\r\n        finishCallback = undefined;\r\n    }\r\n    /* router.cancel */\r\n    var cancelWith;\r\n    var asyncNavNotifiers = [];\r\n    function cancel(fn) {\r\n        asyncNavNotifiers.push(fn);\r\n        return function () {\r\n            asyncNavNotifiers = asyncNavNotifiers.filter(function (can) {\r\n                return can !== fn;\r\n            });\r\n        };\r\n    }\r\n    // let any async navigation listeners (observers from router.cancel)\r\n    // know that there is an asynchronous navigation happening\r\n    function announceAsyncNav() {\r\n        if (asyncNavNotifiers.length && cancelWith === undefined) {\r\n            cancelWith = function () {\r\n                history.cancel();\r\n                asyncNavComplete();\r\n                cancelAndResetNavCallbacks();\r\n            };\r\n            asyncNavNotifiers.forEach(function (fn) {\r\n                fn(cancelWith);\r\n            });\r\n        }\r\n    }\r\n    function asyncNavComplete() {\r\n        if (cancelWith) {\r\n            cancelWith = undefined;\r\n            asyncNavNotifiers.forEach(function (fn) {\r\n                fn();\r\n            });\r\n        }\r\n    }\r\n    var router = {\r\n        route: routes.route,\r\n        history: history,\r\n        external: options.external,\r\n        observe: observe,\r\n        once: once,\r\n        cancel: cancel,\r\n        url: url,\r\n        navigate: navigate,\r\n        current: function () {\r\n            return {\r\n                response: latestResponse,\r\n                navigation: latestNavigation\r\n            };\r\n        },\r\n        destroy: function () {\r\n            history.destroy();\r\n        }\r\n    };\r\n    history.current();\r\n    return router;\r\n}\n\nvar withLeadingSlash = function (path) {\r\n    return path.charAt(0) === \"/\" ? path : \"/\" + path;\r\n};\r\nvar withTrailingSlash = function (path) {\r\n    return path.charAt(path.length - 1) === \"/\" ? path : path + \"/\";\r\n};\r\nvar join = function (beginning, end) {\r\n    return withTrailingSlash(beginning) + end;\r\n};\n\nfunction createRoute(props, map, parent) {\r\n    if (parent === void 0) { parent = {\r\n        path: \"\",\r\n        keys: []\r\n    }; }\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n        if (props.name in map) {\r\n            throw new Error(\"Multiple routes have the name \\\"\" + props.name + \"\\\". Route names must be unique.\");\r\n        }\r\n        if (props.path.charAt(0) === \"/\") {\r\n            throw new Error(\"Route paths cannot start with a forward slash (/). (Received \\\"\" + props.path + \"\\\")\");\r\n        }\r\n    }\r\n    var fullPath = withLeadingSlash(join(parent.path, props.path));\r\n    var _a = props.pathOptions || {}, _b = _a.match, matchOptions = _b === void 0 ? {} : _b, _c = _a.compile, compileOptions = _c === void 0 ? {} : _c;\r\n    // end must be false for routes with children, but we want to track its original value\r\n    var exact = matchOptions.end == null || matchOptions.end;\r\n    if (props.children && props.children.length) {\r\n        matchOptions.end = false;\r\n    }\r\n    var keys = [];\r\n    var re = PathToRegexp(withLeadingSlash(props.path), keys, matchOptions);\r\n    var keyNames = keys.map(function (key) { return key.name; });\r\n    if (parent.keys.length) {\r\n        keyNames = parent.keys.concat(keyNames);\r\n    }\r\n    var childRoutes = [];\r\n    var children = [];\r\n    if (props.children && props.children.length) {\r\n        childRoutes = props.children.map(function (child) {\r\n            return createRoute(child, map, {\r\n                path: fullPath,\r\n                keys: keyNames\r\n            });\r\n        });\r\n        children = childRoutes.map(function (child) { return child.public; });\r\n    }\r\n    var compiled = PathToRegexp.compile(fullPath);\r\n    var route = {\r\n        public: {\r\n            name: props.name,\r\n            keys: keyNames,\r\n            parent: undefined,\r\n            children: children,\r\n            methods: {\r\n                resolve: props.resolve,\r\n                respond: props.respond,\r\n                pathname: function (params) {\r\n                    return compiled(params, compileOptions);\r\n                }\r\n            },\r\n            extra: props.extra\r\n        },\r\n        matching: {\r\n            re: re,\r\n            keys: keys,\r\n            exact: exact,\r\n            parsers: props.params || {},\r\n            children: childRoutes\r\n        }\r\n    };\r\n    map[props.name] = route.public;\r\n    if (childRoutes.length) {\r\n        childRoutes.forEach(function (child) {\r\n            child.public.parent = route.public;\r\n        });\r\n    }\r\n    return route;\r\n}\n\nfunction matchLocation(location, routes) {\r\n    for (var i = 0, len = routes.length; i < len; i++) {\r\n        var routeMatches = matchRoute(routes[i], location.pathname);\r\n        if (routeMatches.length) {\r\n            return createMatch(routeMatches, location);\r\n        }\r\n    }\r\n}\r\nfunction matchRoute(route, pathname) {\r\n    var _a = route.matching, re = _a.re, children = _a.children, exact = _a.exact;\r\n    var regExpMatch = re.exec(pathname);\r\n    if (!regExpMatch) {\r\n        return [];\r\n    }\r\n    var matchedSegment = regExpMatch[0], parsed = regExpMatch.slice(1);\r\n    var matches = [{ route: route, parsed: parsed }];\r\n    var remainder = pathname.slice(matchedSegment.length);\r\n    if (!children.length || remainder === \"\") {\r\n        return matches;\r\n    }\r\n    // match that ends with a strips it from the remainder\r\n    var fullSegments = withLeadingSlash(remainder);\r\n    for (var i = 0, length_1 = children.length; i < length_1; i++) {\r\n        var matched = matchRoute(children[i], fullSegments);\r\n        if (matched.length) {\r\n            return matches.concat(matched);\r\n        }\r\n    }\r\n    return exact ? [] : matches;\r\n}\r\nfunction createMatch(routeMatches, location) {\r\n    var route = routeMatches[routeMatches.length - 1].route.public;\r\n    return {\r\n        route: route,\r\n        match: {\r\n            location: location,\r\n            name: route.name,\r\n            params: routeMatches.reduce(function (params, _a) {\r\n                var route = _a.route, parsed = _a.parsed;\r\n                parsed.forEach(function (param, index) {\r\n                    var name = route.matching.keys[index].name;\r\n                    var fn = route.matching.parsers[name] || decodeURIComponent;\r\n                    params[name] = fn(param);\r\n                });\r\n                return params;\r\n            }, {})\r\n        }\r\n    };\r\n}\n\nfunction prepareRoutes(routes) {\r\n    var mappedRoutes = {};\r\n    var prepared = routes.map(function (route) { return createRoute(route, mappedRoutes); });\r\n    return {\r\n        match: function (location) {\r\n            return matchLocation(location, prepared);\r\n        },\r\n        route: function (name) {\r\n            if (process.env.NODE_ENV !== \"production\" && !(name in mappedRoutes)) {\r\n                console.warn(\"Attempting to use route \\\"\" + name + \"\\\", but no route with that name exists.\");\r\n            }\r\n            return mappedRoutes[name];\r\n        }\r\n    };\r\n}\n\nfunction announce(fmt, mode) {\r\n    if (mode === void 0) { mode = \"assertive\"; }\r\n    var announcer = document.createElement(\"div\");\r\n    announcer.setAttribute(\"aria-live\", mode);\r\n    // https://hugogiraudel.com/2016/10/13/css-hide-and-seek/\r\n    announcer.setAttribute(\"style\", [\r\n        \"border: 0 !important;\",\r\n        \"clip: rect(1px, 1px, 1px, 1px) !important;\",\r\n        \"-webkit-clip-path: inset(50%) !important;\",\r\n        \"clip-path: inset(50%) !important;\",\r\n        \"height: 1px !important;\",\r\n        \"overflow: hidden !important;\",\r\n        \"padding: 0 !important;\",\r\n        \"position: absolute !important;\",\r\n        \"width: 1px !important;\",\r\n        \"white-space: nowrap !important;\",\r\n        \"top: 0;\"\r\n    ].join(\" \"));\r\n    document.body.appendChild(announcer);\r\n    return function (emitted) {\r\n        announcer.textContent = fmt(emitted);\r\n    };\r\n}\n\nfunction scroll() {\r\n    return function (_a) {\r\n        var response = _a.response, navigation = _a.navigation;\r\n        if (navigation.action === \"pop\") {\r\n            return;\r\n        }\r\n        // wait until after the re-render to scroll\r\n        setTimeout(function () {\r\n            var hash = response.location.hash;\r\n            if (hash !== \"\") {\r\n                var element = document.getElementById(hash);\r\n                if (element && element.scrollIntoView) {\r\n                    element.scrollIntoView();\r\n                    return;\r\n                }\r\n            }\r\n            // if there is no hash, no element matching the hash,\r\n            // or the browser doesn't support, we will just scroll\r\n            // to the top of the page\r\n            window.scrollTo(0, 0);\r\n        }, 0);\r\n    };\r\n}\n\nfunction title(callback) {\r\n    return function (emitted) {\r\n        document.title = callback(emitted);\r\n    };\r\n}\n\nexport { announce, createRouter, prepareRoutes, scroll, title };\n","function ensureBeginsWith(str, prefix) {\r\n    if (!str) {\r\n        return \"\";\r\n    }\r\n    return str.indexOf(prefix) === 0 ? str : prefix + str;\r\n}\r\nfunction stripPrefix(str, prefix) {\r\n    return str.indexOf(prefix) === 0 ? str.slice(prefix.length) : str;\r\n}\n\nexport { ensureBeginsWith, stripPrefix };\n","import { ensureBeginsWith } from '@hickory/location-utils';\n\nfunction defaultParseQuery(query) {\r\n    return query ? query : \"\";\r\n}\r\nfunction defaultStringifyQuery(query) {\r\n    return query ? query : \"\";\r\n}\r\nfunction locationUtils(options) {\r\n    if (options === void 0) { options = {}; }\r\n    var _a = options.query, _b = _a === void 0 ? {} : _a, _c = _b.parse, parseQuery = _c === void 0 ? defaultParseQuery : _c, _d = _b.stringify, stringifyQuery = _d === void 0 ? defaultStringifyQuery : _d, base = options.base;\r\n    return {\r\n        location: function (value, current) {\r\n            var url = value.url, state = value.state;\r\n            // special cases for empty/hash URLs\r\n            if (url === \"\" || url.charAt(0) === \"#\") {\r\n                if (!current) {\r\n                    current = { pathname: \"/\", hash: \"\", query: parseQuery() };\r\n                }\r\n                var details_1 = {\r\n                    pathname: current.pathname,\r\n                    hash: url.charAt(0) === \"#\" ? url.substring(1) : current.hash,\r\n                    query: current.query\r\n                };\r\n                if (state) {\r\n                    details_1.state = state;\r\n                }\r\n                return details_1;\r\n            }\r\n            // hash is always after query, so split it off first\r\n            var hashIndex = url.indexOf(\"#\");\r\n            var hash;\r\n            if (hashIndex !== -1) {\r\n                hash = url.substring(hashIndex + 1);\r\n                url = url.substring(0, hashIndex);\r\n            }\r\n            else {\r\n                hash = \"\";\r\n            }\r\n            var queryIndex = url.indexOf(\"?\");\r\n            var rawQuery;\r\n            if (queryIndex !== -1) {\r\n                rawQuery = url.substring(queryIndex + 1);\r\n                url = url.substring(0, queryIndex);\r\n            }\r\n            var query = parseQuery(rawQuery);\r\n            var pathname = base ? base.remove(url) : url;\r\n            if (pathname === \"\") {\r\n                pathname = \"/\";\r\n            }\r\n            var details = {\r\n                hash: hash,\r\n                query: query,\r\n                pathname: pathname\r\n            };\r\n            if (state) {\r\n                details.state = state;\r\n            }\r\n            return details;\r\n        },\r\n        keyed: function (location, key) {\r\n            location.key = key;\r\n            return location;\r\n        },\r\n        stringify: function (location) {\r\n            if (typeof location === \"string\") {\r\n                var firstChar = location.charAt(0);\r\n                if (firstChar === \"#\" || firstChar === \"?\") {\r\n                    return location;\r\n                }\r\n                return base ? base.add(location) : location;\r\n            }\r\n            var pathname = location.pathname !== undefined\r\n                ? base\r\n                    ? base.add(location.pathname)\r\n                    : location.pathname\r\n                : \"\";\r\n            return (pathname +\r\n                ensureBeginsWith(stringifyQuery(location.query), \"?\") +\r\n                ensureBeginsWith(location.hash, \"#\"));\r\n        }\r\n    };\r\n}\n\nfunction createKeyGenerator() {\r\n    var major = 0;\r\n    return {\r\n        major: function (previous) {\r\n            if (previous) {\r\n                major = previous[0] + 1;\r\n            }\r\n            return [major++, 0];\r\n        },\r\n        minor: function (current) {\r\n            return [current[0], current[1] + 1];\r\n        }\r\n    };\r\n}\n\nfunction navigateWith(args) {\r\n    var responseHandler = args.responseHandler, utils = args.utils, keygen = args.keygen, current = args.current, push = args.push, replace = args.replace;\r\n    var pending;\r\n    function createNavigation(location, action, finish, cancel) {\r\n        var navigation = {\r\n            location: location,\r\n            action: action,\r\n            finish: function () {\r\n                if (pending !== navigation) {\r\n                    return;\r\n                }\r\n                finish();\r\n                pending = undefined;\r\n            },\r\n            cancel: function (nextAction) {\r\n                if (pending !== navigation) {\r\n                    return;\r\n                }\r\n                cancel(nextAction);\r\n                navigation.cancelled = true;\r\n                pending = undefined;\r\n            },\r\n            cancelled: false\r\n        };\r\n        return navigation;\r\n    }\r\n    function emitNavigation(nav) {\r\n        pending = nav;\r\n        responseHandler(nav);\r\n    }\r\n    function cancelPending(action) {\r\n        if (pending) {\r\n            pending.cancel(action);\r\n            pending = undefined;\r\n        }\r\n    }\r\n    function prepare(to, navType) {\r\n        var currentLocation = current();\r\n        var location = utils.location(to, currentLocation);\r\n        switch (navType) {\r\n            case \"anchor\":\r\n                return utils.stringify(location) === utils.stringify(currentLocation)\r\n                    ? replaceNav(location)\r\n                    : pushNav(location);\r\n            case \"push\":\r\n                return pushNav(location);\r\n            case \"replace\":\r\n                return replaceNav(location);\r\n            default:\r\n                throw new Error(\"Invalid navigation type: \" + navType);\r\n        }\r\n    }\r\n    function replaceNav(location) {\r\n        var keyed = utils.keyed(location, keygen.minor(current().key));\r\n        return createNavigation(keyed, \"replace\", replace.finish(keyed), replace.cancel);\r\n    }\r\n    function pushNav(location) {\r\n        var keyed = utils.keyed(location, keygen.major(current().key));\r\n        return createNavigation(keyed, \"push\", push.finish(keyed), push.cancel);\r\n    }\r\n    return {\r\n        prepare: prepare,\r\n        emitNavigation: emitNavigation,\r\n        createNavigation: createNavigation,\r\n        cancelPending: cancelPending\r\n    };\r\n}\n\nfunction noop() { }\r\nfunction confirmation() {\r\n    var confirmFn;\r\n    return {\r\n        confirmNavigation: function (info, allow, prevent) {\r\n            if (!confirmFn) {\r\n                allow();\r\n            }\r\n            else {\r\n                confirmFn(info, allow, prevent || noop);\r\n            }\r\n        },\r\n        confirm: function (fn) {\r\n            confirmFn = fn ? fn : null;\r\n        }\r\n    };\r\n}\n\nfunction hasBase(path, prefix) {\r\n    return new RegExp(\"^\" + prefix + \"(\\\\/|\\\\?|#|$)\", \"i\").test(path);\r\n}\r\nfunction createBase(base, options) {\r\n    if (typeof base !== \"string\" ||\r\n        base.charAt(0) !== \"/\" ||\r\n        base.charAt(base.length - 1) === \"/\") {\r\n        throw new Error('The base segment \"' +\r\n            base +\r\n            '\" is not valid.' +\r\n            ' The \"base\" option must begin with a forward slash and end with a' +\r\n            \" non-forward slash character.\");\r\n    }\r\n    var _a = options || {}, _b = _a.emptyRoot, emptyRoot = _b === void 0 ? false : _b, _c = _a.strict, strict = _c === void 0 ? false : _c;\r\n    return {\r\n        add: function (path) {\r\n            if (emptyRoot) {\r\n                if (path === \"/\") {\r\n                    return base;\r\n                }\r\n                else if (path.startsWith(\"/?\") || path.startsWith(\"/#\")) {\r\n                    return \"\" + base + path.substr(1);\r\n                }\r\n            }\r\n            else if (path.charAt(0) === \"?\" || path.charAt(0) === \"#\") {\r\n                return path;\r\n            }\r\n            return \"\" + base + path;\r\n        },\r\n        remove: function (pathname) {\r\n            if (pathname === \"\") {\r\n                return \"\";\r\n            }\r\n            var exists = hasBase(pathname, base);\r\n            if (!exists) {\r\n                if (strict) {\r\n                    throw new Error(\"Expected a string that begins with \\\"\" + base + \"\\\", but received \\\"\" + pathname + \"\\\".\");\r\n                }\r\n                else {\r\n                    return pathname;\r\n                }\r\n            }\r\n            if (pathname === base) {\r\n                if (strict && !emptyRoot) {\r\n                    throw new Error(\"Received string \\\"\" + base + \"\\\", which is the same as the base, but \\\"emptyRoot\\\" is not true.\");\r\n                }\r\n                return \"/\";\r\n            }\r\n            return pathname.substr(base.length);\r\n        }\r\n    };\r\n}\n\n// deprecated name\r\nvar navigationConfirmation = confirmation;\n\nexport { locationUtils, createKeyGenerator as keyGenerator, confirmation, navigationConfirmation, navigateWith, createBase };\n","function domExists() {\r\n    return !!(window && window.location);\r\n}\r\n/*\r\n * Ignore popstate events that don't define event.state\r\n * unless they come from Chrome on iOS (because it emits\r\n * events where event.state is undefined when you click\r\n * the back button)\r\n */\r\nfunction ignorablePopstateEvent(event) {\r\n    return (event.state === undefined && navigator.userAgent.indexOf(\"CriOS\") === -1);\r\n}\r\n/*\r\n * IE 11 might throw, so just catch and return empty object when that happens\r\n */\r\nfunction getStateFromHistory() {\r\n    try {\r\n        return window.history.state || {};\r\n    }\r\n    catch (e) {\r\n        return {};\r\n    }\r\n}\n\nexport { domExists, ignorablePopstateEvent, getStateFromHistory };\n","import { locationUtils, keyGenerator, confirmation, navigateWith } from '@hickory/root';\nexport { createBase } from '@hickory/root';\nimport { domExists, getStateFromHistory, ignorablePopstateEvent } from '@hickory/dom-utils';\n\nfunction noop() { }\r\nfunction browser(fn, options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (!domExists()) {\r\n        throw new Error(\"Cannot use @hickory/browser without a DOM\");\r\n    }\r\n    var utils = locationUtils(options);\r\n    var keygen = keyGenerator();\r\n    var _a = confirmation(), confirm = _a.confirm, confirmNavigation = _a.confirmNavigation;\r\n    function fromBrowser(providedState) {\r\n        var _a = window.location, pathname = _a.pathname, search = _a.search, hash = _a.hash;\r\n        var url = pathname + search + hash;\r\n        var _b = providedState || getStateFromHistory(), key = _b.key, state = _b.state;\r\n        if (!key) {\r\n            key = keygen.major();\r\n            window.history.replaceState({ key: key, state: state }, \"\", url);\r\n        }\r\n        var location = utils.location({ url: url, state: state });\r\n        return utils.keyed(location, key);\r\n    }\r\n    function url(location) {\r\n        return utils.stringify(location);\r\n    }\r\n    // set action before location because fromBrowser enforces\r\n    // that the location has a key\r\n    var lastAction = getStateFromHistory().key !== undefined ? \"pop\" : \"push\";\r\n    var _b = navigateWith({\r\n        responseHandler: fn,\r\n        utils: utils,\r\n        keygen: keygen,\r\n        current: function () { return browserHistory.location; },\r\n        push: {\r\n            finish: function (location) {\r\n                return function () {\r\n                    var path = url(location);\r\n                    var key = location.key, state = location.state;\r\n                    try {\r\n                        window.history.pushState({ key: key, state: state }, \"\", path);\r\n                    }\r\n                    catch (e) {\r\n                        window.location.assign(path);\r\n                    }\r\n                    browserHistory.location = location;\r\n                    lastAction = \"push\";\r\n                };\r\n            },\r\n            cancel: noop\r\n        },\r\n        replace: {\r\n            finish: function (location) {\r\n                return function () {\r\n                    var path = url(location);\r\n                    var key = location.key, state = location.state;\r\n                    try {\r\n                        window.history.replaceState({ key: key, state: state }, \"\", path);\r\n                    }\r\n                    catch (e) {\r\n                        window.location.replace(path);\r\n                    }\r\n                    browserHistory.location = location;\r\n                    lastAction = \"replace\";\r\n                };\r\n            },\r\n            cancel: noop\r\n        }\r\n    }), emitNavigation = _b.emitNavigation, cancelPending = _b.cancelPending, createNavigation = _b.createNavigation, prepare = _b.prepare;\r\n    // when true, pop will ignore the navigation\r\n    var reverting = false;\r\n    function popstate(event) {\r\n        if (reverting) {\r\n            reverting = false;\r\n            return;\r\n        }\r\n        if (ignorablePopstateEvent(event)) {\r\n            return;\r\n        }\r\n        cancelPending(\"pop\");\r\n        var location = fromBrowser(event.state);\r\n        var diff = browserHistory.location.key[0] - location.key[0];\r\n        var revert = function () {\r\n            reverting = true;\r\n            window.history.go(diff);\r\n        };\r\n        confirmNavigation({\r\n            to: location,\r\n            from: browserHistory.location,\r\n            action: \"pop\"\r\n        }, function () {\r\n            emitNavigation(createNavigation(location, \"pop\", function () {\r\n                browserHistory.location = location;\r\n                lastAction = \"pop\";\r\n            }, function (nextAction) {\r\n                if (nextAction !== \"pop\") {\r\n                    revert();\r\n                }\r\n            }));\r\n        }, revert);\r\n    }\r\n    window.addEventListener(\"popstate\", popstate, false);\r\n    var browserHistory = {\r\n        location: fromBrowser(),\r\n        current: function () {\r\n            emitNavigation(createNavigation(browserHistory.location, lastAction, noop, noop));\r\n        },\r\n        url: url,\r\n        navigate: function (to, navType) {\r\n            if (navType === void 0) { navType = \"anchor\"; }\r\n            var navigation = prepare(to, navType);\r\n            cancelPending(navigation.action);\r\n            confirmNavigation({\r\n                to: navigation.location,\r\n                from: browserHistory.location,\r\n                action: navigation.action\r\n            }, function () {\r\n                emitNavigation(navigation);\r\n            });\r\n        },\r\n        go: function (num) {\r\n            window.history.go(num);\r\n        },\r\n        confirm: confirm,\r\n        cancel: function () {\r\n            cancelPending();\r\n        },\r\n        destroy: function () {\r\n            window.removeEventListener(\"popstate\", popstate);\r\n            emitNavigation = noop;\r\n        }\r\n    };\r\n    return browserHistory;\r\n}\n\nexport { browser };\n","/**\n * Interpolates the values into the string.\n * @param text\n * @param values\n * @param config\n */\nexport function interpolate(text, values, config) {\n    return Object.entries(extract(values || {})).reduce((text, [key, value]) => text.replace(new RegExp(`{{[  ]*${key}[  ]*}}`, `gm`), String(extract(value))), text);\n}\n/**\n * Returns a string based on a chain of keys using the dot notation.\n * @param key\n * @param config\n */\nexport function lookup(key, config) {\n    // Split the key in parts (example: hello.world)\n    const parts = key.split(\".\");\n    // Find the string by traversing through the strings matching the chain of keys\n    let string = config.strings;\n    // Shift through all of the parts of the key while matching with the strings.\n    // Do not continue if the string is not defined or if we have traversed all of the key parts\n    while (string != null && parts.length > 0) {\n        string = string[parts.shift()];\n    }\n    // Make sure the string is in fact a string!\n    return string != null ? string.toString() : null;\n}\n/**\n * Extracts either the value from the function or returns the value that was passed in.\n * @param obj\n */\nexport function extract(obj) {\n    return (typeof obj === \"function\") ? obj() : obj;\n}\n//# sourceMappingURL=helpers.js.map","import { LANG_CHANGED_EVENT } from \"./config\";\nimport { extract, interpolate, lookup } from \"./helpers\";\n/**\n * Default configuration object.\n */\nexport const defaultTranslateConfig = () => {\n    return {\n        loader: () => Promise.resolve({}),\n        empty: key => `[${key}]`,\n        lookup: lookup,\n        interpolate: interpolate,\n        translationCache: {}\n    };\n};\n// The current configuration.\nexport let translateConfig = defaultTranslateConfig();\n/**\n * Registers a translation config.\n * @param config\n */\nexport function registerTranslateConfig(config) {\n    return (translateConfig = Object.assign(Object.assign({}, translateConfig), config));\n}\n/**\n * Dispatches a language changed event.\n * @param detail\n */\nexport function dispatchLangChanged(detail) {\n    window.dispatchEvent(new CustomEvent(LANG_CHANGED_EVENT, { detail }));\n}\n/**\n * Updates the configuration object with a new language and strings.\n * Then dispatches that the language has changed.\n * @param newLang\n * @param newStrings\n * @param config\n */\nexport function updateLang(newLang, newStrings, config = translateConfig) {\n    dispatchLangChanged({\n        previousStrings: config.strings,\n        previousLang: config.lang,\n        lang: (config.lang = newLang),\n        strings: (config.strings = newStrings)\n    });\n}\n/**\n * Listens for changes in the language.\n * Returns a method for unsubscribing from the event.\n * @param callback\n * @param options\n */\nexport function listenForLangChanged(callback, options) {\n    const handler = (e) => callback(e.detail);\n    window.addEventListener(LANG_CHANGED_EVENT, handler, options);\n    return () => window.removeEventListener(LANG_CHANGED_EVENT, handler);\n}\n/**\n * Sets a new current language and dispatches a global language changed event.\n * @param lang\n * @param config\n */\nexport async function use(lang, config = translateConfig) {\n    // Load the translations and set the cache\n    const strings = await config.loader(lang, config);\n    config.translationCache = {};\n    // Dispatch global language changed event while setting the new values\n    updateLang(lang, strings, config);\n}\n/**\n * Translates a key and interpolates if values are defined.\n * Uses the current strings and translation cache to fetch the translation.\n * @param key (eg. \"common.get_started\")\n * @param values (eg. { count: 42 })\n * @param config\n */\nexport function get(key, values, config = translateConfig) {\n    // Either use the translation from the cache or get it and add it to the cache\n    let translation = config.translationCache[key]\n        || (config.translationCache[key] = config.lookup(key, config) || config.empty(key, config));\n    // Extract the values\n    values = values != null ? extract(values) : null;\n    // Interpolate the values and return the translation\n    return values != null ? config.interpolate(translation, values, config) : translation;\n}\n//# sourceMappingURL=translate.js.map","export const CLEANUP_PARTS_MS = 1000 * 60;\nexport const LANG_CHANGED_EVENT = \"langChanged\";\n//# sourceMappingURL=config.js.map","import { NodePart, AttributePart } from \"lit-html\";\n/** #################################################################################\n ** The purpose of this module is to provide an API to clean up the node parts cache.\n ** This is to avoid memory leaks from parts being added and removed to the template.\n ** This is necessary since lit-html currently do not provide a way of cleaning up after a directive.\n ** In the ideal world we would be able to cache the parts in a weakmap, however that makes\n ** us unable to loop over the map which is required for updating the translations when the lang changes.\n ** This module will be obsolete the day lit-html provides a way of cleaning up after a directive\n ** ##################################################################################\n\n/**\n * Check whether the part is still connected / has been removed from the DOM.\n * @param part\n */\nexport function isConnected(part) {\n    if (part instanceof NodePart) {\n        return part.startNode.isConnected;\n    }\n    else if (part instanceof AttributePart) {\n        return part.committer.element.isConnected;\n    }\n    else {\n        return part.element.isConnected;\n    }\n}\n/**\n * Removes the disconnected parts from the cache.\n */\nexport function removeDisconnectedParts(map) {\n    for (const [part] of map) {\n        if (!isConnected(part)) {\n            map.delete(part);\n        }\n    }\n}\n/**\n * Invokes a callback when the browser is idle.\n * Fallback to setTimeout.\n * @param cb\n */\nexport function whenIdle(cb) {\n    \"requestIdleCallback\" in window ? window.requestIdleCallback(cb) : setTimeout(cb);\n}\n/**\n * Starts an interval that cleans up the part cache map each X ms.\n * @param map\n * @param ms\n */\nexport function attachPartsGarbageCollector(map, ms) {\n    setInterval(() => whenIdle(() => removeDisconnectedParts(map)), ms);\n}\n//# sourceMappingURL=cleanup.js.map","import { directive } from \"lit-html\";\nimport { attachPartsGarbageCollector, isConnected } from \"./cleanup\";\nimport { CLEANUP_PARTS_MS } from \"./config\";\nimport { get, listenForLangChanged } from \"./translate\";\n// Caches the parts and the translations.\n// In the ideal world this would be a weakmap, but it is not possible to loop over weakmaps.\n// This is the best solution until lit-html provides an API to clean up after directives.\nexport const partCache = new Map();\n/**\n * Listens for changes in the language and updates all of the cached parts if necessary\n */\nfunction attachTranslateListener() {\n    listenForLangChanged((e) => {\n        for (const [part, cb] of partCache) {\n            if (isConnected(part)) {\n                updatePart(part, cb, e);\n            }\n        }\n    });\n}\nattachTranslateListener();\nattachPartsGarbageCollector(partCache, CLEANUP_PARTS_MS);\n/**\n * Handles the translation.\n * @param part\n * @param cb\n * @param e\n */\nfunction updatePart(part, cb, e) {\n    // Grab the new value\n    const newValue = cb(e);\n    // Only set the value if it has changed\n    if (part.value === newValue) {\n        return;\n    }\n    // Set the new value\n    part.setValue(newValue);\n    part.commit();\n}\n/**\n * A lit directive that invokes the callback when the language changes.\n * @param key\n * @param values\n * @param listen\n */\nexport const langChanged = directive((cb) => (part) => {\n    partCache.set(part, cb);\n    updatePart(part, cb);\n});\n/**\n * A lit directive that updates the translation when the language changes.\n * @param key\n * @param values\n * @param config\n */\nexport const translate = (key, values, config) => langChanged(() => get(key, values, config));\n//# sourceMappingURL=directive.js.map","const json = (...args) => JSON.stringify(args);\n\nexport function memoize(fn, generateKey = json) {\n  const cache = new Map();\n  const memoized = function (...args) {\n    const key = generateKey(...args);\n\n    if (!cache.has(key)) {\n      cache.set(key, fn.apply(this, args));\n    }\n\n    return cache.get(key);\n  };\n  memoized.cache = cache;\n\n  return memoized;\n}\n\nexport function debounce(fn, timeout) {\n  let timerId;\n  return function (...args) {\n    clearTimeout(timerId);\n    timerId = setTimeout(() => fn.apply(this, args), timeout);\n  };\n}\n","export default {\n  repoURL: process.env.REPO_URL,\n  baseUrl: process.env.BASE_URL,\n};\n","import config from '../config/app';\n\nconst identity = x => x;\nconst FORMATS = {\n  json: JSON,\n  raw: {\n    parse: identity,\n    stringify: identity,\n  }\n};\n\nexport function fetch(rawUrl, options = {}) {\n  const format = FORMATS[options.format || 'json'];\n\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    const url = options.absoluteUrl ? rawUrl : config.baseUrl + rawUrl;\n\n    xhr.open(options.method || 'GET', url);\n\n    if (options.headers) {\n      Object.keys(options.headers).forEach((name) => {\n        xhr.setRequestHeader(name, options.headers[name]);\n      });\n    }\n\n    xhr.onload = () => resolve({\n      status: xhr.status,\n      headers: {\n        'content-type': xhr.getResponseHeader('Content-Type'),\n      },\n      body: format.parse(xhr.responseText)\n    });\n    xhr.ontimeout = xhr.onerror = reject; // eslint-disable-line no-multi-assign\n    xhr.send(options.data ? format.stringify(options.data) : null);\n  });\n}\n","export var pages = {\"en\": {\"default\": import.meta.ROLLUP_ASSET_URL_6025a122}};\n","import { registerTranslateConfig, use, get, listenForLangChanged } from 'lit-translate';\nimport { memoize } from './utils';\nimport { fetch } from './http';\nimport { pages as langUrls } from '../lang.i18n';\n\nfunction lookup(path, config) {\n  const keys = path.split('.');\n  let pointer = config.strings;\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n\n    if (!pointer || !pointer[key]) {\n      return undefined;\n    }\n\n    pointer = pointer[key];\n  }\n\n  return pointer;\n}\n\nfunction missingKey(path) {\n  console.warn(`missing i18n key: ${path}`); // eslint-disable-line no-console\n  return path;\n}\n\nconst VAR_REGEXP = /%\\{(\\w+)\\}/g;\n\nexport function interpolate(string, vars) {\n  return string.replace(VAR_REGEXP, (_, varName) => vars[varName]);\n}\n\nconst i18n = registerTranslateConfig({\n  async loader(lang) {\n    const response = await fetch(langUrls[lang].default);\n    return response.body;\n  },\n  lookup,\n  interpolate,\n  empty: missingKey,\n});\n\nconst dateTime = memoize((locale, format) => new Intl.DateTimeFormat(locale, get(`dateTimeFormats.${format}`)));\n\nexport const LOCALES = process.env.SUPPORTED_LANGS;\n\nexport const defaultLocale = LOCALES[0];\n\nexport const locale = () => i18n.lang;\n\nexport const t = get;\n\nconst returnNull = () => null;\nexport const translationExists = key => get(key, null, {\n  empty: returnNull,\n})\n\nexport function setLocale(lang) {\n  if (!LOCALES.includes(lang)) {\n    throw new Error(`Locale ${lang} is not supported. Supported: ${LOCALES.join(', ')}`);\n  }\n\n  return use(lang);\n}\n\nexport function d(date, format = 'default') {\n  const actualDate = typeof date === 'string' ? new Date(date) : date;\n  return dateTime(i18n.lang, format).format(actualDate);\n}\n\nexport {\n  listenForLangChanged\n};\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n* @private\n*/\nvar TreeIterator = /*#__PURE__*/function () {\n  function TreeIterator(set, type) {\n    var node = set._tree;\n    var keys = Object.keys(node);\n    this.set = set;\n    this.type = type;\n    this.path = keys.length > 0 ? [{\n      node: node,\n      keys: keys\n    }] : [];\n  }\n\n  var _proto = TreeIterator.prototype;\n\n  _proto.next = function next() {\n    var value = this.dive();\n    this.backtrack();\n    return value;\n  };\n\n  _proto.dive = function dive() {\n    if (this.path.length === 0) {\n      return {\n        done: true\n      };\n    }\n\n    var _last = last(this.path),\n        node = _last.node,\n        keys = _last.keys;\n\n    if (last(keys) === LEAF) {\n      return {\n        done: false,\n        value: this.result()\n      };\n    }\n\n    this.path.push({\n      node: node[last(keys)],\n      keys: Object.keys(node[last(keys)])\n    });\n    return this.dive();\n  };\n\n  _proto.backtrack = function backtrack() {\n    if (this.path.length === 0) {\n      return;\n    }\n\n    last(this.path).keys.pop();\n\n    if (last(this.path).keys.length > 0) {\n      return;\n    }\n\n    this.path.pop();\n    this.backtrack();\n  };\n\n  _proto.key = function key() {\n    return this.set._prefix + this.path.map(function (_ref) {\n      var keys = _ref.keys;\n      return last(keys);\n    }).filter(function (key) {\n      return key !== LEAF;\n    }).join('');\n  };\n\n  _proto.value = function value() {\n    return last(this.path).node[LEAF];\n  };\n\n  _proto.result = function result() {\n    if (this.type === VALUES) {\n      return this.value();\n    }\n\n    if (this.type === KEYS) {\n      return this.key();\n    }\n\n    return [this.key(), this.value()];\n  };\n\n  _proto[Symbol.iterator] = function () {\n    return this;\n  };\n\n  return TreeIterator;\n}();\n/** @ignore */\n\n\nvar ENTRIES = 'ENTRIES';\n/** @ignore */\n\nvar KEYS = 'KEYS';\n/** @ignore */\n\nvar VALUES = 'VALUES';\n/** @ignore */\n\nvar LEAF = '';\n\nvar last = function last(array) {\n  return array[array.length - 1];\n};\n\n/**\n* @ignore\n*/\n\nvar fuzzySearch = function fuzzySearch(node, query, maxDistance) {\n  var stack = [{\n    distance: 0,\n    i: 0,\n    key: '',\n    node: node\n  }];\n  var results = {};\n  var innerStack = [];\n\n  var _loop = function _loop() {\n    var _stack$pop = stack.pop(),\n        node = _stack$pop.node,\n        distance = _stack$pop.distance,\n        key = _stack$pop.key,\n        i = _stack$pop.i,\n        edit = _stack$pop.edit;\n\n    Object.keys(node).forEach(function (k) {\n      if (k === LEAF) {\n        var totDistance = distance + (query.length - i);\n\n        var _ref = results[key] || [null, Infinity],\n            d = _ref[1];\n\n        if (totDistance <= maxDistance && totDistance < d) {\n          results[key] = [node[k], totDistance];\n        }\n      } else {\n        withinDistance(query, k, maxDistance - distance, i, edit, innerStack).forEach(function (_ref2) {\n          var d = _ref2.distance,\n              i = _ref2.i,\n              edit = _ref2.edit;\n          stack.push({\n            node: node[k],\n            distance: distance + d,\n            key: key + k,\n            i: i,\n            edit: edit\n          });\n        });\n      }\n    });\n  };\n\n  while (stack.length > 0) {\n    _loop();\n  }\n\n  return results;\n};\n/**\n* @ignore\n*/\n\nvar withinDistance = function withinDistance(a, b, maxDistance, i, edit, stack) {\n  stack.push({\n    distance: 0,\n    ia: i,\n    ib: 0,\n    edit: edit\n  });\n  var results = [];\n\n  while (stack.length > 0) {\n    var _stack$pop2 = stack.pop(),\n        distance = _stack$pop2.distance,\n        ia = _stack$pop2.ia,\n        ib = _stack$pop2.ib,\n        _edit = _stack$pop2.edit;\n\n    if (ib === b.length) {\n      results.push({\n        distance: distance,\n        i: ia,\n        edit: _edit\n      });\n      continue;\n    }\n\n    if (a[ia] === b[ib]) {\n      stack.push({\n        distance: distance,\n        ia: ia + 1,\n        ib: ib + 1,\n        edit: NONE\n      });\n    } else {\n      if (distance >= maxDistance) {\n        continue;\n      }\n\n      if (_edit !== ADD) {\n        stack.push({\n          distance: distance + 1,\n          ia: ia,\n          ib: ib + 1,\n          edit: DELETE\n        });\n      }\n\n      if (ia < a.length) {\n        if (_edit !== DELETE) {\n          stack.push({\n            distance: distance + 1,\n            ia: ia + 1,\n            ib: ib,\n            edit: ADD\n          });\n        }\n\n        if (_edit !== DELETE && _edit !== ADD) {\n          stack.push({\n            distance: distance + 1,\n            ia: ia + 1,\n            ib: ib + 1,\n            edit: CHANGE\n          });\n        }\n      }\n    }\n  }\n\n  return results;\n};\nvar NONE = 0;\nvar CHANGE = 1;\nvar ADD = 2;\nvar DELETE = 3;\n\n/**\n* A class implementing the same interface as a standard JavaScript `Map` with\n* string keys, but adding support for efficiently searching entries with prefix\n* or fuzzy search. This is the class internally used by `MiniSearch` as the\n* inverted index data structure. The implementation is a radix tree (compressed\n* prefix tree).\n*\n* @implements {Map}\n*/\n\nvar SearchableMap = /*#__PURE__*/function () {\n  function SearchableMap(tree, prefix) {\n    if (tree === void 0) {\n      tree = {};\n    }\n\n    if (prefix === void 0) {\n      prefix = '';\n    }\n\n    /** @private */\n    this._tree = tree;\n    /** @private */\n\n    this._prefix = prefix;\n  }\n  /**\n  * Creates and returns a mutable view of this `SearchableMap`, containing only\n  * entries that share the given prefix.\n  *\n  * @example\n  * let map = new SearchableMap()\n  * map.set(\"unicorn\", 1)\n  * map.set(\"universe\", 2)\n  * map.set(\"university\", 3)\n  * map.set(\"unique\", 4)\n  * map.set(\"hello\", 5)\n  *\n  * let uni = map.atPrefix(\"uni\")\n  * uni.get(\"unique\") // => 4\n  * uni.get(\"unicorn\") // => 1\n  * uni.get(\"hello\") // => undefined\n  *\n  * let univer = map.atPrefix(\"univer\")\n  * univer.get(\"unique\") // => undefined\n  * univer.get(\"universe\") // => 2\n  * univer.get(\"university\") // => 3\n  *\n  * @param {string} prefix - The prefix\n  * @return {SearchableMap} A `SearchableMap` representing a mutable view of the original Map at the given prefix\n  */\n\n\n  var _proto = SearchableMap.prototype;\n\n  _proto.atPrefix = function atPrefix(prefix) {\n    if (!prefix.startsWith(this._prefix)) {\n      throw new Error('Mismatched prefix');\n    }\n\n    var _trackDown = trackDown(this._tree, prefix.slice(this._prefix.length)),\n        node = _trackDown[0],\n        path = _trackDown[1];\n\n    if (node === undefined) {\n      var _last = last$1(path),\n          parentNode = _last[0],\n          key = _last[1];\n\n      var nodeKey = Object.keys(parentNode).find(function (k) {\n        return k !== LEAF && k.startsWith(key);\n      });\n\n      if (nodeKey !== undefined) {\n        var _ref;\n\n        return new SearchableMap((_ref = {}, _ref[nodeKey.slice(key.length)] = parentNode[nodeKey], _ref), prefix);\n      }\n    }\n\n    return new SearchableMap(node || {}, prefix);\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/clear\n  * @return {undefined}\n  */\n  ;\n\n  _proto.clear = function clear() {\n    delete this._size;\n    this._tree = {};\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/delete\n  * @param {string} key\n  * @return {undefined}\n  */\n  ;\n\n  _proto.delete = function _delete(key) {\n    delete this._size;\n    return remove(this._tree, key);\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/entries\n  * @return {Iterator}\n  */\n  ;\n\n  _proto.entries = function entries() {\n    return new TreeIterator(this, ENTRIES);\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/forEach\n  * @param {function(key: string, value: any): any} fn\n  * @return {undefined}\n  */\n  ;\n\n  _proto.forEach = function forEach(fn) {\n    for (var _iterator = this, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref2;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref2 = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref2 = _i.value;\n      }\n\n      var _ref3 = _ref2,\n          key = _ref3[0],\n          value = _ref3[1];\n      fn(key, value, this);\n    }\n  }\n  /**\n  * Returns a key-value object of all the entries that have a key within the\n  * given edit distance from the search key. The keys of the returned object are\n  * the matching keys, while the values are two-elements arrays where the first\n  * element is the value associated to the key, and the second is the edit\n  * distance of the key to the search key.\n  *\n  * @example\n  * let map = new SearchableMap()\n  * map.set('hello', 'world')\n  * map.set('hell', 'yeah')\n  * map.set('ciao', 'mondo')\n  *\n  * // Get all entries that match the key 'hallo' with a maximum edit distance of 2\n  * map.fuzzyGet('hallo', 2)\n  * // => { \"hello\": [\"world\", 1], \"hell\": [\"yeah\", 2] }\n  *\n  * // In the example, the \"hello\" key has value \"world\" and edit distance of 1\n  * // (change \"e\" to \"a\"), the key \"hell\" has value \"yeah\" and edit distance of 2\n  * // (change \"e\" to \"a\", delete \"o\")\n  *\n  * @param {string} key - The search key\n  * @param {number} maxEditDistance - The maximum edit distance\n  * @return {Object<string, Array>} A key-value object of the matching keys to their value and edit distance\n  */\n  ;\n\n  _proto.fuzzyGet = function fuzzyGet(key, maxEditDistance) {\n    return fuzzySearch(this._tree, key, maxEditDistance);\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/get\n  * @param {string} key\n  * @return {any}\n  */\n  ;\n\n  _proto.get = function get(key) {\n    var node = lookup(this._tree, key);\n    return node !== undefined ? node[LEAF] : undefined;\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/has\n  * @param {string} key\n  * @return {boolean}\n  */\n  ;\n\n  _proto.has = function has(key) {\n    var node = lookup(this._tree, key);\n    return node !== undefined && node.hasOwnProperty(LEAF);\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/keys\n  * @return {Iterator}\n  */\n  ;\n\n  _proto.keys = function keys() {\n    return new TreeIterator(this, KEYS);\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/set\n  * @param {string} key\n  * @param {any} value\n  * @return {SearchableMap} The `SearchableMap` itself, to allow chaining\n  */\n  ;\n\n  _proto.set = function set(key, value) {\n    if (typeof key !== 'string') {\n      throw new Error('key must be a string');\n    }\n\n    delete this._size;\n    var node = createPath(this._tree, key);\n    node[LEAF] = value;\n    return this;\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/size\n  * @type {number}\n  */\n  ;\n\n  /**\n  * Updates the value at the given key using the provided function. The function\n  * is called with the current value at the key, and its return value is used as\n  * the new value to be set.\n  *\n  * @example\n  * // Increment the current value by one\n  * searchableMap.update('somekey', (currentValue) => currentValue == null ? 0 : currentValue + 1)\n  *\n  * @param {string} key - The key\n  * @param {function(currentValue: any): any} fn - The function used to compute the new value from the current one\n  * @return {SearchableMap} The `SearchableMap` itself, to allow chaining\n  */\n  _proto.update = function update(key, fn) {\n    if (typeof key !== 'string') {\n      throw new Error('key must be a string');\n    }\n\n    delete this._size;\n    var node = createPath(this._tree, key);\n    node[LEAF] = fn(node[LEAF]);\n    return this;\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/values\n  * @return {Iterator}\n  */\n  ;\n\n  _proto.values = function values() {\n    return new TreeIterator(this, VALUES);\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/@@iterator\n  * @return {Iterator}\n  */\n  ;\n\n  _proto[Symbol.iterator] = function () {\n    return this.entries();\n  };\n\n  _createClass(SearchableMap, [{\n    key: \"size\",\n    get: function get() {\n      var _this = this;\n\n      if (this._size) {\n        return this._size;\n      }\n      /** @ignore */\n\n\n      this._size = 0;\n      this.forEach(function () {\n        _this._size += 1;\n      });\n      return this._size;\n    }\n  }]);\n\n  return SearchableMap;\n}();\n/**\n* Creates a `SearchableMap` from an `Iterable` of entries\n*\n* @param {Iterable|Array} entries - Entries to be inserted in the `SearchableMap`\n* @return {SearchableMap} A new `SearchableMap` with the given entries\n**/\n\n\nSearchableMap.from = function (entries) {\n  var tree = new SearchableMap();\n\n  for (var _iterator2 = entries, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n    var _ref4;\n\n    if (_isArray2) {\n      if (_i2 >= _iterator2.length) break;\n      _ref4 = _iterator2[_i2++];\n    } else {\n      _i2 = _iterator2.next();\n      if (_i2.done) break;\n      _ref4 = _i2.value;\n    }\n\n    var _ref5 = _ref4,\n        key = _ref5[0],\n        value = _ref5[1];\n    tree.set(key, value);\n  }\n\n  return tree;\n};\n/**\n* Creates a `SearchableMap` from the iterable properties of a JavaScript object\n*\n* @param {Object} object - Object of entries for the `SearchableMap`\n* @return {SearchableMap} A new `SearchableMap` with the given entries\n**/\n\n\nSearchableMap.fromObject = function (object) {\n  return SearchableMap.from(Object.entries(object));\n};\n\nvar trackDown = function trackDown(tree, key, path) {\n  if (path === void 0) {\n    path = [];\n  }\n\n  if (key.length === 0) {\n    return [tree, path];\n  }\n\n  var nodeKey = Object.keys(tree).find(function (k) {\n    return k !== LEAF && key.startsWith(k);\n  });\n\n  if (nodeKey === undefined) {\n    return trackDown(undefined, '', [].concat(path, [[tree, key]]));\n  }\n\n  return trackDown(tree[nodeKey], key.slice(nodeKey.length), [].concat(path, [[tree, nodeKey]]));\n};\n\nvar lookup = function lookup(tree, key) {\n  if (key.length === 0) {\n    return tree;\n  }\n\n  var nodeKey = Object.keys(tree).find(function (k) {\n    return k !== LEAF && key.startsWith(k);\n  });\n\n  if (nodeKey === undefined) {\n    return undefined;\n  }\n\n  return lookup(tree[nodeKey], key.slice(nodeKey.length));\n};\n\nvar createPath = function createPath(tree, key) {\n  if (key.length === 0) {\n    return tree;\n  }\n\n  var nodeKey = Object.keys(tree).find(function (k) {\n    return k !== LEAF && key.startsWith(k);\n  });\n\n  if (nodeKey === undefined) {\n    var toSplit = Object.keys(tree).find(function (k) {\n      return k !== LEAF && k.startsWith(key[0]);\n    });\n\n    if (toSplit === undefined) {\n      tree[key] = {};\n    } else {\n      var _tree$prefix;\n\n      var prefix = commonPrefix(key, toSplit);\n      tree[prefix] = (_tree$prefix = {}, _tree$prefix[toSplit.slice(prefix.length)] = tree[toSplit], _tree$prefix);\n      delete tree[toSplit];\n      return createPath(tree[prefix], key.slice(prefix.length));\n    }\n\n    return tree[key];\n  }\n\n  return createPath(tree[nodeKey], key.slice(nodeKey.length));\n};\n\nvar commonPrefix = function commonPrefix(a, b, i, length, prefix) {\n  if (i === void 0) {\n    i = 0;\n  }\n\n  if (length === void 0) {\n    length = Math.min(a.length, b.length);\n  }\n\n  if (prefix === void 0) {\n    prefix = '';\n  }\n\n  if (i >= length) {\n    return prefix;\n  }\n\n  if (a[i] !== b[i]) {\n    return prefix;\n  }\n\n  return commonPrefix(a, b, i + 1, length, prefix + a[i]);\n};\n\nvar remove = function remove(tree, key) {\n  var _trackDown2 = trackDown(tree, key),\n      node = _trackDown2[0],\n      path = _trackDown2[1];\n\n  if (node === undefined) {\n    return;\n  }\n\n  delete node[LEAF];\n  var keys = Object.keys(node);\n\n  if (keys.length === 0) {\n    cleanup(path);\n  }\n\n  if (keys.length === 1) {\n    merge(path, keys[0], node[keys[0]]);\n  }\n};\n\nvar cleanup = function cleanup(path) {\n  if (path.length === 0) {\n    return;\n  }\n\n  var _last2 = last$1(path),\n      node = _last2[0],\n      key = _last2[1];\n\n  delete node[key];\n\n  if (Object.keys(node).length === 0) {\n    cleanup(path.slice(0, -1));\n  }\n};\n\nvar merge = function merge(path, key, value) {\n  if (path.length === 0) {\n    return;\n  }\n\n  var _last3 = last$1(path),\n      node = _last3[0],\n      nodeKey = _last3[1];\n\n  node[nodeKey + key] = value;\n  delete node[nodeKey];\n};\n\nvar last$1 = function last(array) {\n  return array[array.length - 1];\n};\n\nvar _combinators;\nvar OR = 'or';\nvar AND = 'and';\n/**\n* MiniSearch is the main entrypoint class, and represents a full-text search\n* engine.\n*\n* @example\n* const documents = [\n*   {\n*     id: 1,\n*     title: 'Moby Dick',\n*     text: 'Call me Ishmael. Some years ago...',\n*     category: 'fiction'\n*   },\n*   {\n*     id: 2,\n*     title: 'Zen and the Art of Motorcycle Maintenance',\n*     text: 'I can see by my watch...',\n*     category: 'fiction'\n*   },\n*   {\n*     id: 3,\n*     title: 'Neuromancer',\n*     text: 'The sky above the port was...',\n*     category: 'fiction'\n*   },\n*   {\n*     id: 4,\n*     title: 'Zen and the Art of Archery',\n*     text: 'At first sight it must seem...',\n*     category: 'non-fiction'\n*   },\n*   // ...and more\n* ]\n*\n* // Create a search engine that indexes the 'title' and 'text' fields for\n* // full-text search. Search results will include 'title' and 'category' (plus the\n* // id field, that is always stored and returned)\n* const miniSearch = MiniSearch.new({\n*   fields: ['title', 'text'],\n*   storeFields: ['title', 'category']\n* })\n*\n* // Add documents to the index\n* miniSearch.addAll(documents)\n*\n* // Search for documents:\n* let results = miniSearch.search('zen art motorcycle')\n* // => [\n*   { id: 2, title: 'Zen and the Art of Motorcycle Maintenance', category: 'fiction', score: 2.77258 },\n*   { id: 4, title: 'Zen and the Art of Archery', category: 'non-fiction', score: 1.38629 }\n* ]\n* */\n\nvar MiniSearch = /*#__PURE__*/function () {\n  /**\n  * @param {Object} options - Configuration options\n  * @param {Array<string>} options.fields - Fields to be indexed. Required.\n  * @param {string} [options.idField='id'] - ID field, uniquely identifying a document\n  * @param {Array<string>} [options.storeFields] - Fields to store, so that search results would include them. By default none, so resuts would only contain the id field.\n  * @param {function(document: Object, fieldName: string): string} [options.extractField] - Function used to get the value of a field in a document\n  * @param {function(text: string, [fieldName]: string): Array<string>} [options.tokenize] - Function used to split a field into individual terms\n  * @param {function(term: string, [fieldName]: string): string} [options.processTerm] - Function used to process a term before indexing it or searching\n  * @param {Object} [options.searchOptions] - Default search options (see the `search` method for details)\n  *\n  * @example\n  * // Create a search engine that indexes the 'title' and 'text' fields of your\n  * // documents:\n  * const miniSearch = MiniSearch.new({ fields: ['title', 'text'] })\n  *\n  * @example\n  * // Your documents are assumed to include a unique 'id' field, but if you want\n  * // to use a different field for document identification, you can set the\n  * // 'idField' option:\n  * const miniSearch = MiniSearch.new({ idField: 'key', fields: ['title', 'text'] })\n  *\n  * @example\n  * // The full set of options (here with their default value) is:\n  * const miniSearch = MiniSearch.new({\n  *   // idField: field that uniquely identifies a document\n  *   idField: 'id',\n  *\n  *   // extractField: function used to get the value of a field in a document.\n  *   // By default, it assumes the document is a flat object with field names as\n  *   // property keys and field values as string property values, but custom logic\n  *   // can be implemented by setting this option to a custom extractor function.\n  *   extractField: (document, fieldName) => document[fieldName],\n  *\n  *   // tokenize: function used to split fields into individual terms. By\n  *   // default, it is also used to tokenize search queries, unless a specific\n  *   // `tokenize` search option is supplied. When tokenizing an indexed field,\n  *   // the field name is passed as the second argument.\n  *   tokenize: (string, _fieldName) => string.split(SPACE_OR_PUNCTUATION),\n  *\n  *   // processTerm: function used to process each tokenized term before\n  *   // indexing. It can be used for stemming and normalization. Return a falsy\n  *   // value in order to discard a term. By default, it is also used to process\n  *   // search queries, unless a specific `processTerm` option is supplied as a\n  *   // search option. When processing a term from a indexed field, the field\n  *   // name is passed as the second argument.\n  *   processTerm: (term, _fieldName) => term.toLowerCase(),\n  *\n  *   // searchOptions: default search options, see the `search` method for\n  *   // details\n  *   searchOptions: undefined,\n  *\n  *   // fields: document fields to be indexed. Mandatory, but not set by default\n  *   fields: undefined\n  *\n  *   // storeFields: document fields to be stored and returned as part of the\n  *   // search results.\n  *   storeFields: []\n  * })\n  */\n  function MiniSearch(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    /** @private */\n    this._options = _objectSpread2({}, defaultOptions, {}, options);\n    this._options.searchOptions = _objectSpread2({}, defaultSearchOptions, {}, this._options.searchOptions || {});\n    var fields = this._options.fields;\n\n    if (fields == null) {\n      throw new Error('MiniSearch: option \"fields\" must be provided');\n    }\n    /** @private */\n\n\n    this._index = new SearchableMap();\n    /** @private */\n\n    this._documentCount = 0;\n    /** @private */\n\n    this._documentIds = {};\n    /** @private */\n\n    this._fieldIds = {};\n    /** @private */\n\n    this._fieldLength = {};\n    /** @private */\n\n    this._averageFieldLength = {};\n    /** @private */\n\n    this._nextId = 0;\n    /** @private */\n\n    this._storedFields = {};\n    addFields(this, fields);\n  }\n  /**\n  * Adds a document to the index\n  *\n  * @param {Object} document - the document to be indexed\n  */\n\n\n  var _proto = MiniSearch.prototype;\n\n  _proto.add = function add(document) {\n    var _this = this;\n\n    var _this$_options = this._options,\n        extractField = _this$_options.extractField,\n        tokenize = _this$_options.tokenize,\n        processTerm = _this$_options.processTerm,\n        fields = _this$_options.fields,\n        idField = _this$_options.idField;\n\n    if (document[idField] == null) {\n      throw new Error(\"MiniSearch: document does not have ID field \\\"\" + idField + \"\\\"\");\n    }\n\n    var shortDocumentId = addDocumentId(this, document[idField]);\n    saveStoredFields(this, shortDocumentId, document);\n    fields.forEach(function (field) {\n      var tokens = tokenize(extractField(document, field) || '', field);\n      addFieldLength(_this, shortDocumentId, _this._fieldIds[field], _this.documentCount - 1, tokens.length);\n      tokens.forEach(function (term) {\n        var processedTerm = processTerm(term, field);\n\n        if (isTruthy(processedTerm)) {\n          addTerm(_this, _this._fieldIds[field], shortDocumentId, processedTerm);\n        }\n      });\n    });\n  }\n  /**\n  * Adds all the given documents to the index\n  *\n  * @param {Object[]} documents - an array of documents to be indexed\n  */\n  ;\n\n  _proto.addAll = function addAll(documents) {\n    var _this2 = this;\n\n    documents.forEach(function (document) {\n      return _this2.add(document);\n    });\n  }\n  /**\n  * Adds all the given documents to the index asynchronously.\n  *\n  * Returns a promise that resolves to undefined when the indexing is done. This\n  * method is useful when index many documents, to avoid blocking the main\n  * thread. The indexing is performed asynchronously and in chunks.\n  *\n  * @param {Object[]} documents - an array of documents to be indexed\n  * @param {Object} [options] - Configuration options\n  * @param {number} [options.chunkSize] - Size of the document chunks indexed, 10 by default\n  * @return {Promise} A promise resolving to `null` when the indexing is done\n  */\n  ;\n\n  _proto.addAllAsync = function addAllAsync(documents, options) {\n    var _this3 = this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _options = options,\n        _options$chunkSize = _options.chunkSize,\n        chunkSize = _options$chunkSize === void 0 ? 10 : _options$chunkSize;\n    var acc = {\n      chunk: [],\n      promise: Promise.resolve(null)\n    };\n\n    var _documents$reduce = documents.reduce(function (_ref, document, i) {\n      var chunk = _ref.chunk,\n          promise = _ref.promise;\n      chunk.push(document);\n\n      if ((i + 1) % chunkSize === 0) {\n        return {\n          chunk: [],\n          promise: promise.then(function () {\n            return _this3.addAll(chunk);\n          })\n        };\n      } else {\n        return {\n          chunk: chunk,\n          promise: promise\n        };\n      }\n    }, acc),\n        chunk = _documents$reduce.chunk,\n        promise = _documents$reduce.promise;\n\n    return promise.then(function () {\n      return _this3.addAll(chunk);\n    });\n  }\n  /**\n  * Removes the given document from the index.\n  *\n  * The document to delete must NOT have changed between indexing and deletion,\n  * otherwise the index will be corrupted. Therefore, when reindexing a document\n  * after a change, the correct order of operations is:\n  *\n  *   1. remove old version\n  *   2. apply changes\n  *   3. index new version\n  *\n  * @param {Object} document - the document to be indexed\n  */\n  ;\n\n  _proto.remove = function remove(document) {\n    var _this4 = this;\n\n    var _this$_options2 = this._options,\n        tokenize = _this$_options2.tokenize,\n        processTerm = _this$_options2.processTerm,\n        extractField = _this$_options2.extractField,\n        fields = _this$_options2.fields,\n        idField = _this$_options2.idField;\n\n    if (document[idField] == null) {\n      throw new Error(\"MiniSearch: document does not have ID field \\\"\" + idField + \"\\\"\");\n    }\n\n    var _ref2 = Object.entries(this._documentIds).find(function (_ref3) {\n      var _ = _ref3[0],\n          longId = _ref3[1];\n      return document[idField] === longId;\n    }) || [],\n        shortDocumentId = _ref2[0];\n\n    if (shortDocumentId == null) {\n      throw new Error(\"MiniSearch: cannot remove document with ID \" + document[idField] + \": it is not in the index\");\n    }\n\n    fields.filter(function (field) {\n      return document[field] != null;\n    }).forEach(function (field) {\n      var tokens = tokenize(extractField(document, field) || '', field);\n      tokens.forEach(function (term) {\n        var processedTerm = processTerm(term, field);\n\n        if (isTruthy(processedTerm)) {\n          removeTerm(_this4, _this4._fieldIds[field], shortDocumentId, processedTerm);\n        }\n      });\n    });\n    delete this._storedFields[shortDocumentId];\n    delete this._documentIds[shortDocumentId];\n    this._documentCount -= 1;\n  }\n  /**\n  * Search for documents matching the given search query.\n  *\n  * The result is a list of scored document IDs matching the query, sorted by\n  * descending score, and each including data about which terms were matched and\n  * in which fields.\n  *\n  * @param {string} queryString - Query string to search for\n  * @param {Object} [options] - Search options. Each option, if not given, defaults to the corresponding value of `searchOptions` given to the constructor, or to the library default.\n  * @param {Array<string>} [options.fields] - Fields to search in. If omitted, all fields are searched\n  * @param {Object<string, number>} [options.boost] - Key-value object of boosting values for fields\n  * @param {boolean|function(term: string, i: number, terms: Array<string>): boolean} [options.prefix=false] - Whether to perform prefix search. Value can be a boolean, or a function computing the boolean from each tokenized and processed query term. If a function is given, it is called with the following arguments: `term: string` - the query term; `i: number` - the term index in the query terms; `terms: Array<string>` - the array of query terms.\n  * @param {number|function(term: string, i: number, terms: Array<string>): boolean|number} [options.fuzzy=false] - If set to a number greater than or equal 1, it performs fuzzy search within a maximum edit distance equal to that value. If set to a number less than 1, it performs fuzzy search with a maximum edit distance equal to the term length times the value, rouded at the nearest integer. If set to a function, it calls the function for each tokenized and processed query term and expects a numeric value indicating the maximum edit distance, or a falsy falue if fuzzy search should not be performed. If a function is given, it is called with the following arguments: `term: string` - the query term; `i: number` - the term index in the query terms; `terms: Array<string>` - the array of query terms.\n  * @param {string} [options.combineWith='OR'] - How to combine term queries (it can be 'OR' or 'AND')\n  * @param {function(query: string): Array<string>} [options.tokenize] - Function used to tokenize the search query. It defaults to the same tokenizer used for indexing.\n  * @param {function(term: string): string|null|undefined|false} [options.processTerm] - Function used to process each search term. Return a falsy value to discard a term. Defaults to the same function used to process terms upon indexing.\n  * @param {function(result: Object): boolean} [options.filter] - Function used to filter search results, for example on the basis of stored fields\n  * @return {Array<{ id: any, score: number, match: Object }>} A sorted array of scored document IDs matching the search\n  *\n  * @example\n  * // Search for \"zen art motorcycle\" with default options: terms have to match\n  * // exactly, and individual terms are joined with OR\n  * miniSearch.search('zen art motorcycle')\n  * // => [ { id: 2, score: 2.77258, match: { ... } }, { id: 4, score: 1.38629, match: { ... } } ]\n  *\n  * @example\n  * // Search only in the 'title' field\n  * miniSearch.search('zen', { fields: ['title'] })\n  *\n  * @example\n  * // Boost a field\n  * miniSearch.search('zen', { boost: { title: 2 } })\n  *\n  * @example\n  * // Search for \"moto\" with prefix search (it will match documents\n  * // containing terms that start with \"moto\" or \"neuro\")\n  * miniSearch.search('moto neuro', { prefix: true })\n  *\n  * @example\n  * // Search for \"ismael\" with fuzzy search (it will match documents containing\n  * // terms similar to \"ismael\", with a maximum edit distance of 0.2 term.length\n  * // (rounded to nearest integer)\n  * miniSearch.search('ismael', { fuzzy: 0.2 })\n  *\n  * @example\n  * // Mix of exact match, prefix search, and fuzzy search\n  * miniSearch.search('ismael mob', {\n  *  prefix: true,\n  *  fuzzy: 0.2\n  * })\n  *\n  * @example\n  * // Perform fuzzy and prefix search depending on the search term. Here\n  * // performing prefix and fuzzy search only on terms longer than 3 characters\n  * miniSearch.search('ismael mob', {\n  *  prefix: term => term.length > 3\n  *  fuzzy: term => term.length > 3 ? 0.2 : null\n  * })\n  *\n  * @example\n  * // Combine search terms with AND (to match only documents that contain both\n  * // \"motorcycle\" and \"art\")\n  * miniSearch.search('motorcycle art', { combineWith: 'AND' })\n  *\n  * @example\n  * // Filter only results in the 'fiction' category (assuming that 'category'\n  * // is a stored field)\n  * miniSearch.search('motorcycle art', {\n  *   filter: (result) => result.category === 'fiction'\n  * })\n  */\n  ;\n\n  _proto.search = function search(queryString, options) {\n    var _this5 = this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _this$_options3 = this._options,\n        tokenize = _this$_options3.tokenize,\n        processTerm = _this$_options3.processTerm,\n        searchOptions = _this$_options3.searchOptions;\n    options = _objectSpread2({\n      tokenize: tokenize,\n      processTerm: processTerm\n    }, searchOptions, {}, options);\n    var _options2 = options,\n        searchTokenize = _options2.tokenize,\n        searchProcessTerm = _options2.processTerm;\n    var queries = searchTokenize(queryString).map(function (term) {\n      return searchProcessTerm(term);\n    }).filter(isTruthy).map(termToQuery(options));\n    var results = queries.map(function (query) {\n      return _this5.executeQuery(query, options);\n    });\n    var combinedResults = this.combineResults(results, options.combineWith);\n    return Object.entries(combinedResults).reduce(function (results, _ref4) {\n      var docId = _ref4[0],\n          _ref4$ = _ref4[1],\n          score = _ref4$.score,\n          match = _ref4$.match,\n          terms = _ref4$.terms;\n      var result = {\n        id: _this5._documentIds[docId],\n        terms: uniq(terms),\n        score: score,\n        match: match\n      };\n      Object.assign(result, _this5._storedFields[docId]);\n\n      if (options.filter == null || options.filter(result)) {\n        results.push(result);\n      }\n\n      return results;\n    }, []).sort(function (_ref5, _ref6) {\n      var a = _ref5.score;\n      var b = _ref6.score;\n      return a < b ? 1 : -1;\n    });\n  }\n  /**\n  * Provide suggestions for the given search query\n  *\n  * The result is a list of suggested modified search queries, derived from the\n  * given search query, each with a relevance score, sorted by descending score.\n  *\n  * @param {string} queryString - Query string to be expanded into suggestions\n  * @param {Object} [options] - Search options. The supported options and default values are the same as for the `search` method, except that by default prefix search is performed on the last term in the query.\n  * @return {Array<{ suggestion: string, score: number }>} A sorted array of suggestions sorted by relevance score.\n  *\n  * @example\n  * // Get suggestions for 'neuro':\n  * miniSearch.autoSuggest('neuro')\n  * // => [ { suggestion: 'neuromancer', terms: [ 'neuromancer' ], score: 0.46240 } ]\n  *\n  * @example\n  * // Get suggestions for 'zen ar':\n  * miniSearch.autoSuggest('zen ar')\n  * // => [\n  * //  { suggestion: 'zen archery art', terms: [ 'zen', 'archery', 'art' ], score: 1.73332 },\n  * //  { suggestion: 'zen art', terms: [ 'zen', 'art' ], score: 1.21313 }\n  * // ]\n  *\n  * @example\n  * // Correct spelling mistakes using fuzzy search:\n  * miniSearch.autoSuggest('neromancer', { fuzzy: 0.2 })\n  * // => [ { suggestion: 'neuromancer', terms: [ 'neuromancer' ], score: 1.03998 } ]\n  *\n  * @example\n  * // Get suggestions for 'zen ar', but only within the 'fiction' category\n  * // (assuming that 'category' is a stored field):\n  * miniSearch.autoSuggest('zen ar', {\n  *   filter: (result) => result.category === 'fiction'\n  * })\n  * // => [\n  * //  { suggestion: 'zen archery art', terms: [ 'zen', 'archery', 'art' ], score: 1.73332 },\n  * //  { suggestion: 'zen art', terms: [ 'zen', 'art' ], score: 1.21313 }\n  * // ]\n  */\n  ;\n\n  _proto.autoSuggest = function autoSuggest(queryString, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    options = _objectSpread2({}, defaultAutoSuggestOptions, {}, options);\n    var suggestions = this.search(queryString, options).reduce(function (suggestions, _ref7) {\n      var score = _ref7.score,\n          terms = _ref7.terms;\n      var phrase = terms.join(' ');\n\n      if (suggestions[phrase] == null) {\n        suggestions[phrase] = {\n          score: score,\n          terms: terms,\n          count: 1\n        };\n      } else {\n        suggestions[phrase].score += score;\n        suggestions[phrase].count += 1;\n      }\n\n      return suggestions;\n    }, {});\n    return Object.entries(suggestions).map(function (_ref8) {\n      var suggestion = _ref8[0],\n          _ref8$ = _ref8[1],\n          score = _ref8$.score,\n          terms = _ref8$.terms,\n          count = _ref8$.count;\n      return {\n        suggestion: suggestion,\n        terms: terms,\n        score: score / count\n      };\n    }).sort(function (_ref9, _ref10) {\n      var a = _ref9.score;\n      var b = _ref10.score;\n      return a < b ? 1 : -1;\n    });\n  }\n  /**\n  * Number of documents in the index\n  *\n  * @type {number}\n  */\n  ;\n\n  /**\n  * Deserializes a JSON index (serialized with `miniSearch.toJSON()`) and\n  * instantiates a MiniSearch instance. It should be given the same options\n  * originally used when serializing the index.\n  *\n  * **Warning:** JSON (de)serialization of the index is currently tightly\n  * coupled to the index implementation. For this reason, the current\n  * implementation is to be considered a _beta_ feature, subject to breaking\n  * changes changes in future releases. If a breaking change is introduced,\n  * though, it will be properly reported in the changelog.\n  *\n  * @param {string} json - JSON-serialized index\n  * @param {Object} options - configuration options, same as the constructor\n  * @return {MiniSearch} an instance of MiniSearch\n  */\n  MiniSearch.loadJSON = function loadJSON(json, options) {\n    if (options == null) {\n      throw new Error('MiniSearch: loadJSON should be given the same options used when serializing the index');\n    }\n\n    return MiniSearch.loadJS(JSON.parse(json), options);\n  }\n  /**\n  * Get the default value of an option. It will throw an error if no option with\n  * the given name exists.\n  *\n  * @param {string} optionName - name of the option\n  * @return {*} the default value of the given option\n  *\n  * @example\n  * // Get default tokenizer\n  * MiniSearch.getDefault('tokenize')\n  *\n  * @example\n  * // Get default term processor\n  * MiniSearch.getDefault('processTerm')\n  *\n  * @example\n  * // Unknown options will throw an error\n  * MiniSearch.getDefault('notExisting')\n  * // => throws 'MiniSearch: unknown option \"notExisting\"'\n  */\n  ;\n\n  MiniSearch.getDefault = function getDefault(optionName) {\n    var validKeys = Object.keys(defaultOptions);\n\n    if (validKeys.includes(optionName)) {\n      return defaultOptions[optionName];\n    } else {\n      throw new Error(\"MiniSearch: unknown option \\\"\" + optionName + \"\\\"\");\n    }\n  }\n  /**\n  * @private\n  */\n  ;\n\n  MiniSearch.loadJS = function loadJS(js, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _js$index = js.index,\n        _tree = _js$index._tree,\n        _prefix = _js$index._prefix,\n        documentCount = js.documentCount,\n        nextId = js.nextId,\n        documentIds = js.documentIds,\n        fieldIds = js.fieldIds,\n        fieldLength = js.fieldLength,\n        averageFieldLength = js.averageFieldLength,\n        storedFields = js.storedFields;\n    var miniSearch = new MiniSearch(options);\n    miniSearch._index = new SearchableMap(_tree, _prefix);\n    miniSearch._documentCount = documentCount;\n    miniSearch._nextId = nextId;\n    miniSearch._documentIds = documentIds;\n    miniSearch._fieldIds = fieldIds;\n    miniSearch._fieldLength = fieldLength;\n    miniSearch._averageFieldLength = averageFieldLength;\n    miniSearch._fieldIds = fieldIds;\n    miniSearch._storedFields = storedFields || {};\n    return miniSearch;\n  }\n  /**\n  * @private\n  * @ignore\n  */\n  ;\n\n  _proto.executeQuery = function executeQuery(query, options) {\n    var _this6 = this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    options = _objectSpread2({}, this._options.searchOptions, {}, options);\n\n    var boosts = (options.fields || this._options.fields).reduce(function (boosts, field) {\n      var _objectSpread2$1;\n\n      return _objectSpread2({}, boosts, (_objectSpread2$1 = {}, _objectSpread2$1[field] = boosts[field] || 1, _objectSpread2$1));\n    }, options.boost || {});\n\n    var _options3 = options,\n        boostDocument = _options3.boostDocument,\n        _options3$weights = _options3.weights,\n        _options3$weights$fuz = _options3$weights.fuzzy,\n        fuzzyWeight = _options3$weights$fuz === void 0 ? 0.9 : _options3$weights$fuz,\n        _options3$weights$pre = _options3$weights.prefix,\n        prefixWeight = _options3$weights$pre === void 0 ? 0.75 : _options3$weights$pre;\n    var exactMatch = termResults(this, query.term, boosts, boostDocument, this._index.get(query.term));\n\n    if (!query.fuzzy && !query.prefix) {\n      return exactMatch;\n    }\n\n    var results = [exactMatch];\n\n    if (query.prefix) {\n      this._index.atPrefix(query.term).forEach(function (term, data) {\n        var weightedDistance = 0.3 * (term.length - query.term.length) / term.length;\n        results.push(termResults(_this6, term, boosts, boostDocument, data, prefixWeight, weightedDistance));\n      });\n    }\n\n    if (query.fuzzy) {\n      var maxDistance = query.fuzzy < 1 ? Math.round(query.term.length * query.fuzzy) : query.fuzzy;\n      Object.entries(this._index.fuzzyGet(query.term, maxDistance)).forEach(function (_ref11) {\n        var term = _ref11[0],\n            _ref11$ = _ref11[1],\n            data = _ref11$[0],\n            distance = _ref11$[1];\n        var weightedDistance = distance / term.length;\n        results.push(termResults(_this6, term, boosts, boostDocument, data, fuzzyWeight, weightedDistance));\n      });\n    }\n\n    return results.reduce(combinators[OR], {});\n  }\n  /**\n  * @private\n  * @ignore\n  */\n  ;\n\n  _proto.combineResults = function combineResults(results, combineWith) {\n    if (combineWith === void 0) {\n      combineWith = OR;\n    }\n\n    if (results.length === 0) {\n      return {};\n    }\n\n    var operator = combineWith.toLowerCase();\n    return results.reduce(combinators[operator], null);\n  }\n  /**\n  * Allows serialization of the index to JSON, to possibly store it and later\n  * deserialize it with MiniSearch.loadJSON\n  *\n  * **Warning:** JSON (de)serialization of the index is currently tightly\n  * coupled to the index implementation. For this reason, the current\n  * implementation is to be considered a _beta_ feature, subject to breaking\n  * changes changes in future releases. If a breaking change is introduced,\n  * though, it will be reported in the changelog.\n  *\n  * @return {Object} the serializeable representation of the search index\n  */\n  ;\n\n  _proto.toJSON = function toJSON() {\n    return {\n      index: this._index,\n      documentCount: this._documentCount,\n      nextId: this._nextId,\n      documentIds: this._documentIds,\n      fieldIds: this._fieldIds,\n      fieldLength: this._fieldLength,\n      averageFieldLength: this._averageFieldLength,\n      storedFields: this._storedFields\n    };\n  };\n\n  _createClass(MiniSearch, [{\n    key: \"documentCount\",\n    get: function get() {\n      return this._documentCount;\n    }\n  }]);\n\n  return MiniSearch;\n}();\n\nMiniSearch.SearchableMap = SearchableMap;\n\nvar addTerm = function addTerm(self, fieldId, documentId, term) {\n  self._index.update(term, function (indexData) {\n    var _objectSpread3;\n\n    indexData = indexData || {};\n    var fieldIndex = indexData[fieldId] || {\n      df: 0,\n      ds: {}\n    };\n\n    if (fieldIndex.ds[documentId] == null) {\n      fieldIndex.df += 1;\n    }\n\n    fieldIndex.ds[documentId] = (fieldIndex.ds[documentId] || 0) + 1;\n    return _objectSpread2({}, indexData, (_objectSpread3 = {}, _objectSpread3[fieldId] = fieldIndex, _objectSpread3));\n  });\n};\n\nvar removeTerm = function removeTerm(self, fieldId, documentId, term) {\n  if (!self._index.has(term)) {\n    warnDocumentChanged(self, documentId, fieldId, term);\n    return;\n  }\n\n  self._index.update(term, function (indexData) {\n    var _objectSpread4;\n\n    var fieldIndex = indexData[fieldId];\n\n    if (fieldIndex == null || fieldIndex.ds[documentId] == null) {\n      warnDocumentChanged(self, documentId, fieldId, term);\n      return indexData;\n    }\n\n    if (fieldIndex.ds[documentId] <= 1) {\n      if (fieldIndex.df <= 1) {\n        delete indexData[fieldId];\n        return indexData;\n      }\n\n      fieldIndex.df -= 1;\n    }\n\n    if (fieldIndex.ds[documentId] <= 1) {\n      delete fieldIndex.ds[documentId];\n      return indexData;\n    }\n\n    fieldIndex.ds[documentId] -= 1;\n    return _objectSpread2({}, indexData, (_objectSpread4 = {}, _objectSpread4[fieldId] = fieldIndex, _objectSpread4));\n  });\n\n  if (Object.keys(self._index.get(term)).length === 0) {\n    self._index.delete(term);\n  }\n};\n\nvar warnDocumentChanged = function warnDocumentChanged(self, shortDocumentId, fieldId, term) {\n  if (console == null || console.warn == null) {\n    return;\n  }\n\n  var fieldName = Object.entries(self._fieldIds).find(function (_ref12) {\n    var name = _ref12[0],\n        id = _ref12[1];\n    return id === fieldId;\n  })[0];\n  console.warn(\"MiniSearch: document with ID \" + self._documentIds[shortDocumentId] + \" has changed before removal: term \\\"\" + term + \"\\\" was not present in field \\\"\" + fieldName + \"\\\". Removing a document after it has changed can corrupt the index!\");\n};\n\nvar addDocumentId = function addDocumentId(self, documentId) {\n  var shortDocumentId = self._nextId.toString(36);\n\n  self._documentIds[shortDocumentId] = documentId;\n  self._documentCount += 1;\n  self._nextId += 1;\n  return shortDocumentId;\n};\n\nvar addFields = function addFields(self, fields) {\n  fields.forEach(function (field, i) {\n    self._fieldIds[field] = i;\n  });\n};\n\nvar termResults = function termResults(self, term, boosts, boostDocument, indexData, weight, editDistance) {\n\n  if (editDistance === void 0) {\n    editDistance = 0;\n  }\n\n  if (indexData == null) {\n    return {};\n  }\n\n  return Object.entries(boosts).reduce(function (results, _ref13) {\n    var field = _ref13[0],\n        boost = _ref13[1];\n    var fieldId = self._fieldIds[field];\n\n    var _ref14 = indexData[fieldId] || {\n      ds: {}\n    },\n        df = _ref14.df,\n        ds = _ref14.ds;\n\n    Object.entries(ds).forEach(function (_ref15) {\n      var documentId = _ref15[0],\n          tf = _ref15[1];\n      var docBoost = boostDocument ? boostDocument(self._documentIds[documentId], term) : 1;\n\n      if (!docBoost) {\n        return;\n      }\n\n      var normalizedLength = self._fieldLength[documentId][fieldId] / self._averageFieldLength[fieldId];\n      results[documentId] = results[documentId] || {\n        score: 0,\n        match: {},\n        terms: []\n      };\n      results[documentId].terms.push(term);\n      results[documentId].match[term] = results[documentId].match[term] || [];\n      results[documentId].score += docBoost * score(tf, df, self._documentCount, normalizedLength, boost, editDistance);\n      results[documentId].match[term].push(field);\n    });\n    return results;\n  }, {});\n};\n\nvar addFieldLength = function addFieldLength(self, documentId, fieldId, count, length) {\n  self._averageFieldLength[fieldId] = self._averageFieldLength[fieldId] || 0;\n  var totalLength = self._averageFieldLength[fieldId] * count + length;\n  self._fieldLength[documentId] = self._fieldLength[documentId] || {};\n  self._fieldLength[documentId][fieldId] = length;\n  self._averageFieldLength[fieldId] = totalLength / (count + 1);\n};\n\nvar saveStoredFields = function saveStoredFields(self, documentId, doc) {\n  var _self$_options = self._options,\n      storeFields = _self$_options.storeFields,\n      extractField = _self$_options.extractField;\n\n  if (storeFields == null || storeFields.length === 0) {\n    return;\n  }\n\n  self._storedFields[documentId] = self._storedFields[documentId] || {};\n  storeFields.forEach(function (fieldName) {\n    var fieldValue = extractField(doc, fieldName);\n\n    if (fieldValue === undefined) {\n      return;\n    }\n\n    self._storedFields[documentId][fieldName] = fieldValue;\n  });\n};\n\nvar combinators = (_combinators = {}, _combinators[OR] = function (a, b) {\n  return Object.entries(b).reduce(function (combined, _ref16) {\n    var documentId = _ref16[0],\n        _ref16$ = _ref16[1],\n        score = _ref16$.score,\n        match = _ref16$.match,\n        terms = _ref16$.terms;\n\n    if (combined[documentId] == null) {\n      combined[documentId] = {\n        score: score,\n        match: match,\n        terms: terms\n      };\n    } else {\n      combined[documentId].score += score;\n      combined[documentId].score *= 1.5;\n      combined[documentId].terms = [].concat(combined[documentId].terms, terms);\n      Object.assign(combined[documentId].match, match);\n    }\n\n    return combined;\n  }, a || {});\n}, _combinators[AND] = function (a, b) {\n  if (a == null) {\n    return b;\n  }\n\n  return Object.entries(b).reduce(function (combined, _ref17) {\n    var documentId = _ref17[0],\n        _ref17$ = _ref17[1],\n        score = _ref17$.score,\n        match = _ref17$.match,\n        terms = _ref17$.terms;\n\n    if (a[documentId] === undefined) {\n      return combined;\n    }\n\n    combined[documentId] = combined[documentId] || {};\n    combined[documentId].score = a[documentId].score + score;\n    combined[documentId].match = _objectSpread2({}, a[documentId].match, {}, match);\n    combined[documentId].terms = [].concat(a[documentId].terms, terms);\n    return combined;\n  }, {});\n}, _combinators);\n\nvar tfIdf = function tfIdf(tf, df, n) {\n  return tf * Math.log(n / df);\n};\n\nvar score = function score(termFrequency, documentFrequency, documentCount, normalizedLength, boost, editDistance) {\n  var weight = boost / (1 + 0.333 * boost * editDistance);\n  return weight * tfIdf(termFrequency, documentFrequency, documentCount) / normalizedLength;\n};\n\nvar termToQuery = function termToQuery(options) {\n  return function (term, i, terms) {\n    var fuzzy = typeof options.fuzzy === 'function' ? options.fuzzy(term, i, terms) : options.fuzzy;\n    var prefix = typeof options.prefix === 'function' ? options.prefix(term, i, terms) : options.prefix;\n    return {\n      term: term,\n      fuzzy: fuzzy,\n      prefix: prefix\n    };\n  };\n};\n\nvar uniq = function uniq(array) {\n  return array.filter(function (element, i, array) {\n    return array.indexOf(element) === i;\n  });\n};\n\nvar isTruthy = function isTruthy(x) {\n  return !!x;\n};\n\nvar defaultOptions = {\n  idField: 'id',\n  extractField: function extractField(document, fieldName) {\n    return document[fieldName];\n  },\n  tokenize: function tokenize(string, _fieldName) {\n    return string.split(SPACE_OR_PUNCTUATION);\n  },\n  processTerm: function processTerm(term, _fieldName) {\n    return term.toLowerCase();\n  },\n  fields: undefined,\n  searchOptions: undefined,\n  storeFields: []\n};\nvar defaultSearchOptions = {\n  combineWith: OR,\n  prefix: false,\n  fuzzy: false,\n  weights: {}\n};\nvar defaultAutoSuggestOptions = {\n  prefix: function prefix(term, i, terms) {\n    return i === terms.length - 1;\n  }\n}; // This regular expression matches any Unicode space or punctuation character\n// Adapted from https://unicode.org/cldr/utility/list-unicodeset.jsp?a=%5Cp%7BZ%7D%5Cp%7BP%7D&abb=on&c=on&esc=on\n\nvar SPACE_OR_PUNCTUATION = /[\\n\\r -#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}\\xA0\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C77\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166E\\u1680\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2000-\\u200A\\u2010-\\u2029\\u202F-\\u2043\\u2045-\\u2051\\u2053-\\u205F\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4F\\u3000-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]+/;\n\nexport default MiniSearch;\n//# sourceMappingURL=index.js.map\n","function extractField(object, fieldName) {\n  switch (fieldName) {\n    case 'summary':\n      return object.meta ? object.meta.description : null;\n    case 'headings':\n      return object[fieldName].map(h => h.title).join(' ');\n    default:\n      return object[fieldName];\n  }\n}\n\nexport default {\n  extractField,\n  fields: ['title', 'headings', 'summary'],\n  searchOptions: {\n    boost: {\n      title: 2,\n    },\n  },\n};\n","import ContentType from './ContentType';\nimport * as pagesDetails from '../content/pages.pages';\n\nconst contentTypes = {\n  page: new ContentType(pagesDetails),\n};\n\nexport default (type) => {\n  const contentLoader = contentTypes[type];\n\n  if (!contentLoader) {\n    throw new TypeError(`Unknown content loader \"${type}\".`);\n  }\n\n  return contentLoader;\n};\n","import MiniSearch from 'minisearch';\nimport { fetch } from './http';\nimport { notFoundError } from './error';\nimport { memoize } from './utils';\nimport searchOptions from '../config/search';\n\nfunction markHints(result) {\n  const hints = {};\n\n  result.terms.forEach((term) => {\n    const regexp = new RegExp(`(${term})`, 'gi');\n\n    result.match[term].forEach((field) => {\n      const value = result.doc[field];\n\n      if (typeof value === 'string') {\n        hints[field] = value.replace(regexp, '<mark>$1</mark>');\n      } else if (field === 'headings') {\n        const markedValue = value.reduce((items, h) => {\n          if (h.title.toLowerCase().includes(term)) {\n            items.push({\n              id: h.id,\n              title: h.title.replace(regexp, '<mark>$1</mark>'),\n            });\n          }\n          return items;\n        }, []);\n        hints[field] = markedValue.length ? markedValue : null;\n      }\n    });\n  });\n\n  return hints;\n}\n\nexport default class Content {\n  constructor({ pages, summaries, searchIndexes }) {\n    this._pages = pages;\n    this._summaries = summaries;\n    this._searchIndexes = searchIndexes;\n    this._loadSearchIndex = memoize(this._loadSearchIndex);\n    this._getSummary = memoize(this._getSummary);\n    this._getItems = memoize(this._getItems);\n    this.byCategories = memoize(this.byCategories);\n    this.load = memoize(this.load);\n  }\n\n  async load(locale, name) {\n    const url = this._pages[locale][name];\n\n    if (!url) {\n      throw notFoundError(`Page with ${name} is not found`);\n    }\n\n    const response = await fetch(url);\n    return response.body;\n  }\n\n  async _getSummary(locale) {\n    const response = await fetch(this._summaries[locale]);\n    return response.body;\n  }\n\n  async _getItems(locale, categories = null) {\n    const groups = await this.byCategories(locale, categories);\n    return Object.keys(groups)\n      .reduce((all, category) => all.concat(groups[category]), []);\n  }\n\n  async getNearestFor(locale, pageId, categories = null) {\n    const items = await this._getItems(locale, categories);\n    const index = items.findIndex(item => item.id === pageId);\n\n    if (index === -1) {\n      return [];\n    }\n\n    const prevIndex = index - 1;\n    const nextIndex = index + 1;\n\n    return [\n      prevIndex < 0 ? undefined : items[prevIndex],\n      nextIndex >= items.length ? undefined : items[nextIndex]\n    ];\n  }\n\n  async byCategories(locale, categories = null) {\n    const { items } = await this._getSummary(locale);\n    const groups = {};\n\n    items.forEach((item) => {\n      item.categories.forEach((category) => {\n        groups[category] = groups[category] || [];\n        groups[category].push(item);\n      });\n    });\n\n    if (!Array.isArray(categories)) {\n      return groups;\n    }\n\n    return categories.reduce((filtered, category) => {\n      filtered[category] = groups[category];\n      return filtered;\n    }, {});\n  }\n\n  async at(locale, index) {\n    const { items } = await this._getSummary(locale);\n    return items[index];\n  }\n\n  async _loadSearchIndex(locale) {\n    const indexUrl = this._searchIndexes[locale];\n    const response = await fetch(indexUrl);\n    return MiniSearch.loadJS(response.body, searchOptions);\n  }\n\n  async search(locale, query, options) {\n    const [searchIndex, summary] = await Promise.all([\n      this._loadSearchIndex(locale),\n      this._getSummary(locale)\n    ]);\n    return searchIndex.search(query, options)\n      .slice(0, 15)\n      .map((result) => {\n        const [index] = summary.byId[result.id];\n        result.doc = summary.items[index];\n        result.hints = markHints(result);\n        return result;\n      });\n  }\n}\n","export function notFoundError(message) {\n  return Object.assign(new Error(message), {\n    code: 'NOT_FOUND'\n  });\n}\n","export var pages = {\"en\": {\"notfound\": import.meta.ROLLUP_ASSET_URL_7be7167e,\n\"support-casljs\": import.meta.ROLLUP_ASSET_URL_0f9a297a,\n\"advanced/ability-to-database-query\": import.meta.ROLLUP_ASSET_URL_3e491da2,\n\"advanced/customize-ability\": import.meta.ROLLUP_ASSET_URL_f2663564,\n\"advanced/debugging-testing\": import.meta.ROLLUP_ASSET_URL_160d29c0,\n\"advanced/typescript\": import.meta.ROLLUP_ASSET_URL_b9e352cb,\n\"api/casl-ability\": import.meta.ROLLUP_ASSET_URL_be97c2b3,\n\"api/casl-ability-extra\": import.meta.ROLLUP_ASSET_URL_c36fd6ee,\n\"cookbook/cache-rules\": import.meta.ROLLUP_ASSET_URL_7b139d95,\n\"cookbook/claim-authorization\": import.meta.ROLLUP_ASSET_URL_97b3a404,\n\"cookbook/intro\": import.meta.ROLLUP_ASSET_URL_c656f488,\n\"cookbook/less-confusing-can-api\": import.meta.ROLLUP_ASSET_URL_e968b8af,\n\"cookbook/roles-with-persisted-permissions\": import.meta.ROLLUP_ASSET_URL_98dac54e,\n\"cookbook/roles-with-static-permissions\": import.meta.ROLLUP_ASSET_URL_85142711,\n\"examples/angular-todo\": import.meta.ROLLUP_ASSET_URL_d08bebac,\n\"examples/aurelia-blog\": import.meta.ROLLUP_ASSET_URL_6c1ba520,\n\"examples/react-todo\": import.meta.ROLLUP_ASSET_URL_75e0bd28,\n\"examples/vue-todo\": import.meta.ROLLUP_ASSET_URL_db617b84,\n\"examples/vue-vuex-rest-api-blog\": import.meta.ROLLUP_ASSET_URL_140ec40f,\n\"guide/conditions-in-depth\": import.meta.ROLLUP_ASSET_URL_52ac2365,\n\"guide/define-aliases\": import.meta.ROLLUP_ASSET_URL_6d2629d3,\n\"guide/define-rules\": import.meta.ROLLUP_ASSET_URL_935ddd08,\n\"guide/install\": import.meta.ROLLUP_ASSET_URL_9515ba35,\n\"guide/intro\": import.meta.ROLLUP_ASSET_URL_a1fd3245,\n\"guide/restricting-fields\": import.meta.ROLLUP_ASSET_URL_e0fe4b47,\n\"guide/subject-type-detection\": import.meta.ROLLUP_ASSET_URL_15556fb7,\n\"advanced/ability-inheritance\": import.meta.ROLLUP_ASSET_URL_4e393c8e,\n\"package/casl-angular\": import.meta.ROLLUP_ASSET_URL_3250754d,\n\"package/casl-aurelia\": import.meta.ROLLUP_ASSET_URL_ca10578e,\n\"package/casl-mongoose\": import.meta.ROLLUP_ASSET_URL_1d903a7d,\n\"package/casl-react\": import.meta.ROLLUP_ASSET_URL_702b7aa8,\n\"package/casl-vue\": import.meta.ROLLUP_ASSET_URL_737953b7}};\nexport var summaries = {\"en\": import.meta.ROLLUP_ASSET_URL_56ecc27b};;\nexport var searchIndexes = {\"en\": import.meta.ROLLUP_ASSET_URL_1cf7d0fb};","import { html } from 'lit-element';\nimport content from './content';\n\nfunction respondWithError(error) {\n  if (error.code === 'NOT_FOUND') {\n    return {\n      body: html`<app-page name=\"notfound\"></app-page>`\n    };\n  }\n\n  throw error;\n}\n\nasync function loadFirstPage(loader, params) {\n  if (!params.categories) {\n    return loader.at(params.lang, 0);\n  }\n\n  const byCategories = await loader.byCategories(params.lang, params.categories);\n  const firstCategory = params.categories.find(category => byCategories[category].length);\n\n  return byCategories[firstCategory][0];\n}\n\nconst identity = x => x;\nexport const loadPages = (transformParams = identity) => async (match) => {\n  const params = transformParams(match.params);\n  const vars = { ...params };\n  const loader = content('page');\n\n  if (!match.params.id || match.params.id === 'undefined') {\n    const firstPage = await loadFirstPage(loader, params);\n    vars.redirectTo = firstPage.id;\n  } else {\n    [vars.page, vars.byCategories, vars.nav] = await Promise.all([\n      loader.load(params.lang, vars.id),\n      loader.byCategories(params.lang, params.categories),\n      loader.getNearestFor(params.lang, vars.id, vars.categories)\n    ]);\n  }\n\n  return vars;\n};\n\nexport const respondWithPage = render => ({ match, error, resolved }) => {\n  if (error) {\n    return respondWithError(error);\n  } if (resolved.redirectTo) {\n    return {\n      redirect: {\n        name: 'page',\n        params: {\n          id: resolved.redirectTo,\n          lang: match.params.lang,\n        }\n      }\n    };\n  }\n\n  return { body: render(resolved, match.params) };\n};\n\nexport const renderPage = respondWithPage(vars => ({\n  main: html`\n    <app-page name=\"${vars.id}\" .nav=\"${vars.nav}\"></app-page>\n  `,\n  sidebar: html`\n    <pages-by-categories .items=\"${vars.byCategories}\"></pages-by-categories>\n  `\n}));\n","const OLD_TO_NEW_URL = {\n  '/casl/abilities/2017/07/20/define-abilities.html': {\n    name: 'page',\n    params: { id: 'guide/define-rules', lang: 'en' }\n  },\n  '/casl/abilities/2017/07/21/check-abilities.html': {\n    name: 'page',\n    params: { id: 'guide/intro', lang: 'en' }\n  },\n  '/casl/abilities/errors/2017/07/21/error-handling.html': {\n    name: 'page',\n    params: { id: 'api/casl-ability', lang: 'en' },\n    hash: 'forbidden-error'\n  },\n  '/casl/abilities/roles/2017/07/21/roles.html': {\n    name: 'page',\n    params: { id: 'cookbook/roles-with-static-permissions', lang: 'en' },\n  },\n  '/casl/abilities/storage/2017/07/22/storing-abilities.html': {\n    name: 'page',\n    params: { id: 'cookbook/cache-rules', lang: 'en' },\n  },\n  '/casl/abilities/database/integration/2017/07/22/database-integration.html': {\n    name: 'page',\n    params: { id: 'package/casl-mongoose', lang: 'en' },\n  },\n  '/casl/abilities/2017/07/23/use-cases.html': {\n    name: 'page',\n    params: { id: 'cookbook/intro', lang: 'en' },\n  },\n  '/casl/abilities/2017/12/18/dialect-support.html': {\n    name: 'page',\n    params: { id: 'guide/install', lang: 'en' },\n    hash: 'explanation-of-different-builds'\n  }\n};\n\nexport function mapOldToNewUrl(path) {\n  return OLD_TO_NEW_URL[path] || null;\n}\n","import { prepareRoutes, createRouter } from '@curi/router';\nimport { browser, createBase } from '@hickory/browser';\nimport { routes } from '../config/routes';\nimport { locale } from './i18n';\nimport config from '../config/app';\n\nfunction parse(querystring) {\n  return querystring\n    ? JSON.parse(`{\"${querystring.replace(/&/g, '\",\"').replace(/=/g, '\":\"')}\"}`)\n    : {};\n}\n\nfunction stringify(querystring) {\n  if (!querystring) {\n    return '';\n  }\n\n  return Object.keys(querystring)\n    .reduce((qs, key) => {\n      qs.push(`${key}=${querystring[key]}`);\n      return qs;\n    }, [])\n    .join('&');\n}\n\nconst router = createRouter(browser, prepareRoutes(routes), {\n  history: {\n    base: config.baseUrl ? createBase(config.baseUrl) : undefined,\n    query: { parse, stringify }\n  }\n});\n\nconst originalUrl = router.url;\nrouter.url = (options) => {\n  const params = { lang: locale(), ...options.params };\n  return originalUrl({ ...options, params });\n};\n\nif ('scrollRestoration' in window.history) {\n  window.history.scrollRestoration = 'manual';\n}\n\nexport default router;\n","function find(name, children) {\r\n    return children.some(function (node) {\r\n        if (node.name === name) {\r\n            return true;\r\n        }\r\n        else if (node.children) {\r\n            return find(name, node.children);\r\n        }\r\n        return false;\r\n    });\r\n}\r\nfunction active(route, response, options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (response.name !== route.name &&\r\n        (!options.partial || !find(response.name, route.children))) {\r\n        return false;\r\n    }\r\n    var keys = route.keys;\r\n    if (keys.length) {\r\n        if (!options.params) {\r\n            return false;\r\n        }\r\n        for (var r = 0, length = keys.length; r < length; r++) {\r\n            var key = keys[r];\r\n            var param = options.params[key];\r\n            if (!param || param !== response.params[key]) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    if (options.components) {\r\n        return options.components(response.location);\r\n    }\r\n    return true;\r\n}\n\nfunction ancestors(route) {\r\n    var ancestors = [];\r\n    var parent = route.parent;\r\n    while (parent !== undefined) {\r\n        ancestors.unshift(parent);\r\n        parent = parent.parent;\r\n    }\r\n    return ancestors;\r\n}\n\nfunction pathname(route, params) {\r\n    return route.methods.pathname(params);\r\n}\n\nfunction prefetch(route, options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (!route.methods.resolve) {\r\n        return Promise.resolve({\r\n            resolved: null,\r\n            error: \"Could not prefetch data for \" + route.name + \" because it does not have a resolve function.\"\r\n        });\r\n    }\r\n    return route.methods\r\n        .resolve(options.match, options.external)\r\n        .then(function (resolved) { return ({ resolved: resolved, error: null }); }, function (error) { return ({ error: error, resolved: null }); });\r\n}\n\nexport { active, ancestors, pathname, prefetch };\n","import { html } from 'lit-element';\nimport { LOCALES, defaultLocale } from '../services/i18n';\nimport { loadPages, renderPage } from '../services/pageController';\nimport { mapOldToNewUrl } from '../services/oldUrls';\nimport config from './app';\n\nexport const routes = [\n  {\n    name: 'home',\n    path: `:lang(${LOCALES.join('|')})`,\n    respond: () => ({\n      body: {\n        main: html`<home-page></home-page>`\n      }\n    }),\n    children: [\n      {\n        name: 'api',\n        path: 'api/:id?',\n        resolve: loadPages(params => ({\n          ...params,\n          id: `api/${params.id}`,\n          categories: ['api']\n        })),\n        respond: renderPage,\n      },\n      {\n        name: 'examples',\n        path: 'examples/:id?',\n        resolve: loadPages(params => ({\n          ...params,\n          id: `examples/${params.id}`,\n          categories: ['example']\n        })),\n        respond: renderPage,\n      },\n      {\n        name: 'page',\n        path: ':id([\\\\w/-]+)',\n        pathOptions: {\n          compile: { encode: x => x }\n        },\n        resolve: loadPages(params => ({\n          ...params,\n          categories: ['guide', 'advanced', 'package', 'cookbook']\n        })),\n        respond: renderPage\n      },\n    ]\n  },\n  {\n    name: 'notFound',\n    path: '(.*)',\n    respond({ match }) {\n      const redirectToNewUrl = mapOldToNewUrl(match.location.pathname);\n\n      if (redirectToNewUrl) {\n        return { redirect: redirectToNewUrl };\n      }\n\n      const pathname = match.location.pathname.slice(config.baseUrl.length);\n      const index = pathname.indexOf('/', 1);\n      const lang = index === -1 ? pathname.slice(1) : pathname.slice(1, index);\n\n      if (!LOCALES.includes(lang)) {\n        const { search: query, hash } = window.location;\n        return {\n          redirect: { url: `/${defaultLocale}${pathname}${query}${hash}` }\n        };\n      }\n\n      return {\n        body: html`<app-page name=\"notfound\"></app-page>`\n      };\n    }\n  }\n];\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { isPrimitive } from '../lib/parts.js';\nimport { directive, NodePart } from '../lit-html.js';\n// For each part, remember the value that was last rendered to the part by the\n// unsafeHTML directive, and the DocumentFragment that was last set as a value.\n// The DocumentFragment is used as a unique key to check if the last value\n// rendered to the part was with unsafeHTML. If not, we'll always re-render the\n// value passed to unsafeHTML.\nconst previousValues = new WeakMap();\n/**\n * Renders the result as HTML, rather than text.\n *\n * Note, this is unsafe to use with any user-provided input that hasn't been\n * sanitized or escaped, as it may lead to cross-site-scripting\n * vulnerabilities.\n */\nexport const unsafeHTML = directive((value) => (part) => {\n    if (!(part instanceof NodePart)) {\n        throw new Error('unsafeHTML can only be used in text bindings');\n    }\n    const previousValue = previousValues.get(part);\n    if (previousValue !== undefined && isPrimitive(value) &&\n        value === previousValue.value && part.value === previousValue.fragment) {\n        return;\n    }\n    const template = document.createElement('template');\n    template.innerHTML = value; // innerHTML casts to string internally\n    const fragment = document.importNode(template.content, true);\n    part.setValue(fragment);\n    previousValues.set(part, { value, fragment });\n});\n//# sourceMappingURL=unsafe-html.js.map","import { directive } from 'lit-html';\nimport { unsafeHTML } from 'lit-html/directives/unsafe-html';\nimport { langChanged, get, translate } from 'lit-translate';\nimport { d as formatDate } from '../services/i18n';\n\nexport const d = directive((date, format) => (part) => {\n  const value = formatDate(date, format);\n\n  if (part.value !== value) {\n    part.setValue(value);\n  }\n});\n\nexport const t = translate;\n\nexport const ut = directive((key, values) => langChanged(() => unsafeHTML(get(key, values))));\n","import { LitElement, html, css } from 'lit-element';\nimport { cache } from 'lit-html/directives/cache';\nimport menu from '../config/menu.yml';\nimport router from '../services/router';\nimport watchMedia from '../hooks/watchMedia';\nimport { t } from '../directives/i18n';\n\nexport default class App extends LitElement {\n  static cName = 'casl-docs';\n  static properties = {\n    ready: { type: Boolean },\n    _isMobile: { type: Boolean },\n    _route: { type: Object },\n  };\n\n  constructor() {\n    super();\n    this._route = null;\n    this._notificationsRoot = null;\n    this._menu = null;\n    this._isMobile = false;\n    this.ready = false;\n    this._unwatch = [];\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._unwatch.push(router.observe((route) => {\n      this._route = route.response;\n      this._closeMenu();\n    }, { initial: true }));\n    this._unwatch.push(watchMedia('(min-width: 768px)', v => this._isMobile = !v));\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this._unwatch.forEach(unwatch => unwatch());\n  }\n\n  updated() {\n    this._menu = this._menu || this.shadowRoot.querySelector('menu-drawer');\n  }\n\n  _toggleMenu() {\n    if (this._menu) {\n      this._menu.toggle();\n    }\n  }\n\n  _closeMenu() {\n    if (this._menu) {\n      this._menu.close();\n    }\n  }\n\n  notify(message, options = {}) {\n    const notification = document.createElement('app-notification');\n\n    notification.message = message;\n\n    if (typeof options.onClick === 'function') {\n      notification.addEventListener('click', options.onClick, false);\n    }\n\n    this._notificationsRoot = this._notificationsRoot\n      || this.shadowRoot.getElementById('notifications');\n    this._notificationsRoot.appendChild(notification);\n  }\n\n  _renderDrawerMenu(sidebar) {\n    if (!this._isMobile) {\n      return null;\n    }\n\n    return html`\n      ${sidebar}\n      <h3>${t('menu.root')}</h3>\n      <app-menu .items=\"${menu.items}\" expanded></app-menu>\n    `;\n  }\n\n  _getLayout(sidebar) {\n    if (this._route.name === 'home') {\n      return '';\n    }\n\n    if (this._isMobile) {\n      return 'col-1';\n    }\n\n    return sidebar ? 'col-2' : 'col-1';\n  }\n\n  render() {\n    if (!this._route || !this.ready) {\n      return null;\n    }\n\n    const { body } = this._route;\n    const sidebar = body.sidebar ? cache(body.sidebar) : '';\n\n    return html`\n      <menu-drawer ?disabled=\"${!this._isMobile}\">\n        <div slot=\"menu\">${this._renderDrawerMenu(sidebar)}</div>\n        <app-root\n          theme=\"${this._isMobile ? 'mobile' : 'default'}\"\n          layout=\"${this._getLayout(!!sidebar)}\"\n          .menu=\"${menu}\"\n          @toggle-menu=\"${this._toggleMenu}\"\n        >\n          <div slot=\"aside\">${sidebar}</div>\n          ${cache(body.main || body)}\n        </app-root>\n      </menu-drawer>\n      <div id=\"notifications\"></div>\n    `;\n  }\n}\n\nApp.styles = [\n  css`\n    :host {\n      display: block;\n    }\n\n    #notifications {\n      position: fixed;\n      right: 10px;\n      bottom: 10px;\n    }\n  `\n];\n","export default function watchMedia(query, onUpdate) {\n  const ql = window.matchMedia(query);\n  ql.onchange = event => onUpdate(event.matches);\n  onUpdate(ql.matches);\n  return () => ql.onchange = null;\n}\n","import { css } from 'lit-element';\n\nexport default css`\n  .row {\n    display: flex;\n  }\n\n  .row.wrap {\n    flex-wrap: wrap;\n  }\n\n  .row.align-center {\n    align-items: center;\n  }\n\n  .row.align-start {\n    align-items: start;\n  }\n\n  .col {\n    flex-grow: 1;\n    flex-basis: 0;\n    max-width: 100%;\n  }\n\n  .col-fixed {\n    flex-grow: 0;\n  }\n\n  @media (min-width: 768px) {\n    .container {\n      margin: auto;\n      max-width: 1200px;\n    }\n  }\n`;\n","import { LitElement, css, html } from 'lit-element';\nimport gridCss from '../styles/grid';\n\nexport default class AppRoot extends LitElement {\n  static cName = 'app-root';\n  static properties = {\n    theme: { type: String },\n    layout: { type: String },\n    menu: { type: Object },\n  };\n\n  constructor() {\n    super();\n    this.theme = 'default';\n    this.menu = null;\n    this.layout = '';\n  }\n\n  render() {\n    return html`\n      <app-header theme=\"${this.theme}\" .menu=\"${this.menu}\"></app-header>\n      <section class=\"content ${this.layout === 'col-2' ? 'row' : this.layout}\">\n        <aside>\n          <div class=\"aside\">\n            <slot name=\"aside\"></slot>\n          </div>\n        </aside>\n        <main><slot></slot></main>\n      </section>\n      <app-footer></app-footer>\n    `;\n  }\n}\n\nAppRoot.styles = [\n  gridCss,\n  css`\n    :host {\n      display: block;\n    }\n\n    app-header {\n      position: relative;\n      position: sticky;\n      top: 0;\n      z-index: 10;\n      background: rgba(255, 255, 255, 0.9);\n      box-shadow: rgba(0, 0, 0, 0.1) 0px 1px 2px 0px;\n    }\n\n    .row > main,\n    .col-1 > main {\n      padding-bottom: 50px;\n      min-width: 0;\n      padding: 0 10px;\n    }\n\n    aside {\n      display: none;\n    }\n\n    @media (min-width: 768px) {\n      .aside {\n        position: sticky;\n        top: 54px;\n        height: calc(100vh - 132px);\n        overflow-y: auto;\n        padding-top: 2rem;\n        padding-bottom: 50px;\n      }\n\n      .row > aside {\n        display: block;\n        flex-basis: 260px;\n        max-width: 260px;\n        min-width: 200px;\n        padding-left: 20px;\n        box-shadow: rgba(0, 0, 0, 0.1) 1px -1px 2px 0px;\n      }\n\n      .row > main {\n        flex-basis: 80%;\n        margin: 0 auto;\n        max-width: 800px;\n      }\n    }\n  `\n];\n","import { css } from 'lit-element';\n\nexport default css`\n  .md pre {\n    overflow: auto;\n  }\n\n  .md a,\n  .md app-link {\n    color: #81a2be;\n    text-decoration: underline;\n    border-bottom: 0;\n  }\n\n  .md a:hover,\n  .md app-link:hover {\n    text-decoration: none;\n    border-bottom: 0;\n  }\n\n  .md code:not([class]) {\n    color: rgb(222, 147, 95);;\n    background: #f8f8f8;\n    padding: 2px 5px;\n    margin: 0 2px;\n    border-radius: 2px;\n    white-space: nowrap;\n    font-family: \"Roboto Mono\", Monaco, courier, monospace;\n  }\n\n  .md blockquote {\n    padding: 0.8rem 1rem;\n    margin: 0;\n    border-left: 4px solid #81a2be;\n    background-color: #f8f8f8;\n    position: relative;\n    border-bottom-right-radius: 2px;\n    border-top-right-radius: 2px;\n  }\n\n  .md blockquote:before {\n    position: absolute;\n    top: 0.8rem;\n    left: -12px;\n    color: #fff;\n    background: #81a2be;\n    width: 20px;\n    height: 20px;\n    border-radius: 100%;\n    text-align: center;\n    line-height: 20px;\n    font-weight: bold;\n    font-size: 14px;\n    content: 'i';\n  }\n\n  .md blockquote > p:first-child {\n    margin-top: 0;\n  }\n\n  .md blockquote > p:last-child {\n    margin-bottom: 0;\n  }\n\n  .md blockquote + blockquote {\n    margin-top: 20px;\n  }\n\n  .md table {\n    border-collapse: collapse;\n    width: 100%;\n  }\n\n  .md .responsive {\n    width: 100%;\n    overflow-x: auto;\n  }\n\n  .md th,\n  .md td {\n    border: 1px solid #c6cbd1;\n    padding: 6px 13px;\n  }\n\n  .md tr {\n    border-top: 1px solid #c6cbd1;\n  }\n\n  .md .editor {\n    width: 100%;\n    height: 500px;\n    border: 0;\n    border-radius: 4px;\n    overflow: hidden;\n  }\n\n  .md h3::before {\n    margin-left: -15px;\n    margin-right: 5px;\n    content: '#';\n    color: #81a2be;\n  }\n`;\n","import { css } from 'lit-element';\n\nexport default css`\n  h1 {\n    margin: 2rem 0 1rem;\n    font-size: 2rem;\n  }\n\n  h2 {\n    padding-bottom: 0.3rem;\n    border-bottom: 1px solid #ddd;\n  }\n\n  h1, h2, h3, h4, h5 {\n    font-weight: normal;\n    cursor: pointer;\n  }\n\n  .description {\n    margin-top: 10px;\n    color: #333;\n    padding-left: 5px;\n  }\n\n  .description img {\n    max-width: 100%;\n    height: auto;\n  }\n`;\n","import { css } from 'lit-element';\n\nexport default css`\n  .btn {\n    display: inline-block;\n    outline: 0;\n    text-decoration: none;\n    background-color: transparent;\n    border: 1px solid #877e87;\n    border-radius: 1rem;\n    padding: .375rem 1.5rem;\n    font-weight: 700;\n    appearance: none;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    transition:\n      color .2s cubic-bezier(.08,.52,.52,1),\n      background .2s cubic-bezier(.08,.52,.52,1),\n      border-color .2s cubic-bezier(.08,.52,.52,1);\n    cursor: pointer;\n    color: #444;\n  }\n\n  .btn:hover {\n    background-color: #202428;\n    border-color: #202428;\n    color: #fff;\n  }\n`;\n","import { css } from 'lit-element';\n\nexport default css`\n  .hljs,\n  code[data-filename] {\n    display: block;\n    overflow-x: auto;\n    padding: 1rem;\n    background: #1d1f21;\n    border-radius: 7px;\n    box-shadow: rgba(0, 0, 0, 0.55) 0px 11px 11px 0px;\n    font-size: 0.8rem;\n    color: #c5c8c6;\n  }\n\n  .hljs::selection,\n  .hljs span::selection,\n  code[data-filename]::selection,\n  code[data-filename] span::selection {\n    background: #373b41;\n  }\n\n  code[data-filename] {\n    position: relative;\n    padding-top: 22px;\n  }\n\n  code[data-filename]:before {\n    position: absolute;\n    top: 0;\n    right: 0;\n    font-size: 0.7rem;\n    content: attr(data-filename);\n    padding: 2px 6px;\n    border-radius: 0 0 0 7px;\n    border-left: 1px solid #c5c8c6;\n    border-bottom: 1px solid #c5c8c6;\n    color: #fff;\n  }\n\n  .hljs-title,\n  .hljs-name {\n    color: #f0c674;\n  }\n\n  .hljs-comment {\n    color: #707880;\n  }\n\n  .hljs-meta,\n  .hljs-meta .hljs-keyword {\n    color: #f0c674;\n  }\n\n  .hljs-number,\n  .hljs-symbol,\n  .hljs-literal,\n  .hljs-deletion,\n  .hljs-link {\n    color: #cc6666\n  }\n\n  .hljs-string,\n  .hljs-doctag,\n  .hljs-addition,\n  .hljs-regexp,\n  .hljs-selector-attr,\n  .hljs-selector-pseudo {\n    color: #b5bd68;\n  }\n\n  .hljs-attribute,\n  .hljs-code,\n  .hljs-selector-id {\n    color: #b294bb;\n  }\n\n  .hljs-keyword,\n  .hljs-selector-tag,\n  .hljs-bullet,\n  .hljs-tag {\n    color: #81a2be;\n  }\n\n  .hljs-subst,\n  .hljs-variable,\n  .hljs-template-tag,\n  .hljs-template-variable {\n    color: #8abeb7;\n  }\n\n  .hljs-type,\n  .hljs-built_in,\n  .hljs-builtin-name,\n  .hljs-quote,\n  .hljs-section,\n  .hljs-selector-class {\n    color: #de935f;\n  }\n\n  .hljs-emphasis {\n    font-style: italic;\n  }\n\n  .hljs-strong {\n    font-weight: bold;\n  }\n\n  @media (min-width: 768px) {\n    code[data-filename] {\n      padding-top: 1rem;\n    }\n\n    code[data-filename]:before {\n      font-size: inherit;\n      opacity: 0.5;\n      transition: opacity .5s;\n    }\n\n    code[data-filename]:hover:before {\n      opacity: 1;\n    }\n  }\n`;\n","import { LitElement, html, css } from 'lit-element';\nimport { ut } from '../directives/i18n';\nimport { mdCss } from '../styles';\n\nexport default class Footer extends LitElement {\n  static cName = 'app-footer';\n\n  year = new Date().getFullYear();\n\n  render() {\n    return html`\n      <p class=\"links\">\n        <a href=\"https://github.com/stalniy/casl\" target=\"_blank\" rel=\"noopener\">\n          <svg aria-labelledby=\"simpleicons-github-icon\" role=\"img\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><title id=\"simpleicons-github-icon\" lang=\"en\">GitHub icon</title><path fill=\"#FFFFFF\" d=\"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12\"></path></svg>\n        </a>\n        <a href=\"https://twitter.com/sergiy_stotskiy\" target=\"_blank\" rel=\"noopener\">\n          <svg aria-labelledby=\"simpleicons-twitter-icon\" role=\"img\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><title id=\"simpleicons-twitter-icon\" lang=\"en\">Twitter icon</title><path fill=\"#FFFFFF\" d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"></path></svg>\n        </a>\n        <a href=\"https://medium.com/@sergiy.stotskiy\" target=\"_blank\" rel=\"noopener\">\n          <svg aria-labelledby=\"simpleicons-medium-icon\" role=\"img\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><title id=\"simpleicons-medium-icon\" lang=\"en\">Medium icon</title><path fill=\"#FFFFFF\" d=\"M2.846 6.36c.03-.295-.083-.586-.303-.784l-2.24-2.7v-.403H7.26l5.378 11.795 4.728-11.795H24v.403l-1.917 1.837c-.165.126-.247.333-.213.538v13.5c-.034.204.048.41.213.537l1.87 1.837v.403h-9.41v-.403l1.937-1.882c.19-.19.19-.246.19-.538V7.794l-5.39 13.688h-.727L4.278 7.794v9.174c-.052.386.076.774.347 1.053l2.52 3.06v.402H0v-.403l2.52-3.06c.27-.278.39-.67.326-1.052V6.36z\"></path></svg>\n        </a>\n      </p>\n      <p class=\"copyright md\">${ut('copyright', { year: this.year })}</p>\n    `;\n  }\n}\n\nFooter.styles = [\n  mdCss,\n  css`\n    :host {\n      --app-footer-background: #838385;\n      --app-footer-text-color: #fff;\n      --app-footer-text-size: 13px;\n\n      display: block;\n      padding: 40px 0;\n      background-color: #303846;\n      font-size: var(--app-footer-text-size);\n      text-align: center;\n      color: var(--app-footer-text-color);\n    }\n\n    .copyright {\n      white-space: pre-line;\n    }\n\n    .links svg {\n      width: 18px;\n      height: 18px;\n    }\n\n    .links a {\n      margin: 0 5px;\n    }\n  `\n];\n","import { LitElement, html, css } from 'lit-element';\nimport { t } from '../directives/i18n';\nimport { gridCss } from '../styles';\nimport menuIcon from '../assets/icons/menu.png';\n\nexport default class Header extends LitElement {\n  static cName = 'app-header';\n  static properties = {\n    menu: { type: Object },\n    theme: { type: String },\n    _isCompactSearch: { type: Boolean },\n  };\n\n  constructor() {\n    super();\n    this.theme = 'default';\n    this.menu = { items: [] };\n    this._isCompactSearch = false;\n  }\n\n  _emitToggleMenu() {\n    this.dispatchEvent(new CustomEvent('toggle-menu', {\n      bubbles: true,\n      composed: true,\n    }));\n  }\n\n  _renderControls() {\n    if (this.theme === 'default') {\n      return html`\n        <div class=\"row align-center\">\n          <app-quick-search></app-quick-search>\n          <app-menu .items=\"${this.menu.items}\"></app-menu>\n        </div>\n      `;\n    }\n\n    return html`\n      <app-quick-search\n        class=\"full-width-search\"\n        suggestionsType=\"page\"\n        toggler\n        ?compact=\"${this._isCompactSearch}\"\n        @reset=\"${this._toggleSearch}\"\n        @click-icon=\"${this._toggleSearch}\"\n      ></app-quick-search>\n    `;\n  }\n\n  _toggleSearch() {\n    this._isCompactSearch = !this._isCompactSearch;\n  }\n\n  _renderMenuToggler() {\n    if (this.theme !== 'mobile') {\n      return null;\n    }\n\n    return html`\n      <button type=\"button\" class=\"menu-toggle\" @click=\"${this._emitToggleMenu}\">\n        <img src=\"${menuIcon}\" width=\"24\">\n      </button>\n    `;\n  }\n\n  update(changed) {\n    if (changed.has('theme')) {\n      this._isCompactSearch = this.theme === 'mobile';\n    }\n\n    return super.update(changed);\n  }\n\n  render() {\n    return html`\n      <header class=\"container\">\n        ${this._renderMenuToggler()}\n        <app-link to=\"home\" class=\"logo\">${t('name')}</app-link>\n        ${this._renderControls()}\n      </header>\n      <!-- <app-lang-picker></app-lang-picker> -->\n    `;\n  }\n}\n\nHeader.styles = [\n  gridCss,\n  css`\n    :host {\n      display: block;\n    }\n\n    app-link {\n      color: #000;\n      text-decoration: none;\n    }\n\n    header {\n      position: relative;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      padding: 0 10px 0 1rem;\n    }\n\n    .logo {\n      padding-top: 4px;\n      line-height: 1;\n      font-weight: bold;\n      font-size: 2rem;\n      font-family: \"Stardos Stencil\", \"Helvetica Neue\", Arial, sans-serif;\n    }\n\n    .logo:hover {\n      border-bottom-color: transparent;\n    }\n\n    .menu-toggle {\n      position: absolute;\n      left: 0;\n      background: transparent;\n      border: 0;\n      cursor: pointer;\n    }\n\n    .menu-toggle:focus {\n      outline: none;\n    }\n\n    app-menu {\n      margin-left: 10px;\n    }\n\n    .full-width-search {\n      position: absolute;\n      right: 0;\n      box-sizing: border-box;\n      width: 100%;\n      height: 100%;\n      transition: width .3s ease-in-out;\n    }\n\n    .full-width-search[compact] {\n      width: 35px;\n      padding: 0;\n      height: auto;\n    }\n\n    @media (min-width: 768px) {\n      header {\n        justify-content: space-between;\n      }\n\n      .logo {\n        font-size: 3rem;\n      }\n\n      app-quick-search {\n        border-radius: 15px;\n        border: 1px solid #e3e3e3;\n      }\n    }\n  `\n];\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwAQMAAABtzGvEAAAABlBMVEVMaXF1dXW6QQOmAAAAAXRSTlMAQObYZgAAABZJREFUeNpjoAVg/g8EB7BSg9sUygEATXU49WmTHjIAAAAASUVORK5CYII=\"","import { LitElement, html, css } from 'lit-element';\nimport router from '../services/router';\n\nexport default class Link extends LitElement {\n  static cName = 'app-link';\n  static properties = {\n    to: { type: String },\n    params: { type: Object },\n    query: { type: Object },\n    hash: { type: String },\n    active: { type: Boolean },\n    nav: { type: Boolean }\n  };\n\n  constructor() {\n    super();\n\n    this.to = '';\n    this.active = false;\n    this.query = null;\n    this.params = null;\n    this.hash = '';\n    this.nav = false;\n    this._url = null;\n    this._unwatchRouter = null;\n  }\n\n  _isActive() {\n    const url = this._getUrl();\n    const { pathname } = window.location;\n\n    if (url.length > pathname.length) {\n      return false;\n    }\n\n    return url === pathname || pathname.startsWith(url);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.addEventListener('click', this._navigate.bind(this), false);\n\n    if (this.nav) {\n      this._unwatchRouter = router.observe(() => {\n        this.active = this._isActive();\n      }, { initial: true });\n    }\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    if (this._unwatchRouter) {\n      this._unwatchRouter();\n    }\n  }\n\n  update(changed) {\n    const isUrlChanged = ['to', 'query', 'params', 'hash'].some(prop => changed.has(prop));\n\n    if (this._url === null || isUrlChanged) {\n      this._url = this._generateUrl();\n    }\n\n    if (this.nav && changed.has('active')) {\n      const toggle = this.active ? 'add' : 'remove';\n      this.classList[toggle]('active');\n    }\n\n    return super.update(changed);\n  }\n\n  _getUrl() {\n    this._url = this._url || this._generateUrl();\n    return this._url;\n  }\n\n  _generateUrl() {\n    return router.url({\n      name: this.to,\n      hash: this.hash,\n      params: this.params,\n      query: this.query,\n    });\n  }\n\n  render() {\n    return html`\n      <a itemprop=\"url\" href=\"${this._url}\">\n        <slot></slot>\n      </a>\n    `;\n  }\n\n  _navigate(event) {\n    if (!event.ctrlKey) {\n      event.preventDefault();\n      router.navigate({ url: this._url });\n    }\n  }\n}\n\nLink.styles = css`\n  :host {\n    display: inline-block;\n    vertical-align: baseline;\n    text-decoration: none;\n    cursor: pointer;\n    border-bottom: 2px solid transparent;\n  }\n\n  :host(:hover),\n  :host(.active) {\n    border-bottom-color: #81a2be;\n  }\n\n  a {\n    font-size: inherit;\n    color: inherit;\n    text-decoration: inherit;\n  }\n\n  a:hover {\n    text-decoration: inherit;\n  }\n\n  a.active {\n    color: var(--app-link-active-color);\n  }\n`;\n","import { LitElement, html, css } from 'lit-element';\nimport { t } from '../directives/i18n';\n\nfunction renderNavItem(item) {\n  if (item.heading) {\n    return html`<h4>${t(`menu.${item.heading}`)}</h4>`;\n  }\n\n  const title = t(`menu.${item.name}`);\n\n  if (item.route === false) {\n    return html`<a class=\"link\">${title}</a>`;\n  }\n\n  if (item.url) {\n    return html`<a href=\"${item.url}\" target=\"_blank\" rel=\"nofollow\">${title}</a>`;\n  }\n\n  if (item.page) {\n    return html`<app-link nav to=\"page\" .params=\"${{ id: item.page }}\">${title}</app-link>`;\n  }\n\n  return html`<app-link nav to=\"${item.name}\">${title}</app-link>`;\n}\n\nexport default class Menu extends LitElement {\n  static cName = 'app-menu';\n  static properties = {\n    items: { type: Array },\n    expanded: { type: Boolean },\n  };\n\n  constructor() {\n    super();\n    this.items = [];\n  }\n\n  render() {\n    return html`\n      <nav\n        role=\"navigation\"\n        itemscope\n        itemtype=\"http://schema.org/SiteNavigationElement\"\n      >\n        ${this._renderNav(this.items, 'nav')}\n      </nav>\n    `;\n  }\n\n  _renderNav(items, navClass) {\n    const children = items.map(item => html`\n      <li class=\"dropdown-container\">\n        ${renderNavItem(item)}\n        ${this._renderItemNav(item)}\n      </li>\n    `);\n\n    return html`<ul class=\"${navClass}\">${children}</ul>`;\n  }\n\n  _renderItemNav({ children }) {\n    return children\n      ? this._renderNav(children, `dropdown ${this.expanded ? '' : 'expandable'}`)\n      : '';\n  }\n}\n\nMenu.styles = css`\n  :host {\n    display: block;\n  }\n\n  ul {\n    padding: 0;\n    margin: 0;\n  }\n\n  .dropdown-container {\n    display: inline-block;\n    position: relative;\n    margin: 0 1rem;\n  }\n\n  .dropdown-container:hover .dropdown {\n    display: block;\n  }\n\n  .dropdown.expandable {\n    display: none;\n    max-height: calc(100vh - 61px);\n    overflow-y: auto;\n    position: absolute;\n    top: 100%;\n    right: -15px;\n    background-color: #fff;\n    border: 1px solid #ddd;\n    border-bottom-color: #ccc;\n    border-radius: 4px;\n  }\n\n  .dropdown {\n    box-sizing: border-box;\n    padding: 10px 0;\n    text-align: left;\n    white-space: nowrap;\n  }\n\n  .dropdown li {\n    display: block;\n    margin: 0;\n    line-height: 1.6rem;\n  }\n\n  .dropdown li > ul {\n    padding-left: 0;\n  }\n\n  .dropdown li:first-child h4 {\n    margin-top: 0;\n    padding-top: 0;\n    border-top: 0;\n  }\n\n  .dropdown a,\n  .dropdown app-link,\n  .dropdown h4 {\n    padding: 0 24px 0 20px;\n  }\n\n  .dropdown h4 {\n    margin: 0.45em 0 0;\n    padding-top: 0.45rem;\n    border-top: 1px solid #eee;\n  }\n\n  .dropdown-container a,\n  .dropdown-container app-link {\n    text-decoration: none;\n  }\n\n  .nav a,\n  .nav app-link,\n  .dropdown a,\n  .dropdown app-link {\n    display: block;\n    color: #202428;\n    text-decoration: none;\n  }\n  .nav a:hover,\n  .nav app-link:hover,\n  .nav app-link.active,\n  .dropdown a:hover,\n  .dropdown app-link:hover {\n    color: #81a2be;\n    border-bottom-color: transparent;\n  }\n\n  .link {\n    display: block;\n    cursor: pointer;\n    line-height: 40px;\n  }\n\n  .link:after {\n    display: inline-block;\n    content: '';\n    vertical-align: middle;\n    margin-top: -1px;\n    margin-left: 6px;\n    margin-right: -14px;\n    width: 0;\n    height: 0;\n    border-left: 4px solid transparent;\n    border-right: 4px solid transparent;\n    border-top: 5px solid #4f5959;\n  }\n`;\n","import { LitElement, html, css } from 'lit-element';\nimport { t, d } from '../directives/i18n';\n\nexport default class ArticleDetails extends LitElement {\n  static cName = 'app-article-details';\n  static properties = {\n    article: { type: Object, attribute: false },\n    category: { type: String },\n  };\n\n  constructor() {\n    super();\n    this.article = null;\n    this.category = '';\n  }\n\n  render() {\n    const { article } = this;\n    const category = this.category || article.categories[0];\n\n    return html`\n      <time datetime=\"${article.createdAt}\" itemprop=\"datePublished\">\n        ${d(article.createdAt)}\n      </time>\n      <span>\n        ${t('article.author')}\n        <span itemprop=\"author\">${t(`article.authors.${article.author}`)}</span>\n      </span>\n      <slot name=\"more\">\n        <app-link to=\"${category}\" hash=\"comments\" .params=\"${article}\">\n          <i class=\"icon-comment\"></i>${article.commentsCount || 0}\n        </app-link>\n        <app-link to=\"${category}\" .params=\"${article}\" class=\"more\">${t('article.readMore')}</app-link>\n      </slot>\n    `;\n  }\n}\n\nArticleDetails.styles = [\n  css`\n    :host {\n      margin-top: 10px;\n      color: var(--app-article-details-color, #999);\n      font-size: 11px;\n    }\n\n    :host > * {\n      margin-right: 10px;\n    }\n\n    app-link {\n      margin-right: 10px;\n      color: var(--app-link-active-color);\n    }\n\n    app-link > [class^=\"icon-\"] {\n      margin-right: 5px;\n    }\n  `\n];\n","import { LitElement } from 'lit-element';\nimport { listenForLangChanged, locale } from '../services/i18n';\n\nexport default class I18nElement extends LitElement {\n  constructor() {\n    super();\n    this._unwatchLang = null;\n    this._locale = locale();\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._unwatchLang = listenForLangChanged((lang) => {\n      this._locale = lang;\n      this.reload().then(() => this.requestUpdate());\n    });\n  }\n\n  disconnectedCallback() {\n    this._unwatchLang();\n    super.disconnectedCallback();\n  }\n\n  reload() {\n    return Promise.reject(new Error(\n      `${this.constructor.cName} should implement \"reload\" method`\n    ));\n  }\n}\n","import { t, translationExists } from './i18n';\n\nexport function setTitle(title) {\n  const prefix = title ? `${title} - ` : '';\n  document.title = prefix + t('name');\n}\n\nfunction getMetaTag(name) {\n  let meta = document.head.querySelector(`meta[name=\"${name}\"]`);\n\n  if (!meta) {\n    meta = document.createElement('meta');\n    meta.setAttribute('name', name);\n    document.head.appendChild(meta);\n  }\n\n  return meta;\n}\n\nexport function setMeta(name, content) {\n  if (typeof name === 'object') {\n    Object.keys(name).forEach(key => setMeta(key, name[key]));\n    return;\n  }\n\n  const defaultValue = t(`meta.${name}`);\n  const value = Array.isArray(content)\n    ? content.concat(defaultValue).join(', ')\n    : content || defaultValue;\n\n  getMetaTag(name).setAttribute('content', value);\n}\n\nexport function setRouteMeta({ response }) {\n  const html = document.documentElement;\n\n  if (html.lang !== response.params.lang) {\n    html.lang = response.params.lang;\n  }\n\n  const prefix = `meta.${response.name}`;\n\n  if (translationExists(prefix)) {\n    setTitle(t(`${prefix}.title`));\n    setMeta('keywords', t(`${prefix}.keywords`));\n    setMeta('description', t(`${prefix}.description`));\n  }\n}\n\nexport function setPageMeta(page) {\n  const meta = page.meta || {};\n\n  setTitle(page.title);\n  setMeta('keywords', meta.keywords || '');\n  setMeta('description', meta.description || '');\n}\n","import router from '../services/router';\n\nfunction scrollToElement(root, id) {\n  const element = root.getElementById(id);\n\n  if (!element) {\n    return;\n  }\n\n  const headerHeight = 85;\n  element.scrollIntoView(true);\n  document.documentElement.scrollTop -= headerHeight;\n}\n\nfunction closest(startNode, tagName) {\n  let current = startNode;\n  const maxIterations = 3;\n  let i = 0;\n\n  while (current && i < maxIterations) {\n    if (current.tagName === tagName) {\n      return current;\n    }\n\n    current = current.parentNode;\n    i++;\n  }\n\n  return null;\n}\n\nexport function tryToNavigateElement(root, target) {\n  let hash;\n\n  if (target.tagName[0] === 'H' && target.id) {\n    hash = target.id;\n  } else {\n    const clickedTarget = closest(target, 'A');\n    const hashIndex = clickedTarget ? clickedTarget.href.indexOf('#') : -1;\n\n    if (hashIndex !== -1) {\n      scrollToElement(root, clickedTarget.href.slice(hashIndex + 1));\n    }\n  }\n\n  if (hash) {\n    const { location } = router.current().response;\n    const url = `${location.pathname}${window.location.search}#${hash}`;\n    router.navigate({ url });\n    scrollToElement(root, hash);\n  }\n}\n\nexport function scrollToSectionIn(root) {\n  const { hash } = router.current().response.location;\n\n  if (hash) {\n    scrollToElement(root, hash);\n  } else {\n    window.scroll(0, 0);\n  }\n}\n","import { html, css } from 'lit-element';\nimport { unsafeHTML } from 'lit-html/directives/unsafe-html';\nimport { mdCss, pageCss, codeCss } from '../styles';\nimport I18nElement from './I18nElement';\nimport { interpolate, locale } from '../services/i18n';\nimport content from '../services/content';\nimport { setPageMeta } from '../services/meta';\nimport { tryToNavigateElement, scrollToSectionIn } from '../hooks/scrollToSection';\n\nfunction renderContent(page, vars) {\n  return unsafeHTML(interpolate(page.content, vars));\n}\n\nexport default class Page extends I18nElement {\n  static cName = 'app-page';\n  static properties = {\n    type: { type: String },\n    name: { type: String },\n    vars: { type: Object, attribute: false },\n    content: { type: Function, attribute: false },\n    nav: { type: Array }\n  };\n\n  constructor() {\n    super();\n\n    this._page = null;\n    this.nav = [];\n    this.name = null;\n    this.vars = {};\n    this.type = 'page';\n    this.content = renderContent;\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.shadowRoot.addEventListener('click', (event) => {\n      tryToNavigateElement(this.shadowRoot, event.target);\n    }, false);\n  }\n\n  async updated(changed) {\n    if (this._page === null || changed.has('name') || changed.has('type')) {\n      await this.reload();\n    }\n  }\n\n  async reload() {\n    this._page = await content(this.type).load(locale(), this.name);\n    setPageMeta(this._page);\n    this.requestUpdate();\n    await this.updateComplete;\n    scrollToSectionIn(this.shadowRoot);\n  }\n\n  _renderNav() {\n    const [prev, next] = this.nav;\n    return html`\n      <app-page-nav pageType=\"${this.type}\" .prev=\"${prev}\" .next=\"${next}\"></app-page-nav>\n    `;\n  }\n\n  render() {\n    if (!this._page) {\n      return html``;\n    }\n\n    return html`\n      <article itemscope itemtype=\"http://schema.org/Article\">\n        <h1>${interpolate(this._page.title)}</h1>\n        <div class=\"description md\">${this.content(this._page, this.vars)}</div>\n      </article>\n      ${this.nav && this.nav.length ? this._renderNav() : ''}\n    `;\n  }\n}\n\nPage.styles = [\n  pageCss,\n  mdCss,\n  codeCss,\n  css`\n    :host {\n      display: block;\n    }\n\n    app-page-nav {\n      margin-top: 20px;\n    }\n  `\n];\n","import { LitElement, html, css } from 'lit-element';\n\nexport default class PageNav extends LitElement {\n  static cName = 'app-page-nav';\n  static properties = {\n    next: { type: Object },\n    prev: { type: Object },\n    pageType: { type: String }\n  };\n\n  constructor() {\n    super();\n    this.next = null;\n    this.prev = null;\n    this.pageType = 'page';\n  }\n\n  _linkTo(type) {\n    const page = this[type];\n\n    if (!page) {\n      return '';\n    }\n\n    return html`\n      <app-link to=\"${this.pageType}\" .params=\"${page}\" class=\"${type}\">\n        ${page.title}\n      </app-link>\n    `;\n  }\n\n  render() {\n    return html`\n      ${this._linkTo('prev')}\n      ${this._linkTo('next')}\n    `;\n  }\n}\n\nPageNav.styles = css`\n  :host {\n    display: block;\n  }\n\n  :host:after {\n    display: table;\n    clear: both;\n    content: '';\n  }\n\n  app-link {\n    color: #81a2be;\n    text-decoration: none;\n  }\n\n  app-link:hover {\n    border-bottom-color: transparent;\n  }\n\n  .next {\n    float: right;\n  }\n\n  .next:after,\n  .prev:before {\n    display: inline-block;\n    vertical-align: middle;\n    content: '⇢';\n  }\n\n  .prev:before {\n    content: '⇠';\n  }\n`;\n","import { html, css } from 'lit-element';\nimport { t, ut } from '../directives/i18n';\nimport { gridCss } from '../styles';\n\nconst features = [\n  'isomorphic',\n  'versatile',\n  'declarative',\n  'typesafe',\n  'treeshakable'\n];\n\nfunction renderFeature(feature) {\n  return html`\n    <section class=\"feature col\">\n      <h3>${t(`features.${feature}.title`)}</h3>\n      <p>${ut(`features.${feature}.description`)}</p>\n    </section>\n  `;\n}\n\nconst template = () => html`\n  <section class=\"row features\">${features.map(renderFeature)}</section>\n`;\n\ntemplate.styles = [\n  gridCss,\n  css`\n    .features {\n      flex-wrap: wrap;\n      justify-content: center;\n      padding: 2rem 0;\n    }\n\n    .feature {\n      padding: 1rem;\n      max-width: 200px;\n      flex-basis: 200px;\n    }\n\n    .feature h3 {\n      font-size: 1.4rem;\n    }\n  `\n];\n\nexport default template;\n","import { LitElement, html, css } from 'lit-element';\nimport { t, ut } from '../directives/i18n';\nimport { gridCss, btnCss, codeCss } from '../styles';\nimport shieldURL from '../assets/casl-shield.png';\nimport config from '../config/app';\nimport features from '../partials/caslFeatures';\n\nexport default class HomePage extends LitElement {\n  static cName = 'home-page';\n\n  render() {\n    return html`\n      <div class=\"bg\">\n        <header class=\"row wrap container\">\n          <div class=\"col row wrap align-start main\">\n            <img src=\"${shieldURL}\" width=\"250\" class=\"col col-fixed\">\n            <div class=\"col details\">\n              <h1>${t('slogan')}</h1>\n              <div class=\"buttons\">\n                <app-link to=\"page\" .params=\"${{ id: 'guide/intro' }}\" class=\"btn btn-lg\">\n                  ${t('buttons.start')}\n                </app-link>\n                <a href=\"${config.repoURL}\" target=\"_blank\" rel=\"noopener\" class=\"btn btn-lg\">\n                  ${t('buttons.source')}\n                </a>\n                <github-button\n                  size=\"large\"\n                  text=\"Star\"\n                  theme=\"no-preference: dark; light: dark;\"\n                ></github-button>\n              </div>\n            </div>\n          </div>\n          <div class=\"col col-fixed col-example\">\n            <div class=\"example\">${ut('exampleCode')}</div>\n          </div>\n        </header>\n      </div>\n      ${features()}\n    `;\n  }\n}\n\nHomePage.styles = [\n  gridCss,\n  btnCss,\n  features.styles,\n  codeCss,\n  css`\n    :host {\n      display: block;\n    }\n\n    .bg {\n      background: #fff;\n      background: linear-gradient(90deg, #fff 0%, rgba(222,228,234,1) 41%, rgba(235,245,253,1) 60%, rgba(82,84,87,1) 100%);\n    }\n\n    header {\n      justify-content: center;\n      padding: 2rem 1rem;\n    }\n\n    .main {\n      padding-top: 22px;\n      text-align: center;\n      justify-content: center;\n    }\n\n    h1 {\n      white-space: pre-line;\n      font-size: 2.2rem;\n      font-family: \"Stardos Stencil\", \"Helvetica Neue\", Arial, sans-serif;\n    }\n\n    .buttons {\n      display: inline-block;\n      text-align: center;\n    }\n\n    .buttons app-link {\n      margin-right: 5px;\n    }\n\n    github-button {\n      display: block;\n      margin-top: 10px;\n    }\n\n    .details {\n      min-width: 300px;\n    }\n\n    .col-example {\n      display: none;\n    }\n\n    @media (min-width: 768px) {\n      .main > img {\n        margin-right: 30px;\n      }\n    }\n\n    @media (min-width: 1024px) {\n      .main {\n        text-align: left;\n      }\n\n      .col-example {\n        display: block;\n      }\n\n      .example code {\n        font-size: .7rem;\n      }\n    }\n\n    @media (min-width: 1200px) {\n      .example code {\n        font-size: .8rem;\n      }\n    }\n  `\n];\n","export default \"/casl/v4/51b9cc103e05f66c.png\"","/*!\n * github-buttons v2.7.0\n * (c) 2020 なつき\n * @license BSD-2-Clause\n */\nvar document = window.document;\n\nvar Math = window.Math;\n\nvar HTMLElement = window.HTMLElement;\n\nvar XMLHttpRequest = window.XMLHttpRequest;\n\nvar createElementInDocument = function (document) {\n  return function (tag, props, children) {\n    var el = document.createElement(tag);\n    if (props) {\n      for (var prop in props) {\n        var val = props[prop];\n        if (val != null) {\n          if (el[prop] != null) {\n            el[prop] = val;\n          } else {\n            el.setAttribute(prop, val);\n          }\n        }\n      }\n    }\n    if (children) {\n      for (var i = 0, len = children.length; i < len; i++) {\n        var child = children[i];\n        el.appendChild(typeof child === 'string' ? document.createTextNode(child) : child);\n      }\n    }\n    return el\n  }\n};\n\nvar createElement = createElementInDocument(document);\n\nvar dispatchOnce = function (func) {\n  var onceToken;\n  return function () {\n    if (!onceToken) {\n      onceToken = 1;\n      func.apply(this, arguments);\n    }\n  }\n};\n\nvar hasOwnProperty = function (obj, prop) {\n  return {}.hasOwnProperty.call(obj, prop)\n};\n\nvar name = \"github-buttons\";\nvar version = \"2.7.0\";\n\nvar iframeURL = 'https://' + (/* istanbul ignore next */  'unpkg.com/' + name + '@' + version + '/dist' ) + '/buttons.html';\n\nvar apiBaseURL = 'https://api.github.com';\n\nvar useXHR = XMLHttpRequest && XMLHttpRequest.prototype && 'withCredentials' in XMLHttpRequest.prototype;\n\nvar useShadowDOM = useXHR && HTMLElement && HTMLElement.prototype.attachShadow && !HTMLElement.prototype.attachShadow.prototype;\n\nvar onEvent = function (target, eventName, func) {\n  /* istanbul ignore else: IE lt 9 */\n  if (target.addEventListener) {\n    target.addEventListener(eventName, func, false);\n  } else {\n    target.attachEvent('on' + eventName, func);\n  }\n};\n\nvar offEvent = function (target, eventName, func) {\n  /* istanbul ignore else: IE lt 9 */\n  if (target.removeEventListener) {\n    target.removeEventListener(eventName, func, false);\n  } else {\n    target.detachEvent('on' + eventName, func);\n  }\n};\n\nvar onceEvent = function (target, eventName, func) {\n  var callback = function (event) {\n    offEvent(target, eventName, callback);\n    return func(event)\n  };\n  onEvent(target, eventName, callback);\n};\n\nvar onceReadyStateChange = /* istanbul ignore next: IE lt 9 */ function (target, regex, func) {\n  var eventName = 'readystatechange';\n  var callback = function (event) {\n    if (regex.test(target.readyState)) {\n      offEvent(target, eventName, callback);\n      return func(event)\n    }\n  };\n  onEvent(target, eventName, callback);\n};\n\nvar parseOptions = function (anchor) {\n  var options = {\n    href: anchor.href,\n    title: anchor.title,\n    'aria-label': anchor.getAttribute('aria-label')\n  };\n  var ref = ['icon', 'color-scheme', 'text', 'size', 'show-count'];\n  for (var i = 0, len = ref.length; i < len; i++) {\n    var attribute = 'data-' + ref[i];\n    options[attribute] = anchor.getAttribute(attribute);\n  }\n  if (options['data-text'] == null) {\n    options['data-text'] = anchor.textContent || anchor.innerText;\n  }\n  return options\n};\n\nvar buttonsCssText = \"body{margin:0}a{text-decoration:none;outline:0}.widget{display:inline-block;overflow:hidden;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;font-size:0;white-space:nowrap}.btn,.social-count{position:relative;display:inline-block;height:14px;padding:2px 5px;font-size:11px;font-weight:600;line-height:14px;vertical-align:bottom;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:repeat-x;background-position:-1px -1px;background-size:110% 110%;border:1px solid}.btn{border-radius:.25em}.btn:not(:last-child){border-radius:.25em 0 0 .25em}.social-count{border-left:0;border-radius:0 .25em .25em 0}.widget-lg .btn,.widget-lg .social-count{height:20px;padding:3px 10px;font-size:12px;line-height:20px}.octicon{display:inline-block;vertical-align:text-top;fill:currentColor}\";\n\nvar light = \".btn{color:#24292e;background-color:#eff3f6;background-image:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg'%3e%3clinearGradient id='o' x2='0' y2='1'%3e%3cstop stop-color='%23fafbfc'/%3e%3cstop offset='90%25' stop-color='%23eff3f6'/%3e%3c/linearGradient%3e%3crect width='100%25' height='100%25' fill='url(%23o)'/%3e%3c/svg%3e\\\");background-image:-moz-linear-gradient(top, #fafbfc, #eff3f6 90%);background-image:linear-gradient(180deg, #fafbfc, #eff3f6 90%);filter:progid:DXImageTransform.Microsoft.Gradient(startColorstr='#FFFAFBFC', endColorstr='#FFEEF2F5');border-color:#cdcfd1;border-color:rgba(27,31,35,.2)}:root .btn{filter:none}.btn:focus,.btn:hover{background-color:#e6ebf1;background-image:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg'%3e%3clinearGradient id='o' x2='0' y2='1'%3e%3cstop stop-color='%23f0f3f6'/%3e%3cstop offset='90%25' stop-color='%23e6ebf1'/%3e%3c/linearGradient%3e%3crect width='100%25' height='100%25' fill='url(%23o)'/%3e%3c/svg%3e\\\");background-image:-moz-linear-gradient(top, #f0f3f6, #e6ebf1 90%);background-image:linear-gradient(180deg, #f0f3f6, #e6ebf1 90%);filter:progid:DXImageTransform.Microsoft.Gradient(startColorstr='#FFF0F3F6', endColorstr='#FFE5EAF0');background-position:-0.5em;border-color:#acaeb0;border-color:rgba(27,31,35,.35)}:root .btn:focus,:root .btn:hover{filter:none}.btn:active{background-color:#e9ecef;background-image:none;border-color:#acaeb0;border-color:rgba(27,31,35,.35);box-shadow:inset 0 .15em .3em rgba(27,31,35,.15);filter:none}.social-count{color:#24292e;background-color:#fff;border-color:#d1d2d3;border-color:rgba(27,31,35,.2)}.social-count:focus,.social-count:hover{color:#0366d6}.octicon-heart{color:#ea4aaa}\";\n\nvar dark = \".btn{color:#fafbfc;background-color:#202428;background-image:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg'%3e%3clinearGradient id='o' x2='0' y2='1'%3e%3cstop stop-color='%232f363d'/%3e%3cstop offset='90%25' stop-color='%23202428'/%3e%3c/linearGradient%3e%3crect width='100%25' height='100%25' fill='url(%23o)'/%3e%3c/svg%3e\\\");background-image:-moz-linear-gradient(top, #2f363d, #202428 90%);background-image:linear-gradient(180deg, #2f363d, #202428 90%);filter:progid:DXImageTransform.Microsoft.Gradient(startColorstr='#FF2F363D', endColorstr='#FF1E2226');border-color:#2b3138;border-color:rgba(27,31,35,.2)}:root .btn{filter:none}.btn:focus,.btn:hover{background-color:#1b1f23;background-image:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg'%3e%3clinearGradient id='o' x2='0' y2='1'%3e%3cstop stop-color='%232b3137'/%3e%3cstop offset='90%25' stop-color='%231b1f23'/%3e%3c/linearGradient%3e%3crect width='100%25' height='100%25' fill='url(%23o)'/%3e%3c/svg%3e\\\");background-image:-moz-linear-gradient(top, #2b3137, #1b1f23 90%);background-image:linear-gradient(180deg, #2b3137, #1b1f23 90%);filter:progid:DXImageTransform.Microsoft.Gradient(startColorstr='#FF2B3137', endColorstr='#FF191D21');background-position:-0.5em;border-color:#252b30;border-color:rgba(27,31,35,.5)}:root .btn:focus,:root .btn:hover{filter:none}.btn:active{background-color:#181b1f;background-image:none;border-color:#252b30;border-color:rgba(27,31,35,.5);box-shadow:inset 0 .15em .3em rgba(27,31,35,.15);filter:none}.social-count{color:#fafbfc;background-color:#1b1f23;border-color:#1b1f23;border-color:rgba(27,31,35,.2)}.social-count:focus,.social-count:hover{color:#2188ff}.octicon-heart{color:#ec6cb9}\";\n\nvar stringify = function (obj, sep, eq, encodeURIComponent) {\n  if (sep == null) {\n    sep = '&';\n  }\n  if (eq == null) {\n    eq = '=';\n  }\n  if (encodeURIComponent == null) {\n    encodeURIComponent = window.encodeURIComponent;\n  }\n  var params = [];\n  for (var name in obj) {\n    var value = obj[name];\n    if (value != null) {\n      params.push(encodeURIComponent(name) + eq + encodeURIComponent(value));\n    }\n  }\n  return params.join(sep)\n};\n\nvar parse = function (str, sep, eq, decodeURIComponent) {\n  if (sep == null) {\n    sep = '&';\n  }\n  if (eq == null) {\n    eq = '=';\n  }\n  if (decodeURIComponent == null) {\n    decodeURIComponent = window.decodeURIComponent;\n  }\n  var obj = {};\n  var params = str.split(sep);\n  for (var i = 0, len = params.length; i < len; ++i) {\n    var entry = params[i];\n    if (entry !== '') {\n      var ref = entry.split(eq);\n      obj[decodeURIComponent(ref[0])] = (ref[1] != null ? decodeURIComponent(ref.slice(1).join(eq)) : undefined);\n    }\n  }\n  return obj\n};\n\nvar widgetColorSchemes = {\n  light: light,\n  dark: dark\n};\n\nvar getColorSchemeMediaQuery = function (systemColorScheme, widgetColorScheme) {\n  return '@media(prefers-color-scheme:' + systemColorScheme + '){' + widgetColorSchemes[hasOwnProperty(widgetColorSchemes, widgetColorScheme) ? widgetColorScheme : systemColorScheme] + '}'\n};\n\nvar getColorScheme = function (declarations) {\n  if (declarations == null) {\n    return widgetColorSchemes.light\n  }\n\n  var colorSchemes = parse(declarations, ';', ':', function (str) {\n    return str.replace(/^[ \\t\\n\\f\\r]+|[ \\t\\n\\f\\r]+$/g, '')\n  });\n\n  return widgetColorSchemes[hasOwnProperty(widgetColorSchemes, colorSchemes['no-preference']) ? colorSchemes['no-preference'] : 'light'] +\n    getColorSchemeMediaQuery('light', colorSchemes.light) +\n    getColorSchemeMediaQuery('dark', colorSchemes.dark)\n};\n\nvar data = {\"mark-github\":{\"width\":16,\"height\":16,\"path\":\"<path fill-rule=\\\"evenodd\\\" d=\\\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z\\\"/>\"},\"heart\":{\"width\":12,\"height\":16,\"path\":\"<path fill-rule=\\\"evenodd\\\" d=\\\"M8.727 3C7.091 3 6.001 4.65 6.001 4.65S4.909 3 3.273 3C1.636 3 0 4.1 0 6.3 0 9.6 6 14 6 14s6-4.4 6-7.7C12 4.1 10.364 3 8.727 3z\\\"/>\"},\"eye\":{\"width\":16,\"height\":16,\"path\":\"<path fill-rule=\\\"evenodd\\\" d=\\\"M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z\\\"/>\"},\"star\":{\"width\":14,\"height\":16,\"path\":\"<path fill-rule=\\\"evenodd\\\" d=\\\"M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z\\\"/>\"},\"repo-forked\":{\"width\":10,\"height\":16,\"path\":\"<path fill-rule=\\\"evenodd\\\" d=\\\"M8 1a1.993 1.993 0 00-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 002 1a1.993 1.993 0 00-1 3.72V6.5l3 3v1.78A1.993 1.993 0 005 15a1.993 1.993 0 001-3.72V9.5l3-3V4.72A1.993 1.993 0 008 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z\\\"/>\"},\"repo-template\":{\"width\":14,\"height\":16,\"path\":\"<path fill-rule=\\\"evenodd\\\" d=\\\"M12 8V1c0-.55-.45-1-1-1H1C.45 0 0 .45 0 1v12c0 .55.45 1 1 1h2v2l1.5-1.5L6 16v-4H3v1H1v-2h7v-1H2V1h9v7h1zM4 2H3v1h1V2zM3 4h1v1H3V4zm1 2H3v1h1V6zm0 3H3V8h1v1zm6 3H8v2h2v2h2v-2h2v-2h-2v-2h-2v2z\\\"/>\"},\"issue-opened\":{\"width\":14,\"height\":16,\"path\":\"<path fill-rule=\\\"evenodd\\\" d=\\\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 011.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\\\"/>\"},\"cloud-download\":{\"width\":16,\"height\":16,\"path\":\"<path fill-rule=\\\"evenodd\\\" d=\\\"M9 12h2l-3 3-3-3h2V7h2v5zm3-8c0-.44-.91-3-4.5-3C5.08 1 3 2.92 3 5 1.02 5 0 6.52 0 8c0 1.53 1 3 3 3h3V9.7H3C1.38 9.7 1.3 8.28 1.3 8c0-.17.05-1.7 1.7-1.7h1.3V5c0-1.39 1.56-2.7 3.2-2.7 2.55 0 3.13 1.55 3.2 1.8v1.2H12c.81 0 2.7.22 2.7 2.2 0 2.09-2.25 2.2-2.7 2.2h-2V11h2c2.08 0 4-1.16 4-3.5C16 5.06 14.08 4 12 4z\\\"/>\"}};\n\nvar octicon = function (icon, height) {\n  icon = ('' + icon).toLowerCase().replace(/^octicon-/, '');\n  if (!hasOwnProperty(data, icon)) {\n    icon = 'mark-github';\n  }\n  return '<svg viewBox=\"0 0 ' + data[icon].width + ' ' + data[icon].height + '\" class=\"octicon octicon-' + icon + '\" style=\"width: ' + (height * data[icon].width / data[icon].height) + 'px; height: ' + height + 'px;\" aria-hidden=\"true\">' + data[icon].path + '</svg>'\n};\n\nvar queues = {};\n\nvar fetch = function (url, func) {\n  var queue = queues[url] || (queues[url] = []);\n  if (queue.push(func) > 1) {\n    return\n  }\n\n  var callback = dispatchOnce(function () {\n    delete queues[url];\n    while ((func = queue.shift())) {\n      func.apply(null, arguments);\n    }\n  });\n\n  if (useXHR) {\n    var xhr = new XMLHttpRequest();\n    onEvent(xhr, 'abort', callback);\n    onEvent(xhr, 'error', callback);\n    onEvent(xhr, 'load', function () {\n      var data;\n      try {\n        data = JSON.parse(xhr.responseText);\n      } catch (error) {\n        callback(error);\n        return\n      }\n      callback(xhr.status !== 200, data);\n    });\n    xhr.open('GET', url);\n    xhr.send();\n  } else {\n    var contentWindow = this || window;\n    contentWindow._ = function (json) {\n      contentWindow._ = null;\n      callback(json.meta.status !== 200, json.data);\n    };\n    var script = createElementInDocument(contentWindow.document)('script', {\n      async: true,\n      src: url + (/\\?/.test(url) ? '&' : '?') + 'callback=_'\n    });\n    var onloadend = /* istanbul ignore next: IE lt 9 */ function () {\n      if (contentWindow._) {\n        contentWindow._({\n          meta: {}\n        });\n      }\n    };\n    onEvent(script, 'load', onloadend);\n    onEvent(script, 'error', onloadend);\n    /* istanbul ignore if: IE lt 9 */\n    if (script.readyState) {\n      onceReadyStateChange(script, /de|m/, onloadend);\n    }\n    contentWindow.document.getElementsByTagName('head')[0].appendChild(script);\n  }\n};\n\nvar render = function (root, options, func) {\n  var createElement = createElementInDocument(root.ownerDocument);\n\n  var style = root.appendChild(createElement('style', {\n    type: 'text/css'\n  }));\n\n  var cssText = buttonsCssText + getColorScheme(options['data-color-scheme']);\n\n  /* istanbul ignore if: IE lt 9 */\n  if (style.styleSheet) {\n    style.styleSheet.cssText = cssText;\n  } else {\n    style.appendChild(root.ownerDocument.createTextNode(cssText));\n  }\n\n  var btn = createElement('a', {\n    className: 'btn',\n    href: options.href,\n    target: '_blank',\n    rel: 'noopener',\n    innerHTML: octicon(options['data-icon'], /^large$/i.test(options['data-size']) ? 16 : 14),\n    'aria-label': options['aria-label'] || undefined\n  }, [\n    ' ',\n    createElement('span', {}, [options['data-text'] || ''])\n  ]);\n\n  var widget = root.appendChild(createElement('div', {\n    className: 'widget' + (/^large$/i.test(options['data-size']) ? ' widget-lg' : '')\n  }, [\n    btn\n  ]));\n\n  var domain = btn.hostname.split('.').reverse();\n  if (domain[0] === '') {\n    domain.shift();\n  }\n  if (domain[0] !== 'com' || domain[1] !== 'github') {\n    btn.href = '#';\n    btn.target = '_self';\n    func(widget);\n    return\n  }\n\n  var len = domain.length;\n  var path = (' /' + btn.pathname).split(/\\/+/);\n  if (((len === 2 || (len === 3 && domain[2] === 'gist')) && path[3] === 'archive') ||\n    (len === 2 && path[3] === 'releases' && path[4] === 'download') ||\n    (len === 3 && domain[2] === 'codeload')) {\n    btn.target = '_top';\n  }\n\n  if (!/^true$/i.test(options['data-show-count']) || len !== 2) {\n    func(widget);\n    return\n  }\n\n  var href, property;\n  if (!path[2] && path[1]) {\n    href = property = 'followers';\n  } else if (!path[3] && path[2]) {\n    property = 'stargazers_count';\n    href = 'stargazers';\n  } else if (!path[4] && path[3] === 'subscription') {\n    property = 'subscribers_count';\n    href = 'watchers';\n  } else if (!path[4] && path[3] === 'fork') {\n    property = 'forks_count';\n    href = 'network/members';\n  } else if (path[3] === 'issues') {\n    property = 'open_issues_count';\n    href = 'issues';\n  } else {\n    func(widget);\n    return\n  }\n\n  var api = path[2] ? '/repos/' + path[1] + '/' + path[2] : '/users/' + path[1];\n  fetch.call(this, apiBaseURL + api, function (error, json) {\n    if (!error) {\n      var data = json[property];\n      widget.appendChild(createElement('a', {\n        className: 'social-count',\n        href: json.html_url + '/' + href,\n        target: '_blank',\n        rel: 'noopener',\n        'aria-label': data + ' ' + property.replace(/_count$/, '').replace('_', ' ').slice(0, data < 2 ? -1 : undefined) + ' on GitHub'\n      }, [\n        ('' + data).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n      ]));\n    }\n    func(widget);\n  });\n};\n\nvar devicePixelRatio = window.devicePixelRatio || /* istanbul ignore next */ 1;\n\nvar ceilPixel = function (px) {\n  return (devicePixelRatio > 1 ? Math.ceil(Math.round(px * devicePixelRatio) / devicePixelRatio * 2) / 2 : Math.ceil(px)) || 0\n};\n\nvar get = function (el) {\n  var width = el.offsetWidth;\n  var height = el.offsetHeight;\n  if (el.getBoundingClientRect) {\n    var boundingClientRect = el.getBoundingClientRect();\n    width = Math.max(width, ceilPixel(boundingClientRect.width));\n    height = Math.max(height, ceilPixel(boundingClientRect.height));\n  }\n  return [width, height]\n};\n\nvar set = function (el, size) {\n  el.style.width = size[0] + 'px';\n  el.style.height = size[1] + 'px';\n};\n\nvar render$1 = function (options, func) {\n  if (options == null || func == null) {\n    return\n  }\n  if (options.getAttribute) {\n    options = parseOptions(options);\n  }\n  if (useShadowDOM) {\n    var host = createElement('span', {\n      title: options.title || undefined\n    });\n    render(host.attachShadow({ mode:  'closed' }), options, function () {\n      func(host);\n    });\n  } else {\n    var iframe = createElement('iframe', {\n      src: 'javascript:0',\n      title: options.title || undefined,\n      allowtransparency: true,\n      scrolling: 'no',\n      frameBorder: 0\n    });\n    set(iframe, [0, 0]);\n    iframe.style.border = 'none';\n    var callback = function () {\n      var contentWindow = iframe.contentWindow;\n      var body;\n      try {\n        body = contentWindow.document.body;\n      } catch (_) /* istanbul ignore next: IE 11 */ {\n        document.body.appendChild(iframe.parentNode.removeChild(iframe));\n        return\n      }\n      offEvent(iframe, 'load', callback);\n      render.call(contentWindow, body, options, function (widget) {\n        var size = get(widget);\n        iframe.parentNode.removeChild(iframe);\n        onceEvent(iframe, 'load', function () {\n          set(iframe, size);\n        });\n        iframe.src = iframeURL + '#' + (iframe.name = stringify(options));\n        func(iframe);\n      });\n    };\n    onEvent(iframe, 'load', callback);\n    document.body.appendChild(iframe);\n  }\n};\n\nexport { render$1 as render };\n","import { LitElement } from 'lit-element';\nimport { render } from 'github-buttons';\nimport config from '../config/app';\n\nexport default class GithubButton extends LitElement {\n  static cName = 'github-button';\n  static properties = {\n    href: { type: String },\n    size: { type: String },\n    theme: { type: String },\n    showCount: { type: Boolean },\n    text: { type: String }\n  };\n\n  constructor() {\n    super();\n\n    this.href = config.repoURL;\n    this.size = undefined;\n    this.theme = 'light';\n    this.showCount = true;\n    this.text = undefined;\n  }\n\n  _collectOptions() {\n    return {\n      href: this.href,\n      'data-size': this.size,\n      'data-color-scheme': this.theme,\n      'data-show-count': this.showCount,\n      'data-text': this.text\n    };\n  }\n\n  update() {\n    render(this._collectOptions(), (el) => {\n      if (this.shadowRoot.firstChild) {\n        this.shadowRoot.replaceChild(el, this.shadowRoot.firstChild);\n      } else {\n        this.shadowRoot.appendChild(el);\n      }\n    });\n  }\n}\n","import { LitElement, html, css } from 'lit-element';\nimport { unsafeHTML } from 'lit-html/directives/unsafe-html';\nimport { t } from '../directives/i18n';\nimport { locale } from '../services/i18n';\nimport content from '../services/content';\nimport router from '../services/router';\nimport { debounce } from '../services/utils';\nimport { gridCss } from '../styles';\n\nconst SUGGESTION_TEMPLATES = {\n  dropdown(result) {\n    const title = result.hints.title || result.doc.title;\n    const headings = result.hints.headings || result.doc.headings || [];\n\n    return html`\n      <div class=\"row item\">\n        <div class=\"col title\">\n          <app-link to=\"page\" .params=\"${result.doc}\">${unsafeHTML(title)}</app-link>\n        </div>\n        <div class=\"col\">\n          ${headings.map(heading => html`\n            <app-link to=\"page\" .params=\"${result.doc}\" hash=\"${heading.id}\">\n              ${unsafeHTML(heading.title)}\n            </app-link>\n          `)}\n        </div>\n      </div>\n    `;\n  },\n  page(result) {\n    const title = result.hints.title || result.doc.title;\n    const headings = result.hints.headings || result.doc.headings || [];\n\n    return html`\n      ${headings.map(heading => html`\n        <app-link class=\"item\" to=\"page\" .params=\"${result.doc}\" hash=\"${heading.id}\">\n          ${unsafeHTML(`${title} › ${heading.title}`)}\n        </app-link>\n      `)}\n    `;\n  }\n};\n\nfunction renderSuggestions(suggestions, type) {\n  if (!suggestions) {\n    return '';\n  }\n\n  const renderSuggestion = SUGGESTION_TEMPLATES[type || 'dropdown'];\n\n  return html`\n    <div class=\"suggestions ${type}\">\n      ${suggestions.map(([category, results]) => html`\n        <h5>${t(`categories.${category}`)}</h5>\n        ${results.map(renderSuggestion)}\n      `)}\n    </div>\n  `;\n}\n\nconst ICON_SEARCH = html`\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" height=\"16px\" width=\"16px\">\n    <path d=\"M6.02945,10.20327a4.17382,4.17382,0,1,1,4.17382-4.17382A4.15609,4.15609,0,0,1,6.02945,10.20327Zm9.69195,4.2199L10.8989,9.59979A5.88021,5.88021,0,0,0,12.058,6.02856,6.00467,6.00467,0,1,0,9.59979,10.8989l4.82338,4.82338a.89729.89729,0,0,0,1.29912,0,.89749.89749,0,0,0-.00087-1.29909Z\" />\n  </svg>\n`;\nconst ICON_ARROW = html`\n  <svg xmlns='http://www.w3.org/2000/svg' width='512' height='512' viewBox='0 0 512 512'>\n    <polyline points='268 112 412 256 268 400' style='fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px'/>\n    <line x1='392' y1='256' x2='100' y2='256' style='fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px'/>\n  </svg>\n`;\n\nexport default class QuickSearch extends LitElement {\n  static cName = 'app-quick-search';\n  static properties = {\n    value: { type: String },\n    suggestionsType: { type: String },\n    compact: { type: Boolean },\n    toggler: { type: Boolean },\n    _suggestions: { type: Array },\n  };\n\n  constructor() {\n    super();\n\n    this.value = '';\n    this.suggestionsType = 'dropdown';\n    this.compact = false;\n    this.toggler = false;\n    this._suggestions = null;\n    this._clickOutside = this._clickOutside.bind(this);\n    this._search = debounce(this._search, 500);\n    this._unwatchRouter = null;\n  }\n\n  _setValue(value) {\n    this.value = value.trim();\n    this.dispatchEvent(new CustomEvent('update', {\n      detail: this.value\n    }));\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    document.addEventListener('click', this._clickOutside, false);\n    this._unwatchRouter = router.observe(() => this._reset());\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    document.removeEventListener('click', this._clickOutside, false);\n    this._unwatchRouter();\n  }\n\n  _reset() {\n    if (this.value) {\n      this._setValue('');\n      this._suggestions = null;\n      this.dispatchEvent(new CustomEvent('reset'));\n    }\n  }\n\n  _clickOutside(event) {\n    if (!this.shadowRoot.contains(event.target)) {\n      this._suggestions = null;\n    }\n  }\n\n  async _search() {\n    if (!this.value) {\n      this._suggestions = null;\n      return;\n    }\n\n    const results = await content('page').search(locale(), this.value, {\n      prefix: true\n    });\n    const suggestions = results.reduce((groups, result) => {\n      const category = result.doc.categories[0];\n\n      if (!groups.has(category)) {\n        groups.set(category, []);\n      }\n\n      groups.get(category).push(result);\n      return groups;\n    }, new Map());\n\n    this._suggestions = Array.from(suggestions);\n  }\n\n  _updateValue(event) {\n    this._setValue(event.target.value);\n    this._search();\n  }\n\n  _emitIconClick() {\n    this.dispatchEvent(new CustomEvent('click-icon'));\n  }\n\n  render() {\n    return html`\n      <div class=\"search-form ${this.compact ? 'compact' : ''}\">\n        <label class=\"input\">\n          <div class=\"icon\" @click=\"${this._emitIconClick}\">\n            ${this.compact || !this.toggler ? ICON_SEARCH : ICON_ARROW}\n          </div>\n\n          <input\n            autocomplete=\"off\"\n            autocorrect=\"off\"\n            placeholder=\"${t('search.placeholder')}\"\n            .value=\"${this.value}\"\n            @input=\"${this._updateValue}\"\n          >\n        </label>\n        ${renderSuggestions(this._suggestions, this.suggestionsType)}\n      </div>\n    `;\n  }\n}\n\nQuickSearch.styles = [\n  gridCss,\n  css`\n    :host {\n      display: block;\n    }\n\n    .search-form {\n      position: relative;\n      border-radius: inherit;\n      height: 100%;\n    }\n\n    .input {\n      display: block;\n      padding: 1px 6px;\n      color: #273849;\n      transition: border-color 1s;\n      white-space: nowrap;\n      background: #fff;\n      height: 100%;\n      border-radius: inherit;\n    }\n\n    svg {\n      width: 16px;\n      height: 16px;\n    }\n\n    .icon {\n      line-height: 0.7;\n      cursor: pointer;\n    }\n\n    .icon,\n    input {\n      display: inline-block;\n      vertical-align: middle;\n    }\n\n    .input path {\n      fill: #e3e3e3;\n    }\n\n    input {\n      height: 100%;\n      font-size: 0.9rem;\n      box-sizing: border-box;\n      outline: none;\n      border: 0;\n      width: calc(100% - 20px);\n    }\n\n    .suggestions {\n      position: absolute;\n      left: 8px;\n      z-index: 1000;\n      top: 120%;\n      background: #fff;\n      padding: 5px;\n      overflow-y: auto;\n    }\n\n    .suggestions.dropdown {\n      border-radius: 4px;\n      border: 1px solid #e3e3e3;\n      width: 500px;\n      max-height: 500px;\n    }\n\n    .suggestions.page {\n      left: -10px;\n      width: 101%;\n      height: calc(100vh - 50px);\n      border: 0;\n      border-radius: 0;\n    }\n\n    input:focus {\n      outline: transparent;\n    }\n\n    h5 {\n      margin: 0;\n      padding: 5px 10px;\n      background-color: #1b1f23;\n      color: #fff;\n    }\n\n    app-link {\n      display: block;\n      padding: 5px;\n      font-size: 0.9rem;\n      border-bottom: 0;\n    }\n\n    app-link:hover {\n      background: #eee;\n    }\n\n    .title {\n      flex-basis: 40%;\n      max-width: 40%;\n      border-right: 1px solid #e3e3e3;\n    }\n\n    .item {\n      border-bottom: 1px solid #e3e3e3;\n    }\n\n    mark {\n      font-weight: bold;\n      background: transparent;\n    }\n\n    .compact .input {\n      border-color: transparent;\n      background: transparent;\n    }\n\n    .compact input {\n      display: none;\n    }\n\n    .compact .input path {\n      fill: #1b1f23;\n    }\n  `\n];\n","import { html, LitElement } from 'lit-element';\nimport router from '../services/router';\n\nexport default class LangPicker extends LitElement {\n  static cName = 'app-lang-picker';\n\n  render() {\n    return html`\n      <select @change=\"${this._changeLang}\">\n        <option value=\"ru\">ru</option>\n        <option value=\"uk\">uk</option>\n      </select>\n    `;\n  }\n\n  _changeLang(event) {\n    const lang = event.target.value;\n    const current = router.current().response;\n\n    router.navigate({\n      url: router.url({\n        name: current.name,\n        params: { ...current.params, lang },\n        query: current.location.query,\n        hash: current.location.hash,\n      })\n    });\n  }\n}\n","import { LitElement, html, css } from 'lit-element';\nimport { t } from '../directives/i18n';\nimport liqpayIcon from '../assets/payment-options/liqpay.svg';\nimport liqpayQrCode from '../assets/payment-options/liqpay-qrcode.png';\n\nconst PAYMENT_OPTIONS = {\n  liqpay: {\n    icon: liqpayIcon,\n    image: liqpayQrCode\n  }\n};\nconst PAYMENT_NAMES = Object.keys(PAYMENT_OPTIONS);\n\nfunction renderPaymentOption(name) {\n  const option = PAYMENT_OPTIONS[name];\n\n  if (!option) {\n    console.warn(`Cannot find configuration for ${name} payment option`);\n    return null;\n  }\n\n  let content;\n\n  if (option.image) {\n    content = html`<img src=\"${option.image}\">`;\n  }\n\n  return html`<div class=\"selected\">${content}</div>`;\n}\n\nexport default class OneTimeDonations extends LitElement {\n  static cName = 'one-time-donations';\n  static properties = {\n    selected: { type: String }\n  };\n\n  constructor() {\n    super();\n    this.selected = '';\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    if (PAYMENT_NAMES.length === 1) {\n      this.selected = PAYMENT_NAMES[0];\n    }\n  }\n\n  _setSelected({ target }) {\n    if (target.tagName !== 'IMG') {\n      this.selected = '';\n      return;\n    }\n\n    this.selected = target.getAttribute('data-name');\n  }\n\n  render() {\n    return html`\n      <div class=\"options\" @click=${this._setSelected}>\n        ${PAYMENT_NAMES.map(name => html`\n          <img src=\"${PAYMENT_OPTIONS[name].icon}\" alt=\"${t(`payment.${name}`)}\" data-name=\"${name}\">\n        `)}\n      </div>\n      ${this.selected ? renderPaymentOption(this.selected) : ''}\n    `;\n  }\n}\n\nOneTimeDonations.styles = css`\n  .options {\n    margin: 20px 0;\n  }\n\n  .options img {\n    margin: 10px;\n    cursor: pointer\n  }\n\n  .selected {\n    text-align: center;\n  }\n`;\n","export default \"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%22107px%22%20height%3D%2222px%22%20viewBox%3D%220%200%20107%2022%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%20%20%20%20%3Ctitle%3EF598AEA9-571B-4BDB-8FEC-38F074CC2EC6%3C%2Ftitle%3E%20%20%20%20%3Cdesc%3ECreated%20with%20sketchtool.%3C%2Fdesc%3E%20%20%20%20%3Cdefs%3E%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Personal%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Site_Personal-Copy%22%20transform%3D%22translate%28-60.000000%2C%20-12.000000%29%22%20fill%3D%22%237AB72B%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Header%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22logo_liqpay%22%20transform%3D%22translate%2860.000000%2C%2012.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Shape%22%20points%3D%2286.9547861%201.77262293%2094.3504229%2010.3403775%2086.9547861%2018.9094274%2089.0061259%2020.6791964%2097.9295835%2010.3403775%2089.0061259%200.000910899696%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Shape%22%20points%3D%2295.9493035%201.77262293%20103.344617%2010.3403775%2095.9493035%2018.9094274%2097.9999958%2020.6791964%20106.923777%2010.3403775%2097.9999958%200.000910899696%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M9.24568572%2C18.2702718%20C9.24568572%2C18.4533859%209.23654857%2C18.6068499%209.21827428%2C18.7303379%20C9.19967369%2C18.8541517%209.16997797%2C18.9593934%209.12886088%2C19.0463889%20C9.08741743%2C19.1337102%209.03716313%2C19.1975721%208.97744546%2C19.2386262%20C8.91772771%2C19.280006%208.8469149%2C19.300533%208.76435437%2C19.300533%20L0.894994994%2C19.300533%20C0.68386186%2C19.300533%200.484476477%2C19.2298288%200.296512512%2C19.0877688%20C0.108222222%2C18.9457087%200.0142402401%2C18.6961261%200.0142402401%2C18.339021%20L0.0142402401%2C1.88286186%20C0.0142402401%2C1.80955105%200.0325145146%2C1.74536336%200.0693893895%2C1.69062462%20C0.105937938%2C1.63556006%200.170224224%2C1.59222523%200.261921922%2C1.55996847%20C0.353619619%2C1.52803754%200.477297297%2C1.50066817%200.633281284%2C1.47753454%20C0.789265269%2C1.45505255%200.977229228%2C1.44332282%201.1974995%2C1.44332282%20C1.42658058%2C1.44332282%201.61682883%2C1.45505255%201.76824425%2C1.47753454%20C1.91965966%2C1.50066817%202.04105306%2C1.52803754%202.13307708%2C1.55996847%20C2.22444845%2C1.59222523%202.28906106%2C1.63556006%202.32560961%2C1.69062462%20C2.36215816%2C1.74568919%202.38075876%2C1.80955105%202.38075876%2C1.88286186%20L2.38075876%2C17.254021%20L8.76435437%2C17.254021%20C8.8469149%2C17.254021%208.91772771%2C17.274548%208.97744546%2C17.3159279%20C9.03683683%2C17.3573078%209.08741743%2C17.4166081%209.12886088%2C17.4941546%20C9.17030434%2C17.5720271%209.19999999%2C17.674988%209.21827428%2C17.8033634%20C9.23654857%2C17.9317387%209.24568572%2C18.0871576%209.24568572%2C18.2702718%20L9.24568572%2C18.2702718%20L9.24568572%2C18.2702718%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M14.2257518%2C18.9434279%20C14.2257518%2C19.0170646%2014.2071512%2C19.0809264%2014.1706026%2C19.1356651%20C14.1337277%2C19.1907297%2014.0694415%2C19.2340646%2013.9780701%2C19.2663214%20C13.886046%2C19.2985781%2013.764979%2C19.3256216%2013.6132373%2C19.3487553%20C13.4618218%2C19.3712372%2013.2715735%2C19.3829669%2013.0424925%2C19.3829669%20C12.8222222%2C19.3829669%2012.6339319%2C19.3712372%2012.4782743%2C19.3487553%20C12.3222903%2C19.3256216%2012.1986126%2C19.2982522%2012.1069149%2C19.2663214%20C12.0152172%2C19.2340646%2011.950931%2C19.1907297%2011.9143824%2C19.1356651%20C11.8775075%2C19.0806006%2011.8592332%2C19.0170646%2011.8592332%2C18.9434279%20L11.8592332%2C1.88286186%20C11.8592332%2C1.80955105%2011.8797918%2C1.74536336%2011.9212352%2C1.69062462%20C11.9626787%2C1.63556006%2012.0312072%2C1.59222523%2012.1274735%2C1.55996847%20C12.2237397%2C1.52803754%2012.3477437%2C1.50066817%2012.4988328%2C1.47753454%20C12.6502483%2C1.45505255%2012.8310331%2C1.44332282%2013.0424925%2C1.44332282%20C13.2715735%2C1.44332282%2013.4618218%2C1.45505255%2013.6132373%2C1.47753454%20C13.7646526%2C1.50066817%2013.886046%2C1.52803754%2013.9780701%2C1.55996847%20C14.0694415%2C1.59222523%2014.1340541%2C1.63556006%2014.1706026%2C1.69062462%20C14.2071512%2C1.74568919%2014.2257518%2C1.80955105%2014.2257518%2C1.88286186%20L14.2257518%2C18.9434279%20L14.2257518%2C18.9434279%20L14.2257518%2C18.9434279%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M36.0592673%2C20.8664519%20C36.0592673%2C21.0769354%2036.0478459%2C21.2532072%2036.025003%2C21.3949414%20C36.0018338%2C21.5370015%2035.9675696%2C21.6468048%2035.9218839%2C21.7246772%20C35.8758718%2C21.8022237%2035.8256176%2C21.8553334%2035.7704684%2C21.8827027%20C35.7153194%2C21.9100721%2035.6601702%2C21.9240826%2035.6053474%2C21.9240826%20C35.4219519%2C21.9240826%2035.1259739%2C21.848491%2034.7180661%2C21.6976336%20C34.3101582%2C21.5467763%2033.8399219%2C21.326518%2033.30801%2C21.038488%20C32.7760981%2C20.7498063%2032.2073113%2C20.3995435%2031.601976%2C19.9873738%20C30.9966406%2C19.5752042%2030.4095796%2C19.0946111%2029.8411191%2C18.5449429%20C29.3917678%2C18.8196141%2028.822981%2C19.0577928%2028.1350851%2C19.2591531%20C27.4471892%2C19.4605135%2026.6493213%2C19.5615195%2025.7411552%2C19.5615195%20C24.4019119%2C19.5615195%2023.2441061%2C19.3643949%2022.2674114%2C18.9707973%20C21.2907167%2C18.5771997%2020.4833854%2C18.0001622%2019.8460701%2C17.2400105%20C19.2084285%2C16.4798588%2018.73395%2C15.5346382%2018.421982%2C14.4036967%20C18.110014%2C13.2727553%2017.9543563%2C11.9746651%2017.9543563%2C10.5094265%20C17.9543563%2C9.09925229%2018.1240461%2C7.82396997%2018.4634254%2C6.6839054%20C18.8028048%2C5.54384084%2019.3118739%2C4.57320571%2019.9906327%2C3.77167418%20C20.6693914%2C2.97046846%2021.5178398%2C2.35237688%2022.5356516%2C1.9173994%20C23.5537898%2C1.48242192%2024.7412913%2C1.26477027%2026.0988088%2C1.26477027%20C27.3734395%2C1.26477027%2028.495023%2C1.46189489%2029.4625806%2C1.85549249%20C30.4301382%2C2.24941592%2031.2417117%2C2.82417268%2031.8976276%2C3.57943694%20C32.5532172%2C4.33502703%2033.0462963%2C5.26688889%2033.3765385%2C6.37469669%20C33.7067808%2C7.48283033%2033.8719019%2C8.7558318%2033.8719019%2C10.1933754%20C33.8719019%2C10.9352808%2033.8281742%2C11.6449294%2033.7410451%2C12.3226472%20C33.6539159%2C13.0006907%2033.5162062%2C13.6415901%2033.3285686%2C14.245997%20C33.1402783%2C14.8504039%2032.904018%2C15.4088694%2032.6201141%2C15.9217192%20C32.3355576%2C16.4348949%2032.0007467%2C16.896916%2031.6156817%2C17.3090856%20C32.284977%2C17.8584279%2032.872038%2C18.2868889%2033.3765385%2C18.593491%20C33.8807127%2C18.9004189%2034.2984104%2C19.1317552%2034.6283263%2C19.2871742%20C34.9585686%2C19.442919%2035.215061%2C19.555003%2035.3987828%2C19.6234265%20C35.5818518%2C19.6921757%2035.7195616%2C19.770048%2035.8115856%2C19.8570436%20C35.902957%2C19.9437132%2035.9675696%2C20.067527%2036.0041181%2C20.2278334%20C36.0406667%2C20.3878138%2036.0592673%2C20.6009039%2036.0592673%2C20.8664519%20L36.0592673%2C20.8664519%20L36.0592673%2C20.8664519%20Z%20M31.3817057%2C10.3582433%20C31.3817057%2C9.35078979%2031.2922923%2C8.41697296%2031.1134655%2C7.55581531%20C30.9346386%2C6.69498349%2030.6363764%2C5.94656156%2030.219005%2C5.3098979%20C29.8016336%2C4.67356006%2029.2442683%2C4.17667568%2028.5475616%2C3.81957057%20C27.8505285%2C3.46246547%2026.9883744%2C3.28391292%2025.9610991%2C3.28391292%20C24.9338238%2C3.28391292%2024.0716697%2C3.47386937%2023.3746366%2C3.85410811%20C22.6776036%2C4.23434685%2022.1111011%2C4.74687087%2021.6754555%2C5.39265766%20C21.2398098%2C6.03811862%2020.9278418%2C6.78686637%2020.7398779%2C7.63857508%20C20.5519139%2C8.49028381%2020.4576056%2C9.39216967%2020.4576056%2C10.3448844%20C20.4576056%2C11.3888304%2020.5447347%2C12.3480616%2020.718993%2C13.2225781%20C20.8932512%2C14.0970946%2021.1866186%2C14.8552913%2021.5994214%2C15.4961907%20C22.0122242%2C16.1374159%2022.5646947%2C16.6343003%2023.2571591%2C16.986518%20C23.9496237%2C17.3390615%2024.8186306%2C17.5153334%2025.8641802%2C17.5153334%20C26.9005926%2C17.5153334%2027.7718839%2C17.3230961%2028.4780541%2C16.9386216%20C29.1842242%2C16.5541471%2029.7526847%2C16.034455%2030.1840881%2C15.3795451%20C30.6151652%2C14.724961%2030.9222382%2C13.9644835%2031.1059599%2C13.0994159%20C31.290008%2C12.2333708%2031.3817057%2C11.3197553%2031.3817057%2C10.3582433%20L31.3817057%2C10.3582433%20L31.3817057%2C10.3582433%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M48.8538698%2C6.7318018%20C48.8538698%2C7.62032883%2048.7070231%2C8.42153453%2048.4136556%2C9.13574474%20C48.1199619%2C9.85028075%2047.7006326%2C10.4592492%2047.155015%2C10.9626502%20C46.6093974%2C11.4663769%2045.9394495%2C11.8554129%2045.1461501%2C12.1300841%20C44.3528509%2C12.4047552%2043.4058519%2C12.5422538%2042.3054795%2C12.5422538%20L40.2829089%2C12.5422538%20L40.2829089%2C18.9434279%20C40.2829089%2C19.0170646%2040.2623504%2C19.0809264%2040.2209069%2C19.1356651%20C40.1794634%2C19.1907297%2040.1155035%2C19.2340646%2040.0283744%2C19.2663214%20C39.9412453%2C19.2985781%2039.8221362%2C19.3256216%2039.6707207%2C19.3487553%20C39.5193053%2C19.3712372%2039.3290571%2C19.3829669%2039.099976%2C19.3829669%20C38.8705686%2C19.3829669%2038.6803203%2C19.3712372%2038.5289049%2C19.3487553%20C38.3774895%2C19.3256216%2038.2557697%2C19.2982522%2038.1640721%2C19.2663214%20C38.0723744%2C19.2340646%2038.0080881%2C19.1907297%2037.9715396%2C19.1356651%20C37.9346647%2C19.0806006%2037.9163904%2C19.0170646%2037.9163904%2C18.9434279%20L37.9163904%2C2.54200751%20C37.9163904%2C2.17577928%2038.0126566%2C1.91479279%2038.2051892%2C1.75904805%20C38.3977217%2C1.6033033%2038.6130971%2C1.52543093%2038.8519679%2C1.52543093%20L42.6628068%2C1.52543093%20C43.0481982%2C1.52543093%2043.4172733%2C1.54139639%2043.7703584%2C1.57365315%20C44.1234435%2C1.60590991%2044.5404885%2C1.67433333%2045.0221461%2C1.77957507%20C45.5034775%2C1.88514264%2045.9942723%2C2.08194144%2046.4942042%2C2.3702973%20C46.9938098%2C2.65865315%2047.4180341%2C3.01380331%2047.7668769%2C3.43477027%20C48.1153934%2C3.85606306%2048.3836336%2C4.34382432%2048.5715976%2C4.89772823%20C48.7595616%2C5.45228378%2048.8538698%2C6.06353303%2048.8538698%2C6.7318018%20L48.8538698%2C6.7318018%20L48.8538698%2C6.7318018%20Z%20M46.3636737%2C6.92403904%20C46.3636737%2C6.20070571%2046.2282483%2C5.5962988%2045.9577237%2C5.11049249%20C45.6871992%2C4.62533784%2045.3523884%2C4.26367117%2044.9532913%2C4.02549249%20C44.5545205%2C3.78731381%2044.1417177%2C3.63645646%2043.7152092%2C3.57226877%20C43.2887007%2C3.50840691%2042.8736136%2C3.47615015%2042.469948%2C3.47615015%20L40.2825826%2C3.47615015%20L40.2825826%2C10.6052192%20L42.4151251%2C10.6052192%20C43.1307588%2C10.6052192%2043.7243464%2C10.513988%2044.1968669%2C10.3305481%20C44.6690611%2C10.1477598%2045.0658739%2C9.89361563%2045.386979%2C9.56811561%20C45.7080841%2C9.24326726%2045.9508708%2C8.8539054%2046.1163183%2C8.40068168%20C46.2811131%2C7.94745795%2046.3636737%2C7.45513513%2046.3636737%2C6.92403904%20L46.3636737%2C6.92403904%20L46.3636737%2C6.92403904%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M65.8029329%2C18.4628348%20C65.87603%2C18.664521%2065.9151892%2C18.8267823%2065.9197578%2C18.9505961%20C65.924%2C19.0744099%2065.8897357%2C19.1682478%2065.8166386%2C19.2324354%20C65.7432153%2C19.2962973%2065.6218218%2C19.3373513%2065.4521321%2C19.3559234%20C65.2821161%2C19.3741697%2065.0553193%2C19.3836186%2064.7710891%2C19.3836186%20C64.4868588%2C19.3836186%2064.2597357%2C19.3767762%2064.090046%2C19.3630916%20C63.9203564%2C19.3494069%2063.7917838%2C19.3262733%2063.704981%2C19.2943423%20C63.6175255%2C19.2624114%2063.5535656%2C19.2187508%2063.5124484%2C19.164012%20C63.471005%2C19.1089475%2063.4321722%2C19.0401982%2063.3956237%2C18.9580901%20L61.8684164%2C14.6311231%20L54.4666827%2C14.6311231%20L53.0083303%2C18.9030256%20C52.9805926%2C18.9854595%2052.9440441%2C19.0568153%2052.898032%2C19.1157898%20C52.85202%2C19.1754159%2052.7857758%2C19.2259189%2052.6986467%2C19.2669729%20C52.6115176%2C19.308027%2052.4875135%2C19.3376772%2052.3272873%2C19.3562493%20C52.1667347%2C19.3744955%2051.9578859%2C19.3839445%2051.7013934%2C19.3839445%20C51.4354375%2C19.3839445%2051.2174514%2C19.3722147%2051.0480881%2C19.3497327%20C50.8783984%2C19.3265991%2050.7592893%2C19.2832643%2050.6904344%2C19.2190766%20C50.6219059%2C19.1552147%2050.5892733%2C19.061051%2050.5941682%2C18.9375631%20C50.5987367%2C18.8137492%2050.6375695%2C18.6511622%2050.710993%2C18.4498018%20L56.6817858%2C1.93857808%20C56.7183344%2C1.8378979%2056.7666306%2C1.75546396%2056.826022%2C1.69127628%20C56.8854134%2C1.62708859%2056.9728689%2C1.57658558%2057.0874094%2C1.54009309%20C57.2019499%2C1.5036006%2057.3487968%2C1.47818619%2057.5276236%2C1.4645015%20C57.7061241%2C1.45081682%2057.9335736%2C1.44397448%2058.2086667%2C1.44397448%20C58.5020341%2C1.44397448%2058.7451472%2C1.45081682%2058.938006%2C1.4645015%20C59.1305386%2C1.47818619%2059.2865225%2C1.5036006%2059.4056316%2C1.54009309%20C59.5247407%2C1.57691141%2059.6164384%2C1.62936937%2059.6807247%2C1.69811862%20C59.7446847%2C1.76686787%2059.7952653%2C1.85158258%2059.8321402%2C1.95226276%20L65.8029329%2C18.4628348%20L65.8029329%2C18.4628348%20L65.8029329%2C18.4628348%20Z%20M58.1398118%2C3.88831982%20L58.1261061%2C3.88831982%20L55.0583123%2C12.7481757%20L61.2490491%2C12.7481757%20L58.1398118%2C3.88831982%20L58.1398118%2C3.88831982%20L58.1398118%2C3.88831982%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M74.4424224%2C12.3910706%20L74.4424224%2C18.9431021%20C74.4424224%2C19.0167388%2074.4241481%2C19.0806006%2074.3875996%2C19.1353393%20C74.351051%2C19.1904039%2074.2870911%2C19.2337387%2074.1960461%2C19.2659955%20C74.105001%2C19.2982522%2073.9816497%2C19.3252958%2073.8266446%2C19.3484295%20C73.6716396%2C19.3709114%2073.4846547%2C19.3826411%2073.266016%2C19.3826411%20C73.0379139%2C19.3826411%2072.8489709%2C19.3709114%2072.6982082%2C19.3484295%20C72.5477718%2C19.3252958%2072.4244204%2C19.2979264%2072.3288068%2C19.2659955%20C72.2328668%2C19.2337387%2072.166949%2C19.1904039%2072.1304004%2C19.1353393%20C72.0938519%2C19.0802747%2072.0759039%2C19.0167388%2072.0759039%2C18.9431021%20L72.0759039%2C12.3910706%20L67.0406887%2C2.36345496%20C66.9395275%2C2.15297147%2066.8775255%2C1.98810361%2066.855009%2C1.86885135%20C66.8318399%2C1.74992492%2066.855009%2C1.65836787%2066.9238638%2C1.59418018%20C66.9923924%2C1.53031832%2067.1163964%2C1.48926426%2067.2952232%2C1.4706922%20C67.4740501%2C1.45244595%2067.7145525%2C1.442997%2068.0173834%2C1.442997%20C68.2924765%2C1.442997%2068.5147047%2C1.45244595%2068.6847207%2C1.4706922%20C68.8544104%2C1.48926426%2068.9895095%2C1.51435285%2069.0906706%2C1.54628379%20C69.1915055%2C1.57854054%2069.2672132%2C1.62415616%2069.3174674%2C1.68378228%20C69.368048%2C1.7434084%2069.416018%2C1.819%2069.46203%2C1.91023123%20L71.9244885%2C7.02015766%20C72.1529169%2C7.50563814%2072.3813453%2C8.01392643%2072.6091212%2C8.54502253%20C72.8368969%2C9.07611859%2073.0695676%2C9.61177629%2073.3068068%2C10.1519955%20L73.3342182%2C10.1519955%20C73.5437198%2C9.63002255%2073.7600741%2C9.11065613%2073.9839339%2C8.5929189%20C74.2071411%2C8.07583333%2074.4332853%2C7.56526426%2074.6623664%2C7.06153753%20L77.1385308%2C1.92424174%20C77.1662681%2C1.83268469%2077.2051011%2C1.75481231%2077.255682%2C1.69062462%20C77.305936%2C1.62676277%2077.3744646%2C1.57854054%2077.46192%2C1.54628379%20C77.5490494%2C1.51435285%2077.6704426%2C1.48926426%2077.8264267%2C1.4706922%20C77.9824108%2C1.45244595%2078.1795116%2C1.442997%2078.4180559%2C1.442997%20C78.7482979%2C1.442997%2079.0074014%2C1.45472673%2079.1953657%2C1.47720871%20C79.3833291%2C1.50034235%2079.5138597%2C1.54367718%2079.5876096%2C1.60786487%20C79.6613595%2C1.67205255%2079.68616%2C1.76360961%2079.6633171%2C1.88253604%20C79.6404743%2C2.00178829%2079.5784723%2C2.16176877%2079.4776374%2C2.36312913%20L74.4424224%2C12.3910706%20L74.4424224%2C12.3910706%20L74.4424224%2C12.3910706%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAADkAQMAAAC2bMrzAAAABlBMVEX///8AAABVwtN+AAACK0lEQVRYw9XYMY7mIAyG4TeioOQIPgo3I8nNOApHoKSw8m1B5t+Z7VfrRSkiPWkibLANf21lSXqyAKemWTVxuyVJV1QdQAOoFFGU1N3uBVhcPTVaHkny0pO6UzWOZVrRVWmSZqV0qG73f6GaVVKSKJ3wCjSM0h300R9xFU13hg4v/ffzZ/4G03dZmtWLNPHS3a6fB2IwzdKi5QHV2cHTsYc3ckIqtDyOZQCgWZ2KPXBq8M806/OdU730JEHD7sA69pu+zuc0q8axOPY9GFGxBxposg86L3IOacdGSM26NYA0a5o1qXuRdMfWcWicC0rfYeNFTmPnZUzFrjzIoojS9/WddC8adgXVrAt78tAE8NKdCg2Onb8RdZ+EEkVpsmvRNI5Fy7qiql15NEzqSX3/VNKD3YqrO0TMS6cIkHoap/TkvQsBNete9rwVnfYZ7jQssGIPHMso8tL19oNPHsTVrFujQZIAQOpuV5YWgXXZvcy3ld0PttAKx6LB3gJKp8g511eGRlW7spL6Lp69vBmKhVV7siSlWSlKklOxK+srQwNqHqfGoZHmuxEOaYfNV1f+DxQab2w4+x4Upk+XGlMBsnw3VrtPsevT8UXUPQ0AqFL30gHsfnMwqA6gQZpVu+aHpAu7vs8Yo+mp0QCql3e65Sbp+uRgUM3DYdf8aVbplt5dCKwCnOr77uaU7gVhFWhZSdLEQZLGuXvEqPpOET8T5jTx3Vt9mzHG0pDrFxd5veytOF4pAAAAAElFTkSuQmCC\"","import { LitElement, html, css } from 'lit-element';\nimport { t } from '../directives/i18n';\n\nexport default class PagesByCategories extends LitElement {\n  static cName = 'pages-by-categories';\n  static properties = {\n    items: { type: Object },\n    type: { type: String },\n    categories: { type: Array }\n  };\n\n  constructor() {\n    super();\n    this.items = null;\n    this.type = 'page';\n    this.categories = null;\n  }\n\n  render() {\n    const categories = this.categories || Object.keys(this.items);\n    return html`\n      <nav>\n        ${categories.map(category => html`\n          <h3>${t(`categories.${category}`)}</h3>\n          <ul>\n            ${this.items[category].map(page => html`\n              <li><app-link nav to=\"${this.type}\" .params=\"${page}\">${page.title}</app-link></li>\n            `)}\n          </ul>\n        `)}\n      </nav>\n    `;\n  }\n}\n\nPagesByCategories.styles = css`\n  :host {\n    display: block;\n  }\n\n  ul {\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n  }\n\n  nav > h3:first-child {\n    margin-top: 0;\n  }\n\n  li {\n    margin-top: 8px;\n  }\n`;\n","import { LitElement, html, css } from 'lit-element';\nimport { ut } from '../directives/i18n';\n\nexport default class AppNotification extends LitElement {\n  static cName = 'app-notification';\n  static properties = {\n    type: { type: String },\n    message: { type: String }\n  };\n\n  constructor() {\n    super();\n    this.type = 'info';\n    this.message = '';\n  }\n\n  render() {\n    return html`${ut(this.message)}`;\n  }\n}\n\nAppNotification.styles = css`\n  :host {\n    display: block;\n    background: rgb(29, 31, 33);\n    border-radius: 7px;\n    padding: 1rem;\n    color: #fff;\n    cursor: pointer;\n  }\n`;\n","var t=function(t,i,n){return t.addEventListener(i,n,!1),function(){return t.removeEventListener(i,n,!1)}};try{var i=Object.defineProperty({},\"passive\",{get:function(){return t=function(t,i,n){return t.addEventListener(i,n,{passive:!0}),function(){return t.removeEventListener(i,n,{passive:!0})}},!0}});window.addEventListener(\"test\",null,i)}catch(t){}var n=function(i,n,s){return t(i,n,s)},s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)};var o=window.document.documentElement,e=function(){for(var t=[\"Webkit\",\"Khtml\",\"Moz\",\"ms\",\"O\"],i=0;i<t.length;i++)if(t[i]+\"Opacity\"in o.style)return\"-\"+t[i].toLowerCase()+\"-\";return\"\"}();function r(t,i,n){t.style[e+i]=n}var h=window.navigator.msPointerEnabled,u=window.document.documentElement,a={start:h?\"MSPointerDown\":\"touchstart\",move:h?\"MSPointerMove\":\"touchmove\",end:h?\"MSPointerUp\":\"touchend\",cancel:\"touchcancel\"},f={end:\"webkitTransitionEnd\"in u.style?\"webkitTransitionEnd\":\"transitionend\"},c=window.document,l=c.documentElement;var d=!1,v=function(){function t(t){void 0===t&&(t={}),this.panel=t.panel,this.menu=t.menu,this.t=t.eventsEmitter||this.panel,this.i=0,this.s=0,this.o=!1,this.h=!1,this.u=!1,this.l=!1,this.v=void 0===t.touch||!!t.touch,this.p=t.side||\"left\",this.m=t.easing||\"ease\",this.M=parseInt(t.duration,10)||300,this.T=parseInt(t.tolerance,10)||70,this.g=parseInt(t.padding,10)||.8*window.innerWidth,this.k=this.g,this.I=\"right\"===this.p?-1:1,this.k*=this.I,this.O(),this.v&&(this.P(),this.v=\"manual\"!==this.v)}var i=t.prototype;return i.O=function(){var t=this.panel.classList,i=this.menu.classList;t.contains(\"slideout-panel\")||t.add(\"slideout-panel\"),t.contains(\"slideout-panel-\"+this.p)||t.add(\"slideout-panel-\"+this.p),i.contains(\"slideout-menu\")||i.add(\"slideout-menu\"),i.contains(\"slideout-menu-\"+this.p)||i.add(\"slideout-menu-\"+this.p)},i.S=function(t){return this.t.dispatchEvent(new window.CustomEvent(t)),this},i.on=function(t,i,n){var s=this;return this.t.addEventListener(t,i,n),function(){return s.t.removeEventListener(t,i,n)}},i.open=function(){this.S(\"beforeopen\"),l.classList.contains(\"slideout-open\")||l.classList.add(\"slideout-open\"),this.X(),this.j(this.k),this.u=!0;var t=this;return this.panel.addEventListener(f.end,(function i(){t.panel.removeEventListener(f.end,i),r(t.panel,\"transition\",\"\"),t.S(\"open\")})),this},i.close=function(){if(!this.isOpen()&&!this.o)return this;this.S(\"beforeclose\"),this.X(),this.j(0),this.u=!1;var t=this;return this.panel.addEventListener(f.end,(function i(){t.panel.removeEventListener(f.end,i),l.classList.remove(\"slideout-open\"),r(t.panel,\"transition\",\"\"),r(t.panel,\"transform\",\"\"),t.S(\"close\")})),this},i.toggle=function(){return this.isOpen()?this.close():this.open()},i.isOpen=function(){return this.u},i.j=function(t){this.s=t,r(this.panel,\"transform\",\"translateX(\"+t+\"px)\")},i.X=function(){r(this.panel,\"transition\",e+\"transform \"+this.M+\"ms \"+this.m)},i.P=function(){var t,i,o,e,h,u,v=this,p=function(){d=!1};this.D=(o=function(){v.h||(clearTimeout(t),d=!0,t=setTimeout(p,250))},h=!1,u=function(){o.call(i,e),h=!1},n(i=c,\"scroll\",(function(t){e=t,h||(s(u),h=!0)}))),this.K=n(this.panel,a.start,(function(t){void 0!==t.touches&&(v.h=!1,v.o=!1,v.i=t.touches[0].pageX,v.l=!v.v||!v.isOpen()&&0!==v.menu.clientWidth)})),this.U=n(this.panel,a.cancel,(function(){v.h=!1,v.o=!1})),this.W=n(this.panel,a.end,(function(){if(v.h)if(v.S(\"translateend\"),v.o&&Math.abs(v.s)>v.T)v.open();else if(v.k-Math.abs(v.s)<=v.T/2){v.X(),v.j(v.k);var t=v;v.panel.addEventListener(f.end,(function i(){this.panel.removeEventListener(f.end,i),r(t.panel,\"transition\",\"\")}))}else v.close();v.h=!1})),this.q=n(this.panel,a.move,(function(t){if(!(d||v.l||void 0===t.touches||function(t){for(var i=t;i.parentNode;){if(null!==i.getAttribute(\"data-slideout-ignore\"))return i;i=i.parentNode}return null}(t.target))){var i=t.touches[0].clientX-v.i,n=i;if(v.s=i,!(Math.abs(n)>v.g||Math.abs(i)<=20)){v.o=!0;var s=i*v.I;v.u&&s>0||!v.u&&s<0||(v.h||v.S(\"translatestart\"),s<=0&&(n=i+v.g*v.I,v.o=!1),v.h&&l.classList.contains(\"slideout-open\")||l.classList.add(\"slideout-open\"),r(v.panel,\"transform\",\"translateX(\"+n+\"px)\"),v.S(\"translate\",n),v.h=!0)}}}))},i.enableTouch=function(){return this.v=!0,this},i.disableTouch=function(){return this.v=!1,this},i.destroy=function(){this.close(),this.K(),this.U(),this.W(),this.q(),this.D()},t}();export{v as Slideout};\n//# sourceMappingURL=index.js.map\n","import { LitElement, html, css } from 'lit-element';\nimport { Slideout } from 'menu-drawer.js';\n\nexport default class MenuDrawer extends LitElement {\n  static cName = 'menu-drawer';\n  static properties = {\n    isOpen: { type: Boolean },\n    disabled: { type: Boolean },\n  };\n\n  constructor() {\n    super();\n    this._drawer = null;\n    this.isOpen = false;\n    this.disabled = false;\n    this._scrollTop = 0;\n  }\n\n  open() {\n    this.isOpen = true;\n  }\n\n  close() {\n    this.isOpen = false;\n  }\n\n  toggle() {\n    this.isOpen = !this.isOpen;\n  }\n\n  _createDrawer() {\n    const [menu, panel] = this.shadowRoot.children;\n    this._drawer = new Slideout({\n      menu,\n      panel,\n      eventsEmitter: this,\n      padding: 270,\n      touch: false,\n    });\n    const close = () => this._drawer.close();\n    this._drawer.on('beforeopen', () => {\n      this.isOpen = true;\n      this._scrollTop = window.pageYOffset;\n      menu.classList.add('open');\n      panel.style.top = `${-this._scrollTop}px`;\n      panel.addEventListener('mousedown', close, false);\n      panel.addEventListener('touchstart', close, false);\n      window.scroll(0, 0);\n    });\n    this._drawer.on('close', () => {\n      this.isOpen = false;\n      menu.classList.remove('open');\n      panel.style.top = '';\n      window.scroll(0, this._scrollTop);\n      panel.removeEventListener('mousedown', close, false);\n      panel.removeEventListener('touchstart', close, false);\n    });\n  }\n\n  updated(changed) {\n    if (!this._drawer) {\n      this._createDrawer();\n    }\n\n    if (this.isOpen !== this._drawer.isOpen()) {\n      const toggle = this.isOpen ? 'open' : 'close';\n      this._drawer[toggle]();\n    }\n\n    if (changed.has('disabled')) {\n      const switchEnable = this.disabled ? 'disableTouch' : 'enableTouch';\n      this._drawer[switchEnable]();\n    }\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this._drawer.destroy();\n    this._drawer = null;\n  }\n\n  render() {\n    return html`\n      <div class=\"menu\">\n        <slot name=\"menu\"></slot>\n      </div>\n      <div class=\"panel\">\n        <slot></slot>\n      </div>\n    `;\n  }\n}\n\nMenuDrawer.styles = css`\n  :host {\n    display: block;\n  }\n\n  .menu {\n    display: none;\n    padding: 10px;\n    width: 256px;\n    min-height: 100vh;\n    -webkit-overflow-scrolling: touch;\n  }\n\n  .panel {\n    position: relative;\n    z-index: 10;\n    will-change: transform;\n    min-height: 100vh;\n    background: #fff;\n  }\n\n  .panel::before {\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: 100%;\n    z-index: 6000;\n    background-color: transparent;\n    transition: background-color .2s ease-in-out;\n  }\n\n  .menu.open {\n    display: block;\n  }\n\n  .menu.open + .panel {\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    overflow: hidden;\n    min-height: 100%;\n    z-index: 10;\n    box-shadow: 0 0 20px rgba(0,0,0,.5);\n  }\n\n  .menu.open + .panel::before {\n    content: '';\n    background-color: rgba(0, 0, 0, .5);\n  }\n`;\n","import 'core-js/modules/web.immediate';\nimport App from './components/App';\nimport AppRoot from './components/AppRoot';\nimport AppFooter from './components/AppFooter';\nimport AppHeader from './components/AppHeader';\nimport AppLink from './components/AppLink';\nimport AppMenu from './components/AppMenu';\nimport ArticleDetails from './components/ArticleDetails';\nimport Page from './components/Page';\nimport PageNav from './components/PageNav';\nimport HomePage from './components/HomePage';\nimport GithubButton from './components/GithubButton';\nimport QuickSearch from './components/QuickSearch';\nimport LangPicker from './components/LangPicker';\nimport OneTimeDonations from './components/OneTimeDonations';\nimport PagesByCategories from './components/PagesByCategories';\nimport AppNotification from './components/AppNotification';\nimport MenuDrawer from './components/MenuDrawer';\nimport { locale, setLocale, defaultLocale } from './services/i18n';\nimport router from './services/router';\nimport { setRouteMeta } from './services/meta';\n\nconst components = [\n  App,\n  AppRoot,\n  AppFooter,\n  AppHeader,\n  AppLink,\n  AppMenu,\n  ArticleDetails,\n  Page,\n  HomePage,\n  PageNav,\n  QuickSearch,\n  LangPicker,\n  GithubButton,\n  PagesByCategories,\n  OneTimeDonations,\n  AppNotification,\n  MenuDrawer,\n];\n\nexport function bootstrap(selector) {\n  const app = document.querySelector(selector);\n  components.forEach(c => customElements.define(c.cName, c));\n  router.observe(async (route) => {\n    const lang = route.response.params.lang || defaultLocale;\n\n    if (locale() !== lang) {\n      await setLocale(lang);\n      app.ready = true;\n    }\n\n    setRouteMeta(route);\n  }, { initial: true });\n\n  return app;\n}\n","// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\nimport { fetch } from './services/http';\n\nconst { navigator, location } = window;\nconst isLocalhost = location.hostname === 'localhost'\n  || location.hostname === '[::1]'\n  || location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/);\nconst isSupportedServiceWorker = 'serviceWorker' in navigator;\n\nconst log = (...args) => log(...args); // eslint-disable-line no-console\n\nfunction notifyAboutNewWorker(worker, config) {\n  if (!worker) {\n    return;\n  }\n\n  worker.onstatechange = () => {\n    if (worker.state !== 'installed') {\n      return;\n    }\n\n    if (navigator.serviceWorker.controller) {\n      log('New content is available and will be used when all '\n        + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.');\n\n      if (config && config.onUpdate) {\n        config.onUpdate(worker);\n      }\n    } else {\n      log('Content is cached for offline use.');\n\n      if (config && config.onSuccess) {\n        config.onSuccess(worker);\n      }\n    }\n  };\n}\n\nfunction registerValidSW(swUrl, config) {\n  let isRefreshing = false;\n\n  navigator.serviceWorker.addEventListener('controllerchange', () => {\n    if (!isRefreshing) {\n      isRefreshing = true;\n      location.reload();\n    }\n  });\n\n  return navigator.serviceWorker.register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => notifyAboutNewWorker(\n        registration.installing,\n        config\n      );\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  const headers = { 'Service-Worker': 'script' };\n  return fetch(swUrl, { headers, format: 'raw', absoluteUrl: true })\n    .then((response) => {\n      const contentType = response.headers['content-type'] || '';\n      log(response.headers);\n\n      if (response.status === 404 || contentType.indexOf('javascript') === -1) {\n        log('cannot detect service worker');\n        navigator.serviceWorker.ready\n          .then(registration => registration.unregister())\n          .then(() => location.reload());\n      } else {\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function register(config) {\n  if (!isSupportedServiceWorker) {\n    return;\n  }\n\n  window.addEventListener('load', () => {\n    const swUrl = `${process.env.BASE_URL}/sw.js`;\n\n    if (isLocalhost) {\n      checkValidServiceWorker(swUrl, config);\n    } else {\n      registerValidSW(swUrl, config);\n    }\n  });\n}\n\nexport function unregister() {\n  if (isSupportedServiceWorker) {\n    navigator.serviceWorker.ready\n      .then(registration => registration.unregister())\n      .catch(error => console.error(error.message));\n  }\n}\n","import { bootstrap } from './app';\nimport { register } from './serviceWorker';\n\nwindow.__isAppExecuted__ = true;\nconst app = bootstrap('casl-docs');\nregister({\n  onUpdate(worker) {\n    app.notify('updateAvailable', {\n      onClick() {\n        worker.postMessage({ type: 'SKIP_WAITING' });\n      }\n    });\n  }\n});\n"],"names":["check","it","Math","globalThis","window","self","global","Function","exec","error","fails","Object","defineProperty","get","nativePropertyIsEnumerable","propertyIsEnumerable","getOwnPropertyDescriptor","call","1","V","descriptor","this","enumerable","bitmap","value","configurable","writable","toString","slice","split","classof","IndexedObject","undefined","TypeError","requireObjectCoercible","input","PREFERRED_STRING","isObject","fn","val","valueOf","hasOwnProperty","key","document","EXISTS","createElement","DESCRIPTORS","a","nativeGetOwnPropertyDescriptor","O","P","toIndexedObject","toPrimitive","IE8_DOM_DEFINE","has","createPropertyDescriptor","propertyIsEnumerableModule","f","String","nativeDefineProperty","Attributes","anObject","object","definePropertyModule","createNonEnumerableProperty","setGlobal","functionToString","store","inspectSource","set","WeakMap","test","module","push","version","mode","copyright","id","postfix","random","keys","shared","NATIVE_WEAK_MAP","wmget","wmhas","wmset","metadata","STATE","uid","hiddenKeys","objectHas","defer","channel","port","enforce","getterFor","TYPE","state","type","getInternalState","InternalStateModule","enforceInternalState","TEMPLATE","options","unsafe","simple","noTargetGet","source","join","prototype","aFunction","variable","namespace","method","arguments","length","path","ceil","floor","argument","isNaN","min","max","createMethod","IS_INCLUDES","$this","el","fromIndex","toInteger","index","integer","toAbsoluteIndex","indexOf","includes","concat","getOwnPropertyNames","names","i","result","internalObjectKeys","getOwnPropertySymbols","getBuiltIn","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","target","ownKeys","getOwnPropertyDescriptorModule","replacement","isForced","feature","detection","data","normalize","POLYFILL","NATIVE","string","replace","toLowerCase","require$$0","userAgent","location","setImmediate","clear","clearImmediate","process","MessageChannel","Dispatch","counter","queue","run","runner","listener","event","post","postMessage","protocol","host","args","apply","nextTick","now","IS_IOS","port2","port1","onmessage","that","b","c","bind","addEventListener","importScripts","html","appendChild","removeChild","setTimeout","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","forced","copyConstructorProperties","sham","redefine","$","task","directives","directive","d","isDirective","o","isCEPolyfill","customElements","polyfillWrapFlushCallback","removeNodes","container","start","end","n","nextSibling","noChange","nothing","marker","nodeMarker","markerRegex","RegExp","Template","[object Object]","element","parts","nodesToRemove","stack","walker","createTreeWalker","content","lastPartIndex","partIndex","strings","values","node","nextNode","nodeType","hasAttributes","attributes","count","endsWith","name","stringForPart","lastAttributeNameRegex","attributeLookupName","attributeValue","getAttribute","removeAttribute","statics","tagName","currentNode","parent","parentNode","lastIndex","insert","s","createMarker","match","createTextNode","insertBefore","previousSibling","pop","str","suffix","isTemplatePartActive","part","createComment","TemplateInstance","template","processor","__parts","setValue","commit","fragment","cloneNode","importNode","nodeIndex","nodeName","handleTextExpression","insertAfterNode","handleAttributeExpressions","adoptNode","upgrade","commentMarker","TemplateResult","l","isCommentBinding","commentOpen","lastIndexOf","attributeMatch","substr","innerHTML","getHTML","isPrimitive","isIterable","Array","isArray","Symbol","iterator","AttributeCommitter","dirty","_createPart","AttributePart","text","v","t","setAttribute","_getValue","committer","NodePart","__pendingValue","startNode","endNode","ref","__insert","__commitText","__commitTemplateResult","Node","__commitNode","__commitIterable","valueAsString","templateFactory","update","instance","_clone","itemParts","itemPart","item","appendIntoPart","insertAfterPart","BooleanAttributePart","Error","PropertyCommitter","super","single","PropertyPart","eventOptionsSupported","capture","removeEventListener","_e","EventPart","eventName","eventContext","__boundHandleEvent","e","handleEvent","newListener","oldListener","shouldRemoveListener","once","passive","shouldAddListener","__options","getOptions","defaultTemplateProcessor","prefix","templateCache","templateCaches","stringsArray","keyString","Map","getTemplateElement","removeNodesFromTemplate","nextActiveIndexInTemplateParts","removeCount","nodesToRemoveInTemplate","currentRemovingNode","forEach","countNodes","startIndex","getTemplateCacheKey","scopeName","compatibleShadyCSSVersion","ShadyCSS","prepareTemplateDom","console","warn","shadyTemplateFactory","cacheKey","TEMPLATE_TYPES","shadyRenderSet","Set","prepareTemplateStyles","renderedDOM","add","templateElement","styles","querySelectorAll","condensedStyle","style","textContent","templates","from","removeStylesFromLitTemplates","refNode","insertCount","walkerIndex","insertNodeIntoTemplate","firstChild","querySelector","nativeShadow","removes","JSCompiler_renameProperty","prop","_obj","defaultConverter","Boolean","JSON","stringify","Number","parse","notEqual","old","defaultPropertyDeclaration","attribute","converter","reflect","hasChanged","microtaskPromise","Promise","resolve","UpdatingElement","HTMLElement","_updateState","_instanceProperties","_updatePromise","_hasConnectedResolver","_changedProperties","_reflectingProperties","initialize","finalize","_classProperties","p","attr","_attributeNameForProperty","_attributeToPropertyMap","superProperties","getPrototypeOf","k","_ensureClassProperties","noAccessor","oldValue","_requestUpdate","superCtor","props","properties","propKeys","createProperty","fromAttribute","toAttribute","_saveInstanceProperties","constructor","_v","_attributeToProperty","ctor","attrValue","_propertyValueToAttribute","propName","_propertyValueFromAttribute","shouldRequestUpdate","_valueHasChanged","_hasRequestedUpdate","_enqueueUpdate","updateComplete","reject","previousUpdatePromise","res","rej","_hasConnected","performUpdate","_applyInstanceProperties","shouldUpdate","changedProperties","_markUpdated","firstUpdated","updated","_getUpdateComplete","size","_propertyToAttribute","supportsAdoptingStyleSheets","Document","CSSStyleSheet","constructionToken","CSSResult","cssText","safeToken","_styleSheet","replaceSync","css","reduce","acc","idx","textFromCSSResult","flattenStyles","flat","Infinity","arrayFlat","LitElement","_styles","_getUniqueStyles","userStyles","reduceRight","unshift","renderRoot","createRenderRoot","ShadowRoot","adoptStyles","attachShadow","adoptedStyleSheets","map","styleSheet","_needsShimAdoptedStyleSheets","ScopingShim","prepareAdoptedCssText","localName","connectedCallback","hasUpdated","styleElement","templateResult","render","hasRendered","needsScoping","firstScopeRender","renderContainer","createDocumentFragment","assign","appendInto","litRender","delete","cache","previousValue","cachedTemplate","nodes","before","reparentNodes","pathToRegexp","tokensToFunction","tokensToRegExp","PATH_REGEXP","tokens","defaultDelimiter","delimiter","delimiters","pathEscaped","m","escaped","offset","prev","next","group","modifier","partial","repeat","optional","pattern","escapeGroup","escapeString","matches","encode","encodeURIComponent","token","segment","j","flags","sensitive","strict","route","isEndDelimited","groups","regexpToRegexp","arrayToRegexp","stringToRegexp","isExternalRedirect","redirect","finishResponse","resolvedResults","router","external","_a","_b","resolved","_c","response","body","meta","methods","respond","results","params","query","hash","url","isRedirectLocation","createRedirect","withLeadingSlash","charAt","matchRoute","pathname","matching","re","children","exact","regExpMatch","matchedSegment","parsed","remainder","fullSegments","length_1","matched","createMatch","routeMatches","public","param","parsers","decodeURIComponent","ensureBeginsWith","defaultParseQuery","defaultStringifyQuery","noop","getStateFromHistory","history","interpolate","config","entries","extract","lookup","shift","obj","translateConfig","loader","empty","translationCache","updateLang","newLang","newStrings","detail","previousStrings","previousLang","lang","dispatchEvent","CustomEvent","listenForLangChanged","callback","handler","translation","isConnected","partCache","updatePart","cb","newValue","setInterval","whenIdle","removeDisconnectedParts","requestIdleCallback","langChanged","json","memoize","generateKey","memoized","identity","x","FORMATS","raw","fetch","rawUrl","format","xhr","XMLHttpRequest","absoluteUrl","open","headers","setRequestHeader","onload","status","getResponseHeader","responseText","ontimeout","onerror","send","pages","en","default","VAR_REGEXP","vars","_","varName","i18n","registerTranslateConfig","langUrls","pointer","dateTime","locale","Intl","DateTimeFormat","LOCALES","defaultLocale","returnNull","setLocale","async","use","_defineProperties","_createClass","Constructor","protoProps","staticProps","_defineProperty","enumerableOnly","symbols","filter","sym","_objectSpread2","getOwnPropertyDescriptors","defineProperties","TreeIterator","_tree","_proto","dive","backtrack","done","_last","last","LEAF","_prefix","_ref","VALUES","KEYS","array","withinDistance","maxDistance","edit","distance","ia","ib","_stack$pop2","_edit","NONE","ADD","DELETE","CHANGE","SearchableMap","tree","atPrefix","startsWith","_trackDown","trackDown","last$1","nodeKey","find","_size","remove","_iterator","_isArray","_i","_ref2","_ref3","fuzzyGet","maxEditDistance","innerStack","_loop","_stack$pop","totDistance","fuzzySearch","createPath","_this","_iterator2","_isArray2","_i2","_ref4","_ref5","fromObject","_combinators","toSplit","_tree$prefix","commonPrefix","_trackDown2","cleanup","merge","_last2","_last3","MiniSearch","_options","defaultOptions","searchOptions","defaultSearchOptions","fields","_index","_documentCount","_documentIds","_fieldIds","_fieldLength","_averageFieldLength","_nextId","_storedFields","addFields","_this$_options","extractField","tokenize","processTerm","idField","shortDocumentId","addDocumentId","saveStoredFields","field","addFieldLength","documentCount","term","processedTerm","isTruthy","addTerm","addAll","documents","_this2","addAllAsync","_this3","_options$chunkSize","chunkSize","chunk","promise","_documents$reduce","then","_this4","_this$_options2","longId","removeTerm","search","queryString","_this5","_this$_options3","_options2","searchTokenize","searchProcessTerm","termToQuery","executeQuery","combinedResults","combineResults","combineWith","docId","_ref4$","score","terms","uniq","sort","_ref6","autoSuggest","defaultAutoSuggestOptions","suggestions","_ref7","phrase","_ref8","suggestion","_ref8$","_ref9","_ref10","loadJSON","loadJS","getDefault","optionName","js","_js$index","nextId","documentIds","fieldIds","fieldLength","averageFieldLength","storedFields","miniSearch","_this6","boosts","_objectSpread2$1","boost","_options3","boostDocument","_options3$weights","weights","_options3$weights$fuz","fuzzy","fuzzyWeight","_options3$weights$pre","prefixWeight","exactMatch","termResults","weightedDistance","round","_ref11","_ref11$","combinators","operator","toJSON","fieldId","documentId","indexData","_objectSpread3","fieldIndex","df","ds","_objectSpread4","warnDocumentChanged","fieldName","_ref12","weight","editDistance","_ref13","_ref14","_ref15","tf","docBoost","normalizedLength","totalLength","doc","_self$_options","storeFields","fieldValue","combined","_ref16","_ref16$","_ref17","_ref17$","termFrequency","documentFrequency","log","tfIdf","_fieldName","SPACE_OR_PUNCTUATION","description","h","title","contentTypes","page","summaries","searchIndexes","_pages","_summaries","_searchIndexes","_loadSearchIndex","_getSummary","_getItems","byCategories","load","message","code","categories","all","category","pageId","items","findIndex","prevIndex","nextIndex","filtered","indexUrl","searchIndex","summary","byId","hints","regexp","markedValue","markHints","notfound","support-casljs","advanced/ability-to-database-query","advanced/customize-ability","advanced/debugging-testing","advanced/typescript","api/casl-ability","api/casl-ability-extra","cookbook/cache-rules","cookbook/claim-authorization","cookbook/intro","cookbook/less-confusing-can-api","cookbook/roles-with-persisted-permissions","cookbook/roles-with-static-permissions","examples/angular-todo","examples/aurelia-blog","examples/react-todo","examples/vue-todo","examples/vue-vuex-rest-api-blog","guide/conditions-in-depth","guide/define-aliases","guide/define-rules","guide/install","guide/intro","guide/restricting-fields","guide/subject-type-detection","advanced/ability-inheritance","package/casl-angular","package/casl-aurelia","package/casl-mongoose","package/casl-react","package/casl-vue","contentLoader","loadPages","transformParams","nav","getNearestFor","firstPage","at","firstCategory","loadFirstPage","redirectTo","renderPage","respondWithError","respondWithPage","main","sidebar","OLD_TO_NEW_URL","historyConstructor","routes","latestResponse","latestNavigation","pendingNav","navigation","action","previous","finish","finishAndResetNavCallbacks","isAsyncRoute","finalizeResponseAndEmit","asyncNavNotifiers","cancelWith","cancel","asyncNavComplete","cancelAndResetNavCallbacks","cancelled","pending","invisibleRedirects","emit","emitted","observers","oneTimers","splice","sideEffects","callOneTimersAndSideEffects","navigate","emitImmediate","cancelCallback","finishCallback","resetCallbacks","observe","initial","obs","can","details","pathname$1","finished","current","destroy","createRouter","major","confirmFn","utils","parseQuery","_d","stringifyQuery","base","details_1","substring","hashIndex","rawQuery","queryIndex","keyed","firstChar","locationUtils","keygen","minor","confirmNavigation","info","allow","prevent","confirm","fromBrowser","providedState","replaceState","lastAction","responseHandler","createNavigation","nextAction","replaceNav","pushNav","prepare","to","navType","currentLocation","emitNavigation","cancelPending","navigateWith","browserHistory","pushState","reverting","popstate","navigator","ignorablePopstateEvent","diff","revert","go","num","mappedRoutes","prepared","createRoute","beginning","fullPath","withTrailingSlash","pathOptions","matchOptions","compile","compileOptions","PathToRegexp","keyNames","childRoutes","child","compiled","extra","len","matchLocation","prepareRoutes","redirectToNewUrl","mapOldToNewUrl","emptyRoot","hasBase","createBase","querystring","qs","originalUrl","scrollRestoration","previousValues","unsafeHTML","date","actualDate","Date","formatDate","ut","App","_route","_notificationsRoot","_menu","_isMobile","ready","_unwatch","_closeMenu","onUpdate","ql","matchMedia","onchange","watchMedia","disconnectedCallback","unwatch","shadowRoot","_toggleMenu","toggle","close","notify","notification","onClick","getElementById","_renderDrawerMenu","menu","_getLayout","AppRoot","theme","layout","gridCss","Footer","getFullYear","year","mdCss","Header","_isCompactSearch","_emitToggleMenu","bubbles","composed","_renderControls","_toggleSearch","_renderMenuToggler","changed","Link","active","_url","_unwatchRouter","_isActive","_getUrl","_navigate","isUrlChanged","some","_generateUrl","classList","ctrlKey","preventDefault","Menu","_renderNav","navClass","heading","renderNavItem","_renderItemNav","expanded","ArticleDetails","article","createdAt","author","commentsCount","I18nElement","_unwatchLang","_locale","reload","requestUpdate","cName","setTitle","setMeta","defaultValue","head","getMetaTag","setRouteMeta","documentElement","translationExists","scrollToElement","root","scrollIntoView","scrollTop","renderContent","Page","_page","clickedTarget","closest","href","tryToNavigateElement","keywords","setPageMeta","scroll","scrollToSectionIn","pageCss","codeCss","PageNav","pageType","_linkTo","features","renderFeature","HomePage","btnCss","createElementInDocument","tag","useXHR","useShadowDOM","onEvent","func","attachEvent","offEvent","detachEvent","widgetColorSchemes","light","dark","getColorSchemeMediaQuery","systemColorScheme","widgetColorScheme","getColorScheme","declarations","colorSchemes","sep","eq","entry","mark-github","width","height","heart","eye","star","repo-forked","repo-template","issue-opened","cloud-download","queues","onceToken","dispatchOnce","contentWindow","script","src","onloadend","readyState","regex","onceReadyStateChange","getElementsByTagName","ownerDocument","icon","btn","className","rel","aria-label","widget","domain","hostname","reverse","property","api","html_url","devicePixelRatio","ceilPixel","px","render$1","anchor","innerText","parseOptions","iframe","allowtransparency","scrolling","frameBorder","border","offsetWidth","offsetHeight","getBoundingClientRect","boundingClientRect","onceEvent","iframeURL","GithubButton","showCount","_collectOptions","replaceChild","SUGGESTION_TEMPLATES","dropdown","headings","ICON_SEARCH","ICON_ARROW","QuickSearch","suggestionsType","compact","toggler","_suggestions","_clickOutside","_search","timeout","timerId","clearTimeout","debounce","_setValue","trim","_reset","contains","_updateValue","_emitIconClick","renderSuggestion","renderSuggestions","LangPicker","_changeLang","PAYMENT_OPTIONS","liqpay","image","PAYMENT_NAMES","OneTimeDonations","selected","_setSelected","option","renderPaymentOption","PagesByCategories","AppNotification","requestAnimationFrame","webkitRequestAnimationFrame","r","msPointerEnabled","u","move","panel","eventsEmitter","touch","side","easing","M","parseInt","duration","T","tolerance","g","padding","innerWidth","I","S","on","X","isOpen","D","K","touches","pageX","clientWidth","U","W","abs","q","clientX","enableTouch","disableTouch","MenuDrawer","_drawer","disabled","_scrollTop","_createDrawer","Slideout","pageYOffset","top","switchEnable","components","AppFooter","AppHeader","AppLink","AppMenu","isLocalhost","isSupportedServiceWorker","registerValidSW","swUrl","isRefreshing","serviceWorker","register","registration","onupdatefound","worker","onstatechange","controller","onSuccess","notifyAboutNewWorker","installing","catch","__isAppExecuted__","app","selector","define","bootstrap","contentType","unregister","checkValidServiceWorker"],"mappings":"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"}